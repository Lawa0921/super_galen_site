# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## å°ˆæ¡ˆæ¦‚è¿°

é€™æ˜¯ä¸€å€‹çµåˆ **Astro éœæ…‹ç¶²ç«™** + **RPG éŠæˆ²åŒ–ä»‹é¢** + **Web3/å€å¡Šéˆæ•´åˆ** çš„å…¨ç«¯é–‹ç™¼è€…ä½œå“é›†éƒ¨è½æ ¼ã€‚

**æ ¸å¿ƒç‰¹è‰²**ï¼š
- ğŸ® **RPG é¢¨æ ¼äº’å‹•ä»‹é¢**ï¼šå®Œæ•´çš„è§’è‰²ç‹€æ…‹ç³»çµ±ã€æŠ€èƒ½æ¨¹ã€ç‰©å“æ¬„ã€æˆå°±ç³»çµ±
- â›“ï¸ **å€å¡Šéˆæ•´åˆ**ï¼šå¯å‡ç´šçš„ ERC-20 ä»£å¹£æ™ºèƒ½åˆç´„ï¼ˆSuperGalenTokenï¼‰èˆ‡ DApp ä»‹é¢
- ğŸŒ **å®Œæ•´ i18n æ”¯æ´**ï¼šæ”¯æ´ç¹ä¸­ã€ç°¡ä¸­ã€è‹±ã€æ—¥ã€éŸ“äº”ç¨®èªè¨€
- ğŸ“ **æŠ€è¡“éƒ¨è½æ ¼**ï¼š26+ ç¯‡æŠ€è¡“æ–‡ç« ï¼Œæ¶µè“‹ Web3ã€å‰ç«¯ã€å¾Œç«¯ä¸»é¡Œ
- ğŸš€ **ç¾ä»£åŒ–æ¶æ§‹**ï¼šAstro + TypeScript + Vite HMR

## æŠ€è¡“æ£§

### å‰ç«¯
- **æ¡†æ¶**ï¼šAstro 5.xï¼ˆéœæ…‹ç¶²ç«™ç”Ÿæˆï¼‰
- **èªè¨€**ï¼šTypeScriptã€Vanilla JavaScript (ES6+)
- **æ¨£å¼**ï¼šSCSS æ¨¡çµ„åŒ–æ¶æ§‹ï¼ˆ30+ partialsï¼‰
- **ç‰¹æ•ˆ**ï¼šCanvas æŠ€èƒ½æ¨¹ã€CSS å‹•ç•«ã€åƒç´ é¢¨æ ¼è¨­è¨ˆ
- **å¤šèªç³»**ï¼šTypeScript i18n ç³»çµ± + JSON å‹•æ…‹è¼‰å…¥

### å€å¡Šéˆ
- **æ™ºèƒ½åˆç´„**ï¼šSolidityï¼ˆSuperGalenTokenV1 å¯å‡ç´š UUPS æ¨¡å¼ï¼‰
- **é–‹ç™¼æ¡†æ¶**ï¼šHardhat 2.26.x
- **Web3 å‡½å¼åº«**ï¼šethers.js v6.15
- **å‡ç´šæ¨¡å¼**ï¼šOpenZeppelin UUPS Proxy
- **æ¸¬è©¦**ï¼šHardhat + Chaiï¼ˆ2 å€‹æ¸¬è©¦æª”æ¡ˆï¼Œ76 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼‰
- **æ”¯æ´ç¶²è·¯**ï¼šLocalhost (31337)ã€Polygon (137)

### æ¸¬è©¦
- **E2E æ¸¬è©¦**ï¼šPlaywrightï¼ˆè·¨ç€è¦½å™¨æ¸¬è©¦ï¼‰
- **å–®å…ƒæ¸¬è©¦**ï¼šVitest
- **æ™ºèƒ½åˆç´„æ¸¬è©¦**ï¼šHardhat + Chai

### é–‹ç™¼å·¥å…·
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit + GitHub
- **å¥—ä»¶ç®¡ç†**ï¼šnpm
- **éƒ¨ç½²å¹³å°**ï¼šVercel
- **ç¨‹å¼ç¢¼å“è³ª**ï¼šSolhintï¼ˆSolidity Linterï¼‰ã€TypeScript

## é–‹ç™¼æŒ‡ä»¤

### å¿«é€Ÿå•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰

```bash
# ä¸€éµå•Ÿå‹•å®Œæ•´é–‹ç™¼ç’°å¢ƒï¼ˆHardhat + åˆç´„éƒ¨ç½² + Astroï¼‰
./dev
```

é€™å€‹è…³æœ¬æœƒè‡ªå‹•ï¼š
1. å•Ÿå‹• Hardhat æœ¬åœ°ç¯€é»ï¼ˆç«¯å£ 8545ï¼‰
2. éƒ¨ç½²æ™ºèƒ½åˆç´„åˆ°æœ¬åœ°ç¶²è·¯
3. å•Ÿå‹• Astro é–‹ç™¼ä¼ºæœå™¨ï¼ˆç«¯å£ 4321ï¼‰
4. é¡¯ç¤ºæ¸¬è©¦å¸³æˆ¶èˆ‡åˆç´„åœ°å€

æŒ‰ `Ctrl+C` å¯åœæ­¢æ‰€æœ‰æœå‹™ã€‚

### Astro é–‹ç™¼

```bash
# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆHMR è‡ªå‹•é‡è¼‰ï¼‰
npm run dev

# ç·¨è­¯ç‚ºç”Ÿç”¢ç’°å¢ƒ
npm run build

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview
```

**è¨ªå•åœ°å€**ï¼šhttp://localhost:4321

### å€å¡Šéˆé–‹ç™¼

```bash
# ç·¨è­¯æ™ºèƒ½åˆç´„
npm run compile

# åŸ·è¡Œæ‰€æœ‰åˆç´„æ¸¬è©¦ï¼ˆ76 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼‰
npm run test:contracts

# å•Ÿå‹•æœ¬åœ°å€å¡Šéˆç¯€é»ï¼ˆHardhat Networkï¼‰
npm run node

# éƒ¨ç½²åˆ°æœ¬åœ°ç¶²è·¯ï¼ˆéœ€åœ¨å¦ä¸€å€‹çµ‚ç«¯æ©Ÿå…ˆå•Ÿå‹•ç¯€é»ï¼‰
npm run deploy:local

# éƒ¨ç½²åˆ° Polygon ä¸»ç¶²ï¼ˆéœ€è¦ .env è¨­å®šï¼‰
npm run deploy:polygon

# åŸ·è¡Œ Solidity Linter
npx solhint 'blockchain/contracts/**/*.sol'
```

### æ¸¬è©¦

```bash
# åŸ·è¡Œå–®å…ƒæ¸¬è©¦
npm run test

# åŸ·è¡Œå–®å…ƒæ¸¬è©¦ï¼ˆUI æ¨¡å¼ï¼‰
npm run test:unit:ui

# åŸ·è¡Œ E2E æ¸¬è©¦
npm run test:e2e

# åŸ·è¡Œ E2E æ¸¬è©¦ï¼ˆUI æ¨¡å¼ï¼‰
npm run test:e2e:ui

# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test:all
```

### i18n ç³»çµ±

**æ¶æ§‹**ï¼š
- **ä¼ºæœå™¨ç«¯**ï¼š`src/i18n/translations/*.ts`ï¼ˆTypeScript ç¿»è­¯æª”æ¡ˆï¼‰
- **å®¢æˆ¶ç«¯**ï¼š`public/assets/i18n/*.json`ï¼ˆå‰ç«¯ JavaScript è¼‰å…¥ï¼‰

**ä½¿ç”¨æ–¹å¼**ï¼š
- **Astro çµ„ä»¶**ï¼š`import { t } from '../i18n'; t('key.path')`
- **HTML æ–‡å­—**ï¼š`<span data-i18n="key.path">é è¨­æ–‡å­—</span>`
- **JavaScript**ï¼š`window.i18n.t('key.path')`

## æª”æ¡ˆçµæ§‹

```
my-portfolio-blog-astro/
â”œâ”€â”€ dev                          # ä¸€éµå•Ÿå‹•å®Œæ•´é–‹ç™¼ç’°å¢ƒè…³æœ¬
â”œâ”€â”€ astro.config.mjs             # Astro é…ç½®
â”œâ”€â”€ vercel.json                  # Vercel éƒ¨ç½²é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/              # Astro çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/              # ç‰ˆé¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ rpg/                 # RPG ä»‹é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ i18n/                # èªè¨€åˆ‡æ›çµ„ä»¶
â”‚   â”‚   â””â”€â”€ web3/                # Web3 çµ„ä»¶
â”‚   â”œâ”€â”€ content/
â”‚   â”‚   â””â”€â”€ blog/                # éƒ¨è½æ ¼æ–‡ç« ï¼ˆMarkdownï¼‰
â”‚   â”œâ”€â”€ i18n/
â”‚   â”‚   â”œâ”€â”€ translations/        # TypeScript ç¿»è­¯æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ index.ts             # i18n å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ [lang]/              # å¤šèªè¨€è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ guild/               # å…¬æœƒé é¢
â”‚   â”‚   â””â”€â”€ journal/             # æ—¥èªŒé é¢
â”‚   â”œâ”€â”€ scripts/                 # TypeScript è…³æœ¬
â”‚   â””â”€â”€ styles/                  # SCSS æ¨£å¼æª”æ¡ˆ
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ assets/                  # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ i18n/                # å‰ç«¯ JSON ç¿»è­¯æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ images/              # åœ–ç‰‡
â”‚   â”‚   â””â”€â”€ video/               # å½±ç‰‡
â”‚   â”œâ”€â”€ scripts/                 # å‰ç«¯ JavaScript
â”‚   â””â”€â”€ guild/                   # Guild æˆå“¡éœæ…‹é é¢
â”œâ”€â”€ blockchain/
â”‚   â”œâ”€â”€ contracts/               # Solidity æ™ºèƒ½åˆç´„
â”‚   â”œâ”€â”€ scripts/                 # éƒ¨ç½²è…³æœ¬
â”‚   â”œâ”€â”€ test/                    # åˆç´„æ¸¬è©¦
â”‚   â””â”€â”€ deployments/             # éƒ¨ç½²è¨˜éŒ„
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ e2e/                     # Playwright E2E æ¸¬è©¦
â”œâ”€â”€ hardhat.config.js            # Hardhat é…ç½®
â”œâ”€â”€ playwright.config.ts         # Playwright é…ç½®
â”œâ”€â”€ vitest.config.ts             # Vitest é…ç½®
â””â”€â”€ package.json                 # npm ä¾è³´
```

## æ¶æ§‹æ¦‚è¦½

### å‰ç«¯æ¶æ§‹

**Astro çµ„ä»¶çµæ§‹**ï¼š
- `BaseLayout.astro`ï¼šåŸºç¤ç‰ˆé¢ï¼ˆåŒ…å« SEOã€è…³æœ¬è¼‰å…¥ï¼‰
- `StatusBar.astro`ï¼šRPG ç‹€æ…‹åˆ—
- `GameTabs.astro`ï¼š8 å€‹äº’å‹•é ç±¤
- `SkillTreePanel.astro`ï¼šCanvas æŠ€èƒ½æ¨¹
- å…¶ä»– RPG é¢æ¿çµ„ä»¶

**æ ¸å¿ƒç®¡ç†å™¨ï¼ˆå–®ä¾‹æ¨¡å¼ï¼‰**ï¼š
- `GameStateManager`ï¼šé€é Cookie æŒä¹…åŒ–ç©å®¶ç‹€æ…‹ï¼ˆHP/MP/SP/Goldï¼‰
- `I18nManager`ï¼šå¤šèªè¨€æ”¯æ´ï¼Œå‹•æ…‹è¼‰å…¥ç¿»è­¯
- `UnifiedWalletManager`ï¼šWeb3 éŒ¢åŒ…é€£æ¥ï¼ˆç´” ethers.jsï¼‰
- `SGTPurchaseManager`ï¼šä»£å¹£è³¼è²·æµç¨‹
- `NetworkMonitor`ï¼šChain ID åµæ¸¬èˆ‡ç¶²è·¯åˆ‡æ›

### å€å¡Šéˆæ¶æ§‹

**æ™ºèƒ½åˆç´„**ï¼š
- `SuperGalenTokenV1.sol`ï¼šå¯å‡ç´š ERC20 ä»£å¹£ï¼ˆUUPS æ¨¡å¼ï¼‰
  - è³¼è²·æ©Ÿåˆ¶ã€æ™‚é–“é–ã€è§’è‰²è¨ªå•æ§åˆ¶ã€é»‘åå–®ã€æœ€å¤§ä¾›æ‡‰é‡é™åˆ¶
- `MockUSDT.sol`ï¼šæœ¬åœ°é–‹ç™¼ç”¨ USDT æ¨¡æ“¬åˆç´„

**éƒ¨ç½²é…ç½®**ï¼š
- **Localhost (31337)**ï¼šMockUSDT + æ¸¬è©¦å¸³æˆ¶
- **Polygon (137)**ï¼šçœŸå¯¦ USDT

### RPG éŠæˆ²ç³»çµ±

**8 å€‹ä¸»è¦äº’å‹•é ç±¤**ï¼š
1. **ç‹€æ…‹**ï¼šå±¬æ€§é»æ•¸èˆ‡å¢æ¸›ç›Šæ•ˆæœ
2. **æŠ€èƒ½**ï¼šCanvas æŠ€èƒ½æ¨¹ï¼ˆ5 å¤§åˆ†æ”¯ï¼‰
3. **æ•…äº‹**ï¼šå€‹äººç°¡ä»‹èˆ‡è·æ¶¯æ™‚é–“è»¸
4. **ç‰©å“**ï¼šDiablo 2 é¢¨æ ¼è£å‚™æ¬„
5. **æˆå°±**ï¼š14 å€‹æˆå°±ç³»çµ±
6. **å¤¥ä¼´**ï¼šåœ˜éšŠæˆå“¡å±•ç¤º
7. **è³¼è²·**ï¼šSGT ä»£å¹£è³¼è²·ä»‹é¢
8. **æ—¥èªŒ**ï¼šéƒ¨è½æ ¼æ–‡ç« åˆ—è¡¨

## é—œéµæ³¨æ„äº‹é …

### æ•ˆèƒ½å„ªåŒ–
- **Vite HMR**ï¼šé–‹ç™¼æ™‚å³æ™‚æ›´æ–°
- **éœæ…‹ç”Ÿæˆ**ï¼šæ‰€æœ‰é é¢é å…ˆç”Ÿæˆ
- **è³‡æºå„ªåŒ–**ï¼šAstro è‡ªå‹•è™•ç† CSS/JS æ‰“åŒ…

### å®‰å…¨æ€§
- **çµ•ä¸æäº¤ `.env`**ï¼šåŒ…å«ç§é‘°ï¼Œå·²åœ¨ `.gitignore`
- **æ™ºèƒ½åˆç´„å®‰å…¨**ï¼šæ™‚é–“é–ã€è§’è‰²æ§åˆ¶ã€æš«åœæ©Ÿåˆ¶

### CSS æ¶æ§‹
- **SCSS æ¨¡çµ„åŒ–**ï¼š30+ partials
- **çµ•ä¸ä½¿ç”¨ `!important`**
- **ç¦æ­¢è¡Œå…§æ¨£å¼**

### é–‹ç™¼å·¥ä½œæµç¨‹

1. **ä¿®æ”¹ç¿»è­¯**ï¼š
   - ä¼ºæœå™¨ç«¯ï¼šç·¨è¼¯ `src/i18n/translations/*.ts`
   - å®¢æˆ¶ç«¯ï¼šç·¨è¼¯ `public/assets/i18n/*.json`

2. **ä¿®æ”¹æ™ºèƒ½åˆç´„**ï¼š
   - ç·¨è¼¯ `blockchain/contracts/*.sol`
   - åŸ·è¡Œ `npm run compile`
   - åŸ·è¡Œ `npm run test:contracts`
   - é‡æ–°éƒ¨ç½²ï¼š`npm run deploy:local`

3. **ä¿®æ”¹å‰ç«¯**ï¼š
   - Astro æœƒè‡ªå‹• HMR é‡è¼‰

4. **æ–°å¢éƒ¨è½æ ¼æ–‡ç« **ï¼š
   - åœ¨ `src/content/blog/` æ–°å¢ `YYYY-MM-DD-title.md`

### æ¸¬è©¦ç­–ç•¥
- **æ™ºèƒ½åˆç´„**ï¼š76 å€‹æ¸¬è©¦æ¡ˆä¾‹
- **E2E æ¸¬è©¦**ï¼šPlaywright è·¨ç€è¦½å™¨æ¸¬è©¦
- **å–®å…ƒæ¸¬è©¦**ï¼šVitest

### Git å·¥ä½œæµç¨‹
- **æäº¤è¨Šæ¯æ ¼å¼**ï¼šConventional Commits
- **æœ«å°¾ç½²å**ï¼š`Co-Authored-By: Claude <noreply@anthropic.com>`

## è¯çµ¡è³‡è¨Š

- **GitHub**: [@Lawa0921](https://github.com/Lawa0921)
- **ç¶²ç«™**: https://supergalen.com
- **Email**: bag571ivy3470@gmail.com
- **Discord**: https://discord.gg/QRyTagwSSF

---

**æœ€å¾Œæ›´æ–°**ï¼š2026-01-31
**å°ˆæ¡ˆç‹€æ…‹**ï¼šğŸŸ¢ æ´»èºé–‹ç™¼ä¸­
**éƒ¨ç½²ç‹€æ…‹**ï¼šğŸŒ å·²éƒ¨ç½²è‡³ Vercel
