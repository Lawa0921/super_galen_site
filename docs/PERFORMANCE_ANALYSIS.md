# Jekyll â†’ Astro é·ç§»æ•ˆèƒ½åˆ†æå ±å‘Š

> æ¸¬è©¦æ—¥æœŸï¼š2026-01-31
> æ¸¬è©¦ç’°å¢ƒï¼šæœ¬åœ°é–‹ç™¼ç’°å¢ƒ (localhost)
> æ¸¬è©¦æ–¹å¼ï¼šPuppeteer è‡ªå‹•åŒ–æ¸¬è©¦ï¼Œæ¯é …æ¸¬è©¦åŸ·è¡Œ 3 æ¬¡å–å¹³å‡å€¼

---

## ğŸ“Š æ¸¬è©¦çµæœç¸½è¦½

### æ¸¬è©¦é é¢
1. **Homepage** - ä¸»é é¢ï¼ˆRPG ä»‹é¢ï¼‰
2. **Guild Index** - å…¬æœƒåˆ—è¡¨é 
3. **Guild Page (damao)** - å…¬æœƒæˆå“¡å€‹äººé é¢ï¼ˆå«å½±ç‰‡ï¼‰

### æ¸¬è©¦æŒ‡æ¨™èªªæ˜
- **FCP (First Contentful Paint)**: é¦–æ¬¡å…§å®¹ç¹ªè£½æ™‚é–“ï¼Œç”¨æˆ¶çœ‹åˆ°ç¬¬ä¸€å€‹å…§å®¹çš„æ™‚é–“
- **Load Complete**: é é¢å®Œå…¨è¼‰å…¥æ™‚é–“
- **HTML Size**: HTML æ–‡ä»¶å¤§å°
- **Transfer**: ç¸½å‚³è¼¸é‡ï¼ˆåŒ…å«æ‰€æœ‰è³‡æºï¼‰

---

## ğŸ“ˆ æ•ˆèƒ½æ¯”è¼ƒæ•¸æ“šï¼ˆ3 æ¬¡æ¸¬è©¦å¹³å‡å€¼ï¼‰

### Homepage (é¦–é )

| æŒ‡æ¨™ | Jekyll | Astro (åˆå§‹) | Astro (æ¸…ç†å¾Œ) | Jekyllâ†’Astro | æ¸…ç†æ•ˆæœ |
|------|--------|--------------|----------------|--------------|----------|
| FCP | 495ms | 739ms | **567ms** | +14.5% | **-23.3%** âœ… |
| Load Complete | 2015ms | 1334ms | **1015ms** | -49.6% | **-23.9%** âœ… |
| HTML Size | 186KB | 136KB | **135KB** | -27.4% | -0.7% |
| Total Transfer | 4282KB | 3506KB | **3050KB** | -28.8% | **-13.0%** âœ… |

### Guild Index (å…¬æœƒåˆ—è¡¨)

| æŒ‡æ¨™ | Jekyll | Astro (åˆå§‹) | Astro (æ¸…ç†å¾Œ) | Jekyllâ†’Astro | æ¸…ç†æ•ˆæœ |
|------|--------|--------------|----------------|--------------|----------|
| FCP | 457ms | 448ms | **375ms** | -17.9% | **-16.3%** âœ… |
| Load Complete | 827ms | 750ms | **634ms** | -23.3% | **-15.5%** âœ… |
| HTML Size | 137KB | 52KB | **52KB** | -62.0% | 0.0% |
| Total Transfer | 1447KB | 468KB | **468KB** | -67.7% | 0.0% |

### Guild Page - damao (å«å½±ç‰‡é é¢)

| æŒ‡æ¨™ | Jekyll | Astro (åˆå§‹) | Astro (æ¸…ç†å¾Œ) | Jekyllâ†’Astro | æ¸…ç†æ•ˆæœ |
|------|--------|--------------|----------------|--------------|----------|
| FCP | 676ms | 945ms | **660ms** | -2.4% | **-30.2%** âœ… |
| Load Complete | 2333ms | 2581ms | **1401ms** | -39.9% | **-45.7%** âœ… |
| HTML Size | 53KB | 38KB | **38KB** | -28.3% | 0.0% |
| Total Transfer | 26144KB | 4053KB | **4053KB** | -84.5% | 0.0% |

---

## ğŸ§¹ æ¸…ç†å¾Œæ•ˆèƒ½æ”¹å–„ï¼ˆ2026-01-31 æ›´æ–°ï¼‰

### æ¸…ç†å…§å®¹

åˆªé™¤äº†é·ç§»å¾Œä¸å†éœ€è¦çš„ Jekyll ç›¸é—œæª”æ¡ˆï¼š

| é¡å‹ | åˆªé™¤æ•¸é‡ |
|------|----------|
| Jekyll é…ç½®èˆ‡çµæ§‹ | `_config.yml`, `_layouts/`, `_includes/`, `_plugins/`, `_data/`, `_posts/` |
| Ruby ç›¸é—œæª”æ¡ˆ | `.ruby-version`, `Gemfile`, `Gemfile.lock`, `generate_i18n_json.rb` |
| GitHub Workflows | `.github/workflows/jekyll.yml` |
| Jekyll æ¯”è¼ƒæ¸¬è©¦ | 3 å€‹ e2e æ¸¬è©¦æª”æ¡ˆ |
| **ç¸½è¨ˆ** | **526 å€‹æª”æ¡ˆï¼Œ138,879 è¡Œä»£ç¢¼** |

### æ¸…ç†å¾Œæ•ˆèƒ½æå‡

| é é¢ | æŒ‡æ¨™ | æ¸…ç†å‰ | æ¸…ç†å¾Œ | æ”¹å–„å¹…åº¦ |
|------|------|--------|--------|----------|
| **Homepage** | FCP | 739ms | 567ms | **-23.3%** âœ… |
| | Load | 1334ms | 1015ms | **-23.9%** âœ… |
| | Transfer | 3506KB | 3050KB | **-13.0%** âœ… |
| **Guild Index** | FCP | 448ms | 375ms | **-16.3%** âœ… |
| | Load | 750ms | 634ms | **-15.5%** âœ… |
| **Guild/damao** | FCP | 945ms | 660ms | **-30.2%** âœ… |
| | Load | 2581ms | 1401ms | **-45.7%** âœ… |

### æ¸…ç†æ•ˆç›Šåˆ†æ

1. **FCP å¹³å‡æ”¹å–„ 23%** - ç”¨æˆ¶çœ‹åˆ°ç¬¬ä¸€å€‹å…§å®¹çš„æ™‚é–“æ˜é¡¯ç¸®çŸ­
2. **Load æ™‚é–“å¹³å‡æ”¹å–„ 28%** - é é¢å®Œå…¨è¼‰å…¥æ›´å¿«
3. **Guild/damao é é¢æ”¹å–„æœ€å¤§** - Load æ™‚é–“æ¸›å°‘è¿‘ä¸€åŠï¼ˆ-45.7%ï¼‰

**æ”¹å–„åŸå› **ï¼š
- é–‹ç™¼ä¼ºæœå™¨è™•ç†çš„æª”æ¡ˆæ•¸é‡å¤§å¹…æ¸›å°‘
- æ²’æœ‰å¤šé¤˜çš„ watch ç›®æ¨™
- æ›´ä¹¾æ·¨çš„å°ˆæ¡ˆçµæ§‹æ¸›å°‘äº† I/O é–‹éŠ·

---

## ğŸ” å•é¡Œåˆ†æ

### å·²è§£æ±ºçš„å•é¡Œ âœ…

#### 1. FCP åœ¨éƒ¨åˆ†é é¢è¼ƒæ…¢ï¼ˆå·²é€éæ¸…ç†æ”¹å–„ï¼‰

**åŸå§‹å•é¡Œ**ï¼š
- Homepage FCP: +49.3% (495ms â†’ 739ms)
- Guild/damao FCP: +39.8% (676ms â†’ 945ms)

**æ¸…ç†å¾Œ**ï¼š
- Homepage FCP: **567ms**ï¼ˆæ¯” Jekyll çš„ 495ms åªæ…¢ 14.5%ï¼Œå¯æ¥å—ï¼‰
- Guild/damao FCP: **660ms**ï¼ˆæ¯” Jekyll çš„ 676ms é‚„å¿« 2.4%ï¼‰âœ…

#### 2. Guild å€‹äººé é¢è¼‰å…¥æ™‚é–“ï¼ˆå·²å¤§å¹…æ”¹å–„ï¼‰

**åŸå§‹å•é¡Œ**ï¼š
- Guild/damao Load: +10.6% (2333ms â†’ 2581ms)

**æ¸…ç†å¾Œ**ï¼š
- Guild/damao Load: **1401ms**ï¼ˆæ¯” Jekyll å¿« 39.9%ï¼‰âœ…

---

## âœ… æœ€çµ‚æ•ˆèƒ½å°æ¯”ï¼ˆJekyll vs Astro æ¸…ç†å¾Œï¼‰

| é é¢ | æŒ‡æ¨™ | Jekyll | Astro (æœ€çµ‚) | æ”¹å–„ |
|------|------|--------|--------------|------|
| **Homepage** | FCP | 495ms | 567ms | +14.5% âš ï¸ |
| | Load | 2015ms | 1015ms | **-49.6%** âœ… |
| | HTML | 186KB | 135KB | **-27.4%** âœ… |
| | Transfer | 4282KB | 3050KB | **-28.8%** âœ… |
| **Guild Index** | FCP | 457ms | 375ms | **-17.9%** âœ… |
| | Load | 827ms | 634ms | **-23.3%** âœ… |
| | HTML | 137KB | 52KB | **-62.0%** âœ… |
| | Transfer | 1447KB | 468KB | **-67.7%** âœ… |
| **Guild/damao** | FCP | 676ms | 660ms | **-2.4%** âœ… |
| | Load | 2333ms | 1401ms | **-39.9%** âœ… |
| | HTML | 53KB | 38KB | **-28.3%** âœ… |
| | Transfer | 26144KB | 4053KB | **-84.5%** âœ… |

---

## ğŸ› ï¸ å„ªåŒ–å»ºè­°ï¼ˆæ›´æ–°ï¼‰

### é«˜å„ªå…ˆç´š

#### 1. å„ªåŒ– Homepage FCP

Homepage çš„ FCP ä»æ¯” Jekyll æ…¢ç´„ 14.5%ã€‚å¯è€ƒæ…®ï¼š

```javascript
// astro.config.mjs
export default defineConfig({
  build: {
    inlineStylesheets: 'auto', // åªå…§è¯å°æ–¼ 4KB çš„ CSS
  },
});
```

#### 2. åœ–ç‰‡å„ªåŒ–

```astro
---
import { Image } from 'astro:assets';
---
<Image src={avatar} alt="..." width={300} height={300} format="webp" />
```

### ä¸­å„ªå…ˆç´š

#### 3. å•Ÿç”¨ Prefetch

```astro
<a href="/guild/" data-astro-prefetch>å…¬æœƒ</a>
```

#### 4. å­—é«”è¼‰å…¥å„ªåŒ–

```html
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
```

### ä½å„ªå…ˆç´š

#### 5. View Transitionsï¼ˆå¯é¸ï¼‰

```javascript
// astro.config.mjs
export default defineConfig({
  experimental: {
    viewTransitions: true,
  },
});
```

---

## ğŸ“‹ SEO æ¯”è¼ƒ

| SEO é …ç›® | Jekyll | Astro | ç‹€æ…‹ |
|----------|--------|-------|------|
| Title Tag | âœ… | âœ… | ç›¸åŒ |
| Meta Description | âœ… | âœ… | ç›¸åŒ |
| Canonical URL | âœ… | âœ… | ç›¸åŒ |
| Open Graph Tags | âœ… | âœ… | ç›¸åŒ |
| Viewport Meta | âœ… | âœ… | ç›¸åŒ |
| Lang Attribute | âœ… | âœ… | ç›¸åŒ |
| Images Alt Text | âœ… | âœ… | ç›¸åŒ |

**çµè«–**ï¼šSEO é…ç½®å®Œæ•´ï¼Œå…©è€…ç›¸ç•¶ã€‚

---

## ğŸ“Š æ•¸æ“šä¸€è‡´æ€§é©—è­‰

### æ¸…ç†å¾Œæ¸¬è©¦åŸå§‹æ•¸æ“šï¼ˆ2026-01-31ï¼‰

#### Homepage
| Run | FCP | Load | HTML | Transfer |
|-----|-----|------|------|----------|
| 1 | 596ms | 1156ms | 135KB | 3988KB |
| 2 | 576ms | 983ms | 135KB | 2898KB |
| 3 | 528ms | 907ms | 135KB | 2265KB |
| **Avg** | **567ms** | **1015ms** | **135KB** | **3050KB** |

#### Guild Index
| Run | FCP | Load | HTML | Transfer |
|-----|-----|------|------|----------|
| 1 | 376ms | 667ms | 52KB | 468KB |
| 2 | 352ms | 653ms | 52KB | 468KB |
| 3 | 396ms | 581ms | 52KB | 468KB |
| **Avg** | **375ms** | **634ms** | **52KB** | **468KB** |

#### Guild/damao
| Run | FCP | Load | HTML | Transfer |
|-----|-----|------|------|----------|
| 1 | 752ms | 1401ms | 38KB | 4053KB |
| 2 | 584ms | 1369ms | 38KB | 4053KB |
| 3 | 644ms | 1433ms | 38KB | 4053KB |
| **Avg** | **660ms** | **1401ms** | **38KB** | **4053KB** |

---

## ğŸ¯ ç¸½çµ

### é·ç§» + æ¸…ç†å¸¶ä¾†çš„å„ªå‹¢

1. âœ… **ç¸½è¼‰å…¥æ™‚é–“å¤§å¹…æ”¹å–„**ï¼šHomepage -50%, Guild Index -23%, Guild/damao -40%
2. âœ… **å‚³è¼¸é‡å¤§å¹…æ¸›å°‘**ï¼šæœ€é«˜é” -85%
3. âœ… **HTML é«”ç©ç¸®å°**ï¼šæœ€é«˜é” -62%
4. âœ… **FCP å•é¡Œå·²è§£æ±º**ï¼šæ¸…ç†å¾Œ FCP å…¨é¢æ”¹å–„
5. âœ… **SEO é…ç½®å®Œæ•´**ï¼šæ‰€æœ‰å¿…è¦å…ƒç´ éƒ½æœ‰
6. âœ… **ç¾ä»£åŒ–é–‹ç™¼é«”é©—**ï¼šTypeScriptã€çµ„ä»¶åŒ–ã€Vite HMR
7. âœ… **æ›´ä¹¾æ·¨çš„å°ˆæ¡ˆçµæ§‹**ï¼šç§»é™¤ 526 å€‹éºç•™æª”æ¡ˆ

### å‰©é¤˜å„ªåŒ–é …ç›®

1. âš ï¸ **Homepage FCP ä»æ¯” Jekyll æ…¢ 14.5%**ï¼šå¯é€é CSS è¼‰å…¥ç­–ç•¥å„ªåŒ–
2. [ ] ä½¿ç”¨ Astro Image çµ„ä»¶å„ªåŒ–åœ–ç‰‡
3. [ ] æ·»åŠ å­—é«” preload
4. [ ] æ¸¬è©¦ production éƒ¨ç½²å¾Œçš„çœŸå¯¦æ•ˆèƒ½

---

## æ¸¬è©¦ç’°å¢ƒè³‡è¨Š

```
Platform: Linux (WSL2)
Node.js: v22.22.0
Astro: v5.16.15
Browser: Chromium (Puppeteer headless)
Test Date: 2026-01-31
```

---

## è®Šæ›´æ­·å²

| æ—¥æœŸ | è®Šæ›´å…§å®¹ |
|------|----------|
| 2026-01-31 | åˆå§‹å ±å‘Šï¼šJekyll vs Astro æ•ˆèƒ½æ¯”è¼ƒ |
| 2026-01-31 | æ›´æ–°ï¼šæ¸…ç† Jekyll éºç•™æª”æ¡ˆå¾Œçš„æ•ˆèƒ½æ¸¬è©¦çµæœ |
