<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leya | The Starship Log</title>
    <meta name="description" content="Leya - 漂泊的勇敢靈魂，為你繪製靈魂星圖與旅程。">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+TC:wght@300;500;700&family=La+Belle+Aurore&family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

    <style>
        :root {
            --bg-void: #0b0c15;
            --c-gold: #d4af37;
            --c-text: #e0e0e0;
            --c-accent: #5e60ce; /* Deep Cosmic Blue/Purple */
            --c-paper: rgba(255, 255, 255, 0.05);
            --font-display: 'Cinzel', serif;
            --font-body: 'Noto Serif TC', serif;
            --font-mono: 'Space Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-void);
            color: var(--c-text);
            font-family: var(--font-body);
            overflow-x: hidden;
            overflow-y: auto; /* Vertical scroll drives horizontal */
            width: 100vw;
            cursor: none; /* Custom cursor */
        }

        /* Hide Scrollbar */
        ::-webkit-scrollbar { width: 0px; background: transparent; }

        /* --- Layers --- */
        #p5-starfield {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        #horizontal-track {
            display: flex;
            flex-wrap: nowrap;
            width: 500vw; /* 5 Panels */
            height: 100vh;
            position: relative;
            z-index: 10;
        }

        /* --- Custom Cursor (Compass) --- */
        #compass-cursor {
            position: fixed;
            top: 0; left: 0;
            width: 40px; height: 40px;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
        }

        .compass-needle {
            position: absolute;
            top: 50%; left: 50%;
            width: 40px; height: 2px;
            background: var(--c-gold);
            transform-origin: center;
        }

        .compass-ring {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            border: 1px solid var(--c-gold);
            border-radius: 50%;
            opacity: 0.5;
        }

        /* --- Layout Components --- */
        .panel {
            width: 100vw;
            height: 100vh;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 5vw;
        }

        /* Typography */
        h1 {
            font-family: var(--font-display);
            font-size: clamp(3rem, 10vw, 8rem);
            color: var(--c-gold);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        .mono-label {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--c-accent);
            letter-spacing: 0.2em;
            margin-bottom: 1rem;
            display: block;
        }

        .hand-note {
            font-family: 'La Belle Aurore', cursive;
            font-size: 1.5rem;
            color: var(--c-text);
            opacity: 0.8;
            transform: rotate(-3deg);
        }

        /* Profile Card (Holographic Journal) */
        .profile-card {
            background: var(--c-paper);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 3rem;
            max-width: 600px;
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            border-left: 3px solid var(--c-gold);
        }

        .avatar-frame {
            position: absolute;
            right: -50px; top: -50px;
            width: 150px; height: 150px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--c-gold);
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
        }

        .avatar-frame img { width: 100%; height: 100%; object-fit: cover; }

        /* Service Cards (Constellations) */
        .services-grid {
            display: flex;
            gap: 2rem;
            perspective: 1000px;
        }

        .service-card {
            width: 280px;
            height: 400px;
            background: rgba(11, 12, 21, 0.8);
            border: 1px solid var(--c-accent);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            overflow: hidden;
        }

        .service-card:hover {
            transform: translateY(-20px) rotateX(5deg);
            border-color: var(--c-gold);
            background: rgba(212, 175, 55, 0.05);
        }

        .service-icon {
            font-size: 3rem;
            color: var(--c-accent);
            margin-bottom: 1rem;
            transition: color 0.3s;
        }

        .service-card:hover .service-icon { color: var(--c-gold); }

        .service-title {
            font-family: var(--font-display);
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .service-desc {
            font-size: 0.9rem;
            color: #aaa;
            line-height: 1.6;
        }

        /* Gallery Scattered */
        .scatter-gallery {
            position: relative;
            width: 100%; height: 100%;
        }

        .polaroid {
            position: absolute;
            background: #fff;
            padding: 10px 10px 30px 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: transform 0.3s;
            filter: sepia(30%);
        }

        .polaroid:hover {
            transform: scale(1.1) !important;
            z-index: 100;
            filter: sepia(0%);
        }

        .polaroid img { width: 100%; height: 100%; object-fit: cover; }

        /* Footer / Contact */
        .contact-ui {
            text-align: center;
        }

        .contact-btn {
            display: inline-block;
            margin-top: 2rem;
            padding: 1rem 3rem;
            border: 1px solid var(--c-gold);
            color: var(--c-gold);
            text-decoration: none;
            font-family: var(--font-mono);
            letter-spacing: 0.2em;
            transition: all 0.3s;
        }

        .contact-btn:hover {
            background: var(--c-gold);
            color: #000;
            box-shadow: 0 0 40px var(--c-gold);
        }

        /* HUD Overlay */
        .hud-top {
            position: fixed;
            top: 2rem; left: 2rem; right: 2rem;
            display: flex;
            justify-content: space-between;
            z-index: 100;
            pointer-events: none; /* Text not clickable unless link */
        }

        .hud-link {
            pointer-events: auto;
            color: var(--c-text);
            text-decoration: none;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .hud-link:hover { opacity: 1; color: var(--c-gold); }

    </style>
</head>
<body>

    <!-- P5 Background -->
    <div id="p5-starfield"></div>

    <!-- Custom Cursor -->
    <div id="compass-cursor">
        <div class="compass-ring"></div>
        <div class="compass-needle"></div>
    </div>

    <!-- HUD -->
    <div class="hud-top">
        <a href="index.html" class="hud-link">:: RETURN TO GUILD</a>
        <div class="hud-link">CAPTAIN'S LOG: <span id="log-coord">00.00</span></div>
    </div>

    <!-- Horizontal Content -->
    <div id="horizontal-track">

        <!-- Panel 1: Intro -->
        <section class="panel" id="p1">
            <div style="text-align: center;">
                <span class="mono-label">IDENTITY: LEYA</span>
                <h1>THE STARSHIP<br>JOURNAL</h1>
                <p class="hand-note" style="margin-top: 2rem;">"Mapping the soul's constellations"</p>
                <div style="margin-top: 3rem; font-family: var(--font-mono); font-size: 0.8rem; animation: pulse 2s infinite;">SCROLL TO WARP &rarr;</div>
            </div>
        </section>

        <!-- Panel 2: The Captain (Bio) -->
        <section class="panel" id="p2">
            <div class="profile-card">
                <div class="avatar-frame">
                    <img src="../assets/img/guild/leya/avatar.webp" alt="Leya Captain">
                </div>
                <span class="mono-label">STATUS: DRIFTING</span>
                <h2 style="font-family:var(--font-display); font-size:2rem; color:var(--c-text);">THE BRAVE DRIFTER</h2>
                <p>
                    三十歲前的航行，有三分之一的時間在異星漂泊。<br>
                    無房、無車、無定所，只有一顆<strong>勇敢的心</strong>作為引擎。
                </p>
                <p>
                    我是感性與理性的混合體。<br>
                    喜歡在森林中尋找水晶，在星空中思考人性。<br>
                    在每一次的成長與挫折中，一邊害怕，一邊全速前進。
                </p>
                <div style="display:flex; gap:1rem; margin-top:1rem;">
                    <span style="border:1px solid var(--c-accent); padding:2px 8px; font-size:0.8rem;">#RATIONAL</span>
                    <span style="border:1px solid var(--c-gold); padding:2px 8px; font-size:0.8rem; color:var(--c-gold);">#EMOTIONAL</span>
                </div>
            </div>
        </section>

        <!-- Panel 3: Services (The Offerings) -->
        <section class="panel" id="p3">
            <div style="text-align:center; width:100%;">
                <span class="mono-label">MODULES: AVAILABLE</span>
                <h2 style="font-family:var(--font-display); font-size:3rem; margin-bottom:3rem; color:var(--c-gold);">MISSION SUPPORT</h2>

                <div class="services-grid" style="justify-content:center;">
                    <!-- Service 1 -->
                    <div class="service-card">
                        <i class="fa-solid fa-compass-drafting service-icon"></i>
                        <div>
                            <h3 class="service-title">SOUL MAPPING</h3>
                            <p class="service-desc">
                                <strong>[Consulting]</strong><br>
                                為迷航的靈魂繪製星圖。<br>
                                結合理性分析與感性洞察，<br>
                                找出你內心的航向。
                            </p>
                        </div>
                    </div>

                    <!-- Service 2 -->
                    <div class="service-card">
                        <i class="fa-solid fa-feather-pointed service-icon"></i>
                        <div>
                            <h3 class="service-title">STORY ALCHEMY</h3>
                            <p class="service-desc">
                                <strong>[Creation]</strong><br>
                                將生活的鉛煉成金。<br>
                                用文字與影像紀錄旅程，<br>
                                發掘平凡中的微光。
                            </p>
                        </div>
                    </div>

                    <!-- Service 3 -->
                    <div class="service-card">
                        <i class="fa-solid fa-map-location-dot service-icon"></i>
                        <div>
                            <h3 class="service-title">PATHFINDER</h3>
                            <p class="service-desc">
                                <strong>[Travel Guide]</strong><br>
                                澳洲打工 / 西班牙朝聖。<br>
                                提供實戰經驗與路線規劃，<br>
                                讓流浪不再恐慌。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Panel 4: Fragments (Gallery) -->
        <section class="panel" id="p4">
            <div class="scatter-gallery">
                <div class="polaroid" style="top:20%; left:10%; width:200px; transform:rotate(-5deg);">
                    <img src="../assets/img/guild/leya/gallery_1.webp">
                </div>
                <div class="polaroid" style="top:50%; left:25%; width:250px; transform:rotate(3deg);">
                    <img src="../assets/img/guild/leya/gallery_2.webp">
                </div>
                <div class="polaroid" style="top:15%; left:40%; width:220px; transform:rotate(-2deg);">
                    <img src="../assets/img/guild/leya/gallery_3.webp">
                </div>
                <div class="polaroid" style="bottom:20%; right:30%; width:280px; transform:rotate(4deg);">
                    <img src="../assets/img/guild/leya/gallery_4.webp">
                </div>
                <div class="polaroid" style="top:30%; right:10%; width:200px; transform:rotate(-4deg);">
                    <img src="../assets/img/guild/leya/gallery_5.webp">
                </div>

                <h2 style="position:absolute; bottom:10%; left:10%; font-family:var(--font-display); font-size:4rem; opacity:0.2;">MEMORIES</h2>
            </div>
        </section>

        <!-- Panel 5: Contact -->
        <section class="panel" id="p5">
            <div class="contact-ui">
                <span class="mono-label">DESTINATION: UNKNOWN</span>
                <h2 style="font-family:var(--font-display); font-size:3rem; margin-bottom:2rem;">JOIN THE VOYAGE</h2>
                <p style="font-size:1.2rem; max-width:600px; margin:0 auto; color:#aaa;">
                    "慢慢走也可以，走在自己要的路上都會發光。"
                </p>

                <div style="margin-top:3rem;">
                    <a href="https://www.instagram.com/goodays.leya/" target="_blank" class="contact-btn">OPEN FREQUENCY</a>
                </div>

                <div style="margin-top:2rem; display:flex; gap:2rem; justify-content:center;">
                    <a href="https://www.threads.com/@goodays.leya" target="_blank" style="color:white; font-size:1.5rem;"><i class="fa-brands fa-threads"></i></a>
                </div>
            </div>
        </section>

    </div>

    <script>
        // --- 1. P5.JS (Star Warp) ---
        let scrollVelocity = 0;

        const initP5 = () => {
            const sketch = (p) => {
                let stars = [];
                const numStars = 400;

                p.setup = () => {
                    const c = p.createCanvas(window.innerWidth, window.innerHeight);
                    c.parent('p5-starfield');

                    for(let i=0; i<numStars; i++) {
                        stars.push(new Star(p));
                    }
                };

                p.draw = () => {
                    // Motion blur background
                    p.background(11, 12, 21, 50);

                    // Translate to center
                    p.translate(p.width/2, p.height/2);

                    // Use GSAP scroll velocity to control warp speed
                    // Default speed 2, max speed 20
                    let speed = p.map(scrollVelocity, 0, 5000, 2, 50, true);
                    if (speed < 2) speed = 2;

                    for(let i=0; i<stars.length; i++) {
                        stars[i].update(speed);
                        stars[i].show();
                    }
                };

                p.windowResized = () => {
                    p.resizeCanvas(window.innerWidth, window.innerHeight);
                };
            };
            new p5(sketch);
        };

        class Star {
            constructor(p) {
                this.p = p;
                this.x = p.random(-p.width, p.width);
                this.y = p.random(-p.height, p.height);
                this.z = p.random(p.width);
                this.pz = this.z;
            }

            update(speed) {
                this.z = this.z - speed;
                if (this.z < 1) {
                    this.z = this.p.width;
                    this.x = this.p.random(-this.p.width, this.p.width);
                    this.y = this.p.random(-this.p.height, this.p.height);
                    this.pz = this.z;
                }
            }

            show() {
                this.p.fill(255);
                this.p.noStroke();

                let sx = this.p.map(this.x / this.z, 0, 1, 0, this.p.width);
                let sy = this.p.map(this.y / this.z, 0, 1, 0, this.p.height);

                let r = this.p.map(this.z, 0, this.p.width, 4, 0);
                this.p.ellipse(sx, sy, r, r);

                let px = this.p.map(this.x / this.pz, 0, 1, 0, this.p.width);
                let py = this.p.map(this.y / this.pz, 0, 1, 0, this.p.height);

                this.pz = this.z;

                this.p.stroke(255, 255, 255, 100);
                this.p.line(px, py, sx, sy);
            }
        }


        // --- 2. GSAP (Horizontal Scroll & Interactions) ---
        const initGSAP = () => {
            gsap.registerPlugin(ScrollTrigger);

            const track = document.getElementById('horizontal-track');
            const sections = gsap.utils.toArray('.panel');

            // Horizontal Scroll
            const scrollTween = gsap.to(sections, {
                xPercent: -100 * (sections.length - 1),
                ease: "none",
                scrollTrigger: {
                    trigger: track,
                    pin: true,
                    scrub: 1,
                    snap: 1 / (sections.length - 1),
                    end: () => "+=" + track.offsetWidth,
                    onUpdate: (self) => {
                        scrollVelocity = Math.abs(self.getVelocity());
                        document.getElementById('log-coord').innerText = (self.progress * 100).toFixed(2);
                    }
                }
            });

            // Panel 2: Profile Reveal
            gsap.from(".profile-card", {
                y: 100, opacity: 0, rotateY: 45,
                scrollTrigger: {
                    trigger: "#p2",
                    containerAnimation: scrollTween,
                    start: "left center",
                    toggleActions: "play none none reverse"
                }
            });

            // Panel 3: Services Stagger
            gsap.from(".service-card", {
                y: 200, opacity: 0, stagger: 0.2,
                scrollTrigger: {
                    trigger: "#p3",
                    containerAnimation: scrollTween,
                    start: "left center",
                    toggleActions: "play none none reverse"
                }
            });

            // Panel 4: Gallery Scatter
            gsap.utils.toArray(".polaroid").forEach((p, i) => {
                const z = (i+1) * 50;
                gsap.from(p, {
                    x: window.innerWidth, // Fly in from right
                    rotation: Math.random() * 360,
                    opacity: 0,
                    duration: 1.5,
                    ease: "power2.out",
                    scrollTrigger: {
                        trigger: "#p4",
                        containerAnimation: scrollTween,
                        start: "left right", // When left of section hits right of viewport
                        end: "center center",
                        scrub: 1
                    }
                });
            });
        };

        // --- 3. Custom Cursor Logic ---
        const initCursor = () => {
            const cursor = document.getElementById('compass-cursor');
            const needle = document.querySelector('.compass-needle');

            // Center of viewport
            const cx = window.innerWidth / 2;
            const cy = window.innerHeight / 2;

            window.addEventListener('mousemove', (e) => {
                // Move cursor
                gsap.to(cursor, {
                    x: e.clientX,
                    y: e.clientY,
                    duration: 0.1
                });

                // Needle points to center of screen (or next objective)
                // Let's make it point to the right (Next) generally, but influence by mouse pos
                const dx = e.clientX - cx;
                const dy = e.clientY - cy;
                const angle = Math.atan2(dy, dx) * (180 / Math.PI);

                gsap.to(needle, {
                    rotation: angle + 90, // Adjust offset
                    duration: 0.2
                });
            });

            // Hover states
            const interactive = document.querySelectorAll('a, .service-card, .polaroid');
            interactive.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    gsap.to(cursor, { scale: 1.5, borderColor: '#fff' });
                });
                el.addEventListener('mouseleave', () => {
                    gsap.to(cursor, { scale: 1, borderColor: '#d4af37' });
                });
            });
        };

        // --- Execute ---
        window.addEventListener('DOMContentLoaded', () => {
            initP5();
            initGSAP();
            initCursor();
        });

    </script>
</body>
</html>