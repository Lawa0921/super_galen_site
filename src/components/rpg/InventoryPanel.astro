---
/**
 * InventoryPanel.astro
 * Diablo 2 風格物品欄面板 - 完整版
 */
import { type Language, useTranslations } from '@i18n/index';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const { all: trans } = useTranslations(lang);
---

<div class="d2-inventory-panel">
  <div class="character-section">
    <div class="d2-equipment-layout">
      <!-- 左側區域 -->
      <div class="equipment-left-panel">
        <div class="equip-slot rect-slot" data-slot="weapon" data-tooltip={trans.inventory?.equipment_slots?.weapon || '主要武器'} data-item-id="16">
          <div class="slot-bg weapon"></div>
          <div class="slot-content">
            <img src="/assets/images/gaming-laptop.webp" alt="主武器" width="128" height="256" />
          </div>
        </div>
        <div class="equip-slot square-slot" data-slot="gloves" data-tooltip={trans.inventory?.equipment_slots?.gloves || '手套'} data-item-id="17">
          <div class="slot-bg gloves"></div>
          <div class="slot-content">
            <img src="/assets/images/gloves-coding.webp" alt="手套" width="128" height="128" />
          </div>
        </div>
      </div>

      <!-- 中間區域 -->
      <div class="equipment-center-panel">
        <div class="center-top">
          <div class="equip-slot" data-slot="helmet" data-tooltip={trans.inventory?.equipment_slots?.helmet || '頭盔'} data-item-id="19">
            <div class="slot-bg helmet"></div>
            <div class="slot-content">
              <img src="/assets/images/helmet-glasses.webp" alt="頭盔" width="128" height="128" />
            </div>
          </div>
          <div class="equip-slot small-slot" data-slot="amulet" data-tooltip={trans.inventory?.equipment_slots?.amulet || '項鍊'} data-item-id="23">
            <div class="slot-bg amulet"></div>
            <div class="slot-content">
              <img src="/assets/images/amulet-bravo.webp" alt="項鍊" width="64" height="64" />
            </div>
          </div>
        </div>
        <div class="equip-slot rect-slot" data-slot="armor" data-tooltip={trans.inventory?.equipment_slots?.armor || '護甲'} data-item-id="15">
          <div class="slot-bg armor"></div>
          <div class="slot-content">
            <img src="/assets/images/armor-hoodie.webp" alt="護甲" width="128" height="192" />
          </div>
        </div>
        <div class="center-bottom">
          <div class="equip-slot small-slot" data-slot="ring1" data-tooltip={trans.inventory?.equipment_slots?.ring || '戒指'} data-item-id="21">
            <div class="slot-bg ring"></div>
            <div class="slot-content">
              <img src="/assets/images/ring-wedding.webp" alt="戒指" width="64" height="64" />
            </div>
          </div>
          <div class="equip-slot belt-slot" data-slot="belt" data-tooltip={trans.inventory?.equipment_slots?.belt || '腰帶'} data-item-id="20">
            <div class="slot-bg belt"></div>
            <div class="slot-content">
              <img src="/assets/images/belt-leather.webp" alt="腰帶" width="128" height="64" />
            </div>
          </div>
          <div class="equip-slot small-slot" data-slot="ring2" data-tooltip={trans.inventory?.equipment_slots?.ring || '戒指'} data-item-id="25">
            <div class="slot-bg ring"></div>
            <div class="slot-content">
              <img src="/assets/images/ring-chain.webp" alt="戒指" width="64" height="64" />
            </div>
          </div>
        </div>
      </div>

      <!-- 右側區域 -->
      <div class="equipment-right-panel">
        <div class="equip-slot rect-slot" data-slot="shield" data-tooltip={trans.inventory?.equipment_slots?.shield || '副手'} data-item-id="22">
          <div class="slot-bg shield"></div>
          <div class="slot-content">
            <img src="/assets/images/shield-chair.webp" alt="副手" width="128" height="256" />
          </div>
        </div>
        <div class="equip-slot square-slot" data-slot="boots" data-tooltip={trans.inventory?.equipment_slots?.boots || '鞋子'} data-item-id="18">
          <div class="slot-bg boots"></div>
          <div class="slot-content">
            <img src="/assets/images/boots-programming.webp" alt="鞋子" width="128" height="128" />
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 物品包 -->
  <div class="inventory-section">
    <div class="inventory-container">
      <div class="inventory-grid" id="inventory-grid">
        <!-- 格子會由 JavaScript 動態生成 -->
      </div>
      <!-- 多格物品會疊加在格子上方 -->
      <div class="inventory-items" id="inventory-items">
        <!-- 左上區域物品 -->
        <div class="multi-slot-item" data-item-id="1" data-width="4" data-height="2" data-x="0" data-y="0" draggable="true">
          <img class="item-icon" src="/assets/images/item-keyboard.webp" alt="祖傳RGB機械鍵盤" />
          <div class="item-rarity legendary"></div>
        </div>

        <div class="multi-slot-item" data-item-id="7" data-width="1" data-height="2" data-x="2" data-y="4" draggable="true">
          <img class="item-icon" src="/assets/images/item-usb-new.webp" alt="USB" />
          <div class="item-rarity rare"></div>
        </div>

        <div class="multi-slot-item" data-item-id="3" data-width="2" data-height="2" data-x="4" data-y="0" draggable="true">
          <img class="item-icon" src="/assets/images/item-gaming-mouse.webp" alt="遊戲滑鼠" />
          <div class="item-rarity epic"></div>
        </div>

        <div class="multi-slot-item" data-item-id="9" data-width="2" data-height="2" data-x="6" data-y="0" draggable="true">
          <img class="item-icon" src="/assets/images/item-gaming-headset.webp" alt="遊戲耳機" />
          <div class="item-rarity rare"></div>
        </div>

        <div class="multi-slot-item" data-item-id="8" data-width="2" data-height="2" data-x="0" data-y="2" draggable="true">
          <img class="item-icon" src="/assets/images/item-monitor.webp" alt="顯示器" />
          <div class="item-rarity epic"></div>
        </div>

        <div class="multi-slot-item" data-item-id="4" data-width="2" data-height="2" data-x="4" data-y="2" draggable="true">
          <img class="item-icon" src="/assets/images/item-gamepad.webp" alt="遊戲手把" />
          <div class="item-rarity rare"></div>
        </div>

        <div class="multi-slot-item" data-item-id="10" data-width="2" data-height="2" data-x="6" data-y="2" draggable="true">
          <img class="item-icon" src="/assets/images/item-martial-arts.webp" alt="武術裝備" />
          <div class="item-rarity legendary"></div>
        </div>

        <div class="multi-slot-item" data-item-id="5" data-width="2" data-height="2" data-x="0" data-y="4" draggable="true">
          <img class="item-icon" src="/assets/images/item-board-game.webp" alt="桌遊" />
          <div class="item-rarity common"></div>
        </div>

        <div class="multi-slot-item" data-item-id="6" data-width="2" data-height="2" data-x="4" data-y="4" draggable="true">
          <img class="item-icon" src="/assets/images/item-tent.webp" alt="露營帳篷" />
          <div class="item-rarity rare"></div>
        </div>

        <div class="multi-slot-item" data-item-id="11" data-width="2" data-height="2" data-x="6" data-y="4" draggable="true">
          <img class="item-icon" src="/assets/images/item-work-gloves.webp" alt="工作手套" />
          <div class="item-rarity common"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 樣式由全局 _inventory.scss 提供 -->
