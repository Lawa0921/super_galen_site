<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ariel | The Alchemist of Order & Chaos</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Three.js Import Map -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <style>
        :root {
            --c-bg: #0b1016; /* Deep Cosmic Navy */
            --c-text: #e0e0e0;
            --c-gold: #ffd700;
            --c-accent: #00ced1; /* Dark Turquoise */
            --c-paper: rgba(16, 24, 32, 0.85); /* Glassmorphic dark */
        }

        body {
            margin: 0;
            background-color: var(--c-bg);
            color: var(--c-text);
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
        }

        /* Canvas */
        #canvas-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100vh;
            z-index: 0;
        }

        /* Scroll Progress Bar */
        .progress-bar {
            position: fixed; top: 0; left: 0; height: 3px; background: var(--c-gold); width: 0%; z-index: 1000;
        }

        /* Nav */
        .nav-back {
            position: fixed; top: 2rem; left: 2rem; z-index: 100;
            color: var(--c-gold); text-decoration: none;
            font-family: 'Cinzel', serif; border: 1px solid var(--c-gold);
            padding: 0.5rem 1rem; backdrop-filter: blur(5px);
            transition: 0.3s;
        }
        .nav-back:hover { background: var(--c-gold); color: var(--c-bg); }

        /* Content Wrapper */
        .content-wrapper {
            position: relative; z-index: 10;
            width: 100%; max-width: 900px;
            margin: 0 auto;
            padding-top: 10vh; padding-bottom: 20vh;
        }

        /* Sections */
        section {
            min-height: 80vh;
            display: flex; flex-direction: column; justify-content: center;
            padding: 2rem; box-sizing: border-box;
            opacity: 0; /* Hidden initially for GSAP */
        }

        .glass-card {
            background: var(--c-paper);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.2);
            padding: 3rem;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        /* Decoration Lines */
        .glass-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%;
            background: linear-gradient(to bottom, var(--c-gold), transparent);
        }

        h1, h2, h3 { font-family: 'Cinzel', serif; color: var(--c-gold); margin-top: 0; }

        h1 { font-size: clamp(3rem, 5vw, 5rem); line-height: 1; text-transform: uppercase; letter-spacing: 0.05em; text-shadow: 0 0 20px rgba(255,215,0,0.3); }
        h2 { font-size: 2.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid rgba(255,215,0,0.3); display: inline-block; padding-bottom: 0.5rem; }
        h3 { font-size: 1.5rem; color: var(--c-accent); margin-bottom: 0.5rem; }

        p { line-height: 1.8; font-size: 1.1rem; margin-bottom: 1.5rem; color: #ccc; }
        .highlight { color: var(--c-gold); font-weight: 600; }
        .highlight-blue { color: var(--c-accent); font-weight: 600; }

        /* Profile Image */
        .profile-container {
            display: flex; justify-content: center; margin-bottom: 2rem; position: relative;
        }
        .profile-img {
            width: 200px; height: 200px; border-radius: 50%; object-fit: cover;
            border: 2px solid var(--c-gold);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        }
        .qilin-badge {
            position: absolute; bottom: 0; right: 50%; transform: translateX(80px);
            background: var(--c-bg); color: var(--c-gold); border: 1px solid var(--c-gold);
            padding: 0.2rem 0.8rem; border-radius: 20px; font-size: 0.8rem; font-family: 'Cinzel';
        }

        /* Skills Grid */
        .skills-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin-top: 2rem;
        }
        .skill-item {
            text-align: center; padding: 1rem; border: 1px solid rgba(255,255,255,0.1);
            transition: 0.3s;
        }
        .skill-item:hover { border-color: var(--c-accent); background: rgba(0, 206, 209, 0.1); transform: translateY(-5px); }
        .skill-icon { font-size: 1.5rem; color: var(--c-accent); margin-bottom: 0.5rem; }

        /* Quote */
        .quote-block {
            font-family: 'Playfair Display', serif; font-style: italic; font-size: 1.3rem;
            text-align: center; margin: 3rem 0; color: var(--c-gold); position: relative;
            padding: 0 2rem;
        }
        .quote-block::before, .quote-block::after {
            content: '“'; font-size: 4rem; color: rgba(255,215,0,0.1); position: absolute;
        }
        .quote-block::before { top: -2rem; left: 0; }
        .quote-block::after { content: '”'; bottom: -3rem; right: 0; }

        /* Footer */
        .site-footer {
            text-align: center; padding: 4rem 2rem; background: #000; position: relative; z-index: 100;
            border-top: 1px solid var(--c-gold);
        }
        .social-links { display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; }
        .social-icon {
            color: var(--c-gold); font-size: 1.8rem; transition: 0.3s;
            width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;
            border: 1px solid var(--c-gold); border-radius: 50%; text-decoration: none;
        }
        .social-icon:hover { background: var(--c-gold); color: #000; box-shadow: 0 0 20px var(--c-gold); }

        /* Mobile */
        @media (max-width: 768px) {
            h1 { font-size: 3rem; }
            .glass-card { padding: 2rem 1.5rem; }
        }

    </style>
</head>
<body>

    <div class="progress-bar"></div>
    <a href="/guild/" class="nav-back">GUILD</a>
    <div id="canvas-container"></div>

    <div class="content-wrapper">

        <!-- Hero -->
        <section id="hero">
            <div class="glass-card" style="text-align: center;">
                <div class="profile-container">
                    <img src="/assets/img/guild/ariel/avatar_main.webp" alt="Ariel" class="profile-img">
                    <div class="qilin-badge">Qilin Soul</div>
                </div>
                <h1>Ariel</h1>
                <h3>The Alchemist of Regulation & Intuition</h3>
                <p style="color: var(--c-accent); letter-spacing: 2px;">RA MANAGER | INFP | WEAVER</p>
                <div style="margin-top: 2rem; font-family: 'Playfair Display', serif; font-style: italic; color: var(--c-gold); opacity: 0.9;">
                    "My mission in life is not merely to survive, but to thrive; and to do so with some passion, some compassion, some humor, and some style."
                </div>
            </div>
        </section>

        <!-- Professional -->
        <section id="professional">
            <div class="glass-card">
                <h2>The Regulatory Architect</h2>
                <p>
                    深耕醫藥產業 <span class="highlight">15 年</span> 的法規事務經理 (RA Manager)。
                    專長於 <span class="highlight-blue">API</span> (小分子原料藥)、<span class="highlight-blue">DMF</span> 與 <span class="highlight-blue">CMC</span> 實務。
                </p>
                <p>
                    雖然「法規」聽起來是冰冷的條條框框，但我相信在這些規則之中，存在著充滿人情味的解決方案。
                    我是一個 <span class="highlight">INFP (調停者)</span>——內心柔軟，追求和諧，致力於在剛硬的法條與人性之間找到完美的平衡點。
                </p>

                <div class="skills-grid">
                    <div class="skill-item">
                        <i class="fa-solid fa-scale-balanced skill-icon"></i>
                        <div>Compliance</div>
                    </div>
                    <div class="skill-item">
                        <i class="fa-solid fa-file-medical skill-icon"></i>
                        <div>CMC Strategy</div>
                    </div>
                    <div class="skill-item">
                        <i class="fa-solid fa-flask skill-icon"></i>
                        <div>API / DMF</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Leadership -->
        <section id="leadership">
            <div class="glass-card">
                <h2>Servant Leadership</h2>
                <h3>非典型管理者</h3>
                <p>
                    我不喜歡墨守成規。為了讓團隊從繁瑣的文書地獄中解脫，我結合
                    <span class="highlight-blue">Gemini AI</span>、<span class="highlight-blue">Excel VBA</span> 與 <span class="highlight-blue">SharePoint</span>，
                    開發自動化工具來優化工作流程。
                </p>
                <p>
                    對我來說，看到夥伴因為效率提升而準時下班，比任何 KPI 都更有成就感。
                    我相信<b>「賦能與服務」</b>遠勝於發號施令。我鼓勵試錯，期待部屬的成長不僅僅是「把工作做好」，而是看見自己的無限可能。
                </p>
                <div class="quote-block">
                    "I've learned that people will forget what you said, people will forget what you did, but people will never forget how you made them feel."
                    <br><span style="font-size: 0.9rem; margin-top: 1rem; display:block;">— Maya Angelou</span>
                </div>
                <div style="text-align: center; margin-top: 2rem; font-size: 0.9rem; color: #666;">
                    <i class="fa-solid fa-dog"></i> Spirit Animal: Astro-Logical Wolf
                </div>
            </div>
        </section>

        <!-- Mystic / Personal -->
        <section id="mystic">
            <div class="glass-card">
                <h2>The Mystic Weaver</h2>
                <div style="display: flex; gap: 2rem; flex-wrap: wrap; align-items: center;">
                    <div style="flex: 1; min-width: 250px;">
                        <p>
                            工作之外，我是兩個可愛寶寶的媽媽，也是一位神秘學愛好者。
                            <span class="highlight">Human Design (人類圖)</span>、<span class="highlight">紫微斗數</span> 與 <span class="highlight">塔羅</span>
                            是我自我探索的工具，也讓我更能識人善任。
                        </p>
                        <p>
                            我熱愛透過 <span class="highlight-blue">鉤針手作 (Crochet)</span> 來沉澱心靈。
                            在與絲線的糾纏中，我找到了平靜的秩序。左手拿法規數據，右手拿塔羅鉤針——這就是我，
                            一個期待在 Human 3.0 時代創造更多價值的靈魂。
                        </p>
                    </div>
                    <!-- Using the material image as a visual anchor here -->
                    <div style="flex: 1; min-width: 250px;">
                        <img src="/assets/img/guild/ariel/material_bg.webp" style="width: 100%; border-radius: 4px; border: 1px solid var(--c-gold); box-shadow: 0 5px 15px rgba(0,0,0,0.5);" alt="Mystic Materials">
                    </div>
                </div>
            </div>
        </section>

    </div>

    <footer class="site-footer">
        <p style="font-family: 'Cinzel'; font-size: 1.2rem; color: var(--c-gold);">
            Let's weave the future together.
        </p>
        <div class="social-links">
            <a href="https://www.threads.net/@iabc5040" target="_blank" class="social-icon" title="Threads"><i class="fa-brands fa-threads"></i></a>
            <a href="https://www.instagram.com/iabc5040/" target="_blank" class="social-icon" title="Instagram"><i class="fa-brands fa-instagram"></i></a>
        </div>
        <p style="margin-top: 3rem; font-size: 0.9rem; color: #666;">
            Made with <i class="fa-solid fa-heart" style="color: #ff6b6b;"></i> by <a href="/guild/" style="color: var(--c-gold); text-decoration: none;">SuperGalen's Dungeon</a>
        </p>
    </footer>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        // --- Init Three.js ---
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        // Fog for depth
        scene.fog = new THREE.FogExp2(0x0b1016, 0.02);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 30;

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        container.appendChild(renderer.domElement);

        // --- Lights ---
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xffd700, 1, 100);
        pointLight.position.set(10, 10, 10);
        scene.add(pointLight);

        const blueLight = new THREE.PointLight(0x00ced1, 1, 100);
        blueLight.position.set(-10, -10, 5);
        scene.add(blueLight);

        // --- Objects ---

        // 1. The Scale of Justice (Representing RA/Law)
        const scaleGroup = new THREE.Group();
        scene.add(scaleGroup);

        // Central Pillar
        const pillarGeo = new THREE.CylinderGeometry(0.2, 0.5, 15, 16);
        const goldMat = new THREE.MeshStandardMaterial({
            color: 0xffd700, metalness: 0.8, roughness: 0.2
        });
        const pillar = new THREE.Mesh(pillarGeo, goldMat);
        scaleGroup.add(pillar);

        // Crossbar
        const barGeo = new THREE.BoxGeometry(12, 0.3, 0.3);
        const bar = new THREE.Mesh(barGeo, goldMat);
        bar.position.y = 6;
        scaleGroup.add(bar);

        // Plates
        function createPlate(xPos) {
            const group = new THREE.Group();
            // String
            const stringGeo = new THREE.CylinderGeometry(0.05, 0.05, 6, 8);
            const string = new THREE.Mesh(stringGeo, goldMat);
            string.position.y = -3;
            group.add(string);

            // Plate
            const plateGeo = new THREE.CylinderGeometry(2, 0.5, 0.5, 32, 1, true); // Dish shape
            // Close bottom? No need for simple vis
            const plate = new THREE.Mesh(plateGeo, goldMat);
            plate.position.y = -6;
            plate.rotation.x = Math.PI; // Flip up
            group.add(plate);

            group.position.set(xPos, 6, 0); // Attach to bar
            return group;
        }

        const leftPlate = createPlate(-5.5);
        const rightPlate = createPlate(5.5);

        // Pivot group for tipping
        const pivotGroup = new THREE.Group();
        pivotGroup.position.y = 6;
        scene.add(pivotGroup); // Add to scene? No, structure is complex.
        // Let's simplify: ScaleGroup holds pillar. Bar and Plates are children of a Pivot object at top of pillar.

        const balanceBeam = new THREE.Group();
        balanceBeam.position.y = 6;
        scaleGroup.add(balanceBeam);

        // Move bar into balanceBeam
        bar.position.set(0,0,0);
        balanceBeam.add(bar);

        // Re-attach plates to balanceBeam
        leftPlate.position.set(-5.5, 0, 0);
        rightPlate.position.set(5.5, 0, 0);
        balanceBeam.add(leftPlate);
        balanceBeam.add(rightPlate);

        // Add "Weights"
        // Left: Cube (Logic/Law)
        const cubeGeo = new THREE.BoxGeometry(1, 1, 1);
        const blueMat = new THREE.MeshStandardMaterial({ color: 0x00ced1, emissive: 0x004444 });
        const logicCube = new THREE.Mesh(cubeGeo, blueMat);
        logicCube.position.set(0, -5.5, 0);
        leftPlate.add(logicCube);

        // Right: Sphere (Intuition/Heart) - Or maybe a Tarot Card proxy
        const sphereGeo = new THREE.IcosahedronGeometry(0.7, 1);
        const purpleMat = new THREE.MeshStandardMaterial({ color: 0x9932cc, emissive: 0x441155, wireframe: true });
        const intuitionOrb = new THREE.Mesh(sphereGeo, purpleMat);
        intuitionOrb.position.set(0, -5.5, 0);
        rightPlate.add(intuitionOrb);


        // 2. The Threads (Weaving background)
        const threadsGroup = new THREE.Group();
        scene.add(threadsGroup);

        const curvePoints = [];
        for(let i=0; i<10; i++) {
            const x = (Math.random() - 0.5) * 40;
            const y = (Math.random() - 0.5) * 40;
            const z = (Math.random() - 0.5) * 20 - 10;
            curvePoints.push(new THREE.Vector3(x,y,z));
        }
        const curve = new THREE.CatmullRomCurve3(curvePoints);
        curve.closed = true;

        const tubeGeo = new THREE.TubeGeometry(curve, 100, 0.1, 8, true);
        const tubeMat = new THREE.MeshBasicMaterial({ color: 0x00ced1, transparent: true, opacity: 0.3, wireframe: true });
        const thread = new THREE.Mesh(tubeGeo, tubeMat);
        threadsGroup.add(thread);

        // Add more random threads
        for(let k=0; k<5; k++) {
            const pts = [];
            for(let j=0; j<8; j++) {
                pts.push(new THREE.Vector3(
                    (Math.random()-0.5)*50,
                    (Math.random()-0.5)*50,
                    (Math.random()-0.5)*20 - 10
                ));
            }
            const c = new THREE.CatmullRomCurve3(pts);
            const t = new THREE.Mesh(
                new THREE.TubeGeometry(c, 64, 0.05, 4, false),
                new THREE.MeshBasicMaterial({ color: k%2===0 ? 0xffd700 : 0xffffff, transparent: true, opacity: 0.2 })
            );
            threadsGroup.add(t);
        }

        // 3. Floating Cards (Tarot Proxy)
        const cardGeo = new THREE.PlaneGeometry(3, 5);
        const cardMat = new THREE.MeshStandardMaterial({
            color: 0x222222, side: THREE.DoubleSide,
            map: new THREE.TextureLoader().load('/assets/img/guild/ariel/material_bg.webp') // Use material as texture
        });
        const cards = [];
        for(let i=0; i<6; i++) {
            const card = new THREE.Mesh(cardGeo, cardMat);
            card.position.set(
                (Math.random()-0.5)*40,
                (Math.random()-0.5)*40 - 20, // Start lower
                (Math.random()-0.5)*10
            );
            card.rotation.z = Math.random() * Math.PI;
            scene.add(card);
            cards.push({ mesh: card, speed: Math.random() * 0.02 });
        }


        // --- GSAP Interactions ---

        // Initial State
        scaleGroup.position.set(0, 0, 0);
        scaleGroup.rotation.y = 0.5;

        // Intro Animation
        gsap.from(scaleGroup.position, { y: 20, duration: 2, ease: "power3.out" });
        gsap.from(scaleGroup.rotation, { y: Math.PI*2, duration: 2.5, ease: "power2.out" });

        // Scroll Timeline
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: 1
            }
        });

        // 1. Hero -> Pro: Scale rotates, Camera moves closer
        tl.to(scaleGroup.rotation, { y: -0.5, z: 0.1, duration: 2 });
        tl.to(camera.position, { z: 20, duration: 2 }, "<");

        // 2. Pro -> Leadership: Scale fades/moves away, Threads intensify
        tl.to(scaleGroup.position, { x: -15, z: -10, duration: 2 });
        tl.to(threadsGroup.rotation, { x: 1, y: 1, duration: 2 }, "<");

        // 3. Leadership -> Mystic: Cards float up, colors shift
        tl.to(cards.map(c => c.mesh.position), {
            y: (i, target) => target.y + 30,
            duration: 3,
            stagger: 0.1
        }, "<");

        // Balance the scale based on scroll (Tipping effect)
        tl.to(balanceBeam.rotation, { z: Math.PI / 8 * -1, duration: 4 }, 0); // Tip left then right?

        // Text Animations (Reveal on scroll)
        const sections = document.querySelectorAll('section');
        sections.forEach(sec => {
            gsap.to(sec, {
                opacity: 1,
                y: 0,
                duration: 1,
                scrollTrigger: {
                    trigger: sec,
                    start: "top 70%",
                    end: "top 20%",
                    toggleActions: "play none none reverse"
                }
            });
            // Initial set
            gsap.set(sec, { y: 50 });
        });

        // Progress Bar
        gsap.to(".progress-bar", {
            width: "100%",
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: 0
            }
        });


        // --- Render Loop ---
        function animate() {
            requestAnimationFrame(animate);

            // Idle animations
            scaleGroup.rotation.y += 0.002;
            threadsGroup.rotation.z -= 0.001;

            logicCube.rotation.x += 0.01;
            logicCube.rotation.y += 0.01;

            intuitionOrb.rotation.y -= 0.01;

            // Floating cards
            cards.forEach(c => {
                c.mesh.rotation.y += c.speed;
            });

            renderer.render(scene, camera);
        }
        animate();

        // Handle Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>