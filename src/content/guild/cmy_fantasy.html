<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸè‰²â­ï¸ãµãã‚“ãŸã˜ãƒ¼ | CMY Fantasy | DREAM STAGE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&family=Zen+Maru+Gothic:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --pop-pink: #ff69b4;
            --pop-cyan: #40e0d0;
            --pop-yellow: #ffd700;
            --pastel-pink: #ffe4e1;
            --pastel-blue: #e0ffff;
            --deep-text: #5d4037;
            --white: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--pastel-pink);
            color: var(--deep-text);
            font-family: 'Zen Maru Gothic', sans-serif;
            overflow-x: hidden;
            width: 100vw;
            /* Gingham Check Pattern */
            background-image:
                linear-gradient(45deg, #ffc0cb 25%, transparent 25%, transparent 75%, #ffc0cb 75%, #ffc0cb),
                linear-gradient(45deg, #ffc0cb 25%, transparent 25%, transparent 75%, #ffc0cb 75%, #ffc0cb);
            background-position: 0 0, 20px 20px;
            background-size: 40px 40px;
        }

        /* 3D Background */
        #canvas-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }

        /* Main Layout */
        main {
            position: relative;
            z-index: 10;
            max-width: 1000px;
            margin: 2rem auto;
            background: rgba(255, 255, 255, 0.95);
            border: 8px solid var(--white);
            border-radius: 40px;
            box-shadow: 0 0 0 10px var(--pop-cyan), 0 20px 50px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        /* --- DECORATIONS --- */
        .lace-border {
            width: 100%; height: 20px;
            background: radial-gradient(circle, var(--white) 10px, transparent 11px);
            background-size: 30px 30px;
            background-position: center bottom;
            position: relative;
            z-index: 20;
            margin-top: -15px;
        }

        /* --- HERO --- */
        .hero {
            padding: 6rem 2rem;
            text-align: center;
            background: linear-gradient(180deg, var(--pastel-blue), var(--white));
            position: relative;
            overflow: hidden;
        }

        .hero-title {
            font-family: 'Mochiy Pop One', sans-serif;
            font-size: clamp(3rem, 8vw, 5rem);
            color: var(--white);
            -webkit-text-stroke: 8px var(--pop-pink);
            paint-order: stroke fill;
            text-shadow: 6px 6px 0 var(--pop-yellow);
            animation: bounce 2s infinite ease-in-out;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }

        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        .hero-subtitle {
            display: inline-block;
            background: var(--pop-yellow);
            color: var(--deep-text);
            font-weight: 900;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            border: 4px solid var(--white);
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            font-size: 1.2rem;
            transform: rotate(-2deg);
        }

        /* --- NEWS TICKER (CSS MARQUEE) --- */
        .marquee-container {
            background: var(--pop-cyan);
            padding: 0.8rem 0;
            overflow: hidden;
            border-top: 4px solid var(--white);
            border-bottom: 4px solid var(--white);
            white-space: nowrap;
            position: relative;
            z-index: 5;
        }

        .marquee-content {
            display: inline-block;
            animation: marquee 20s linear infinite;
            font-family: 'Mochiy Pop One';
            color: var(--white);
            font-size: 1.1rem;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        .marquee-item { margin-right: 3rem; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* --- PROFILES --- */
        .section-header {
            text-align: center;
            margin: 4rem 0 3rem;
            position: relative;
        }
        .section-title {
            font-family: 'Mochiy Pop One';
            font-size: 2.5rem;
            color: var(--pop-pink);
            display: inline-block;
            background: var(--white);
            padding: 0.5rem 2rem;
            border: 4px dashed var(--pop-cyan);
            border-radius: 20px;
            transform: rotate(-3deg);
        }

        .profile-container {
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 0 2rem;
            flex-wrap: wrap;
        }

        .idol-card {
            width: 320px;
            background: var(--white);
            border-radius: 25px;
            padding: 1.5rem;
            position: relative;
            border: 6px solid var(--pastel-pink);
            box-shadow: 10px 10px 0 var(--pop-pink);
            transition: transform 0.3s;
        }
        .idol-card:hover { transform: translateY(-10px); }

        .idol-card.cyan { border-color: var(--pop-cyan); box-shadow: 10px 10px 0 var(--pop-cyan); }

        .idol-photo {
            width: 100%; height: 300px;
            object-fit: cover;
            border-radius: 15px;
            border: 4px solid var(--white);
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .idol-name {
            font-family: 'Mochiy Pop One';
            font-size: 2rem;
            text-align: center;
            margin-bottom: 0.5rem;
            color: var(--deep-text);
        }

        .idol-info p { font-weight: bold; line-height: 1.8; text-align: center; color: #666; font-size: 0.95rem; }

        /* --- SCHEDULE LIST --- */
        .schedule-box {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            border: 4px solid var(--pop-yellow);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 8px 8px 0 rgba(0,0,0,0.05);
        }

        .sch-item {
            display: flex;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 2px dashed #eee;
        }
        .sch-item:last-child { border-bottom: none; }

        .sch-date {
            background: var(--pop-pink);
            color: white;
            font-weight: 900;
            padding: 0.3rem 0.8rem;
            border-radius: 10px;
            margin-right: 1rem;
            font-size: 0.9rem;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }
        .sch-title { font-weight: bold; font-size: 1.1rem; }

        /* --- MEDIA GRID --- */
        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            padding: 0 2rem;
        }
        .media-item {
            border-radius: 15px;
            overflow: hidden;
            border: 4px solid var(--white);
            box-shadow: 5px 5px 0 rgba(0,0,0,0.1);
            aspect-ratio: 16/9;
            position: relative;
            background: #ddd;
        }
        .media-item img { width: 100%; height: 100%; object-fit: cover; transition: 0.3s; }
        .media-item:hover img { transform: scale(1.1); }

        /* --- FOOTER --- */
        .footer {
            margin-top: 4rem;
            background: var(--pop-cyan);
            padding: 3rem;
            text-align: center;
            color: white;
            border-top: 8px solid var(--white);
        }
        .footer-logo { font-family: 'Mochiy Pop One'; font-size: 2rem; margin-bottom: 1rem; display: block; }

        .btn-producer {
            display: inline-block;
            background: var(--white);
            color: var(--pop-pink);
            font-family: 'Mochiy Pop One';
            font-size: 1.5rem;
            padding: 1rem 3rem;
            border-radius: 50px;
            text-decoration: none;
            border: 4px solid var(--pop-pink);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: 0.2s;
            margin-bottom: 2rem;
        }
        .btn-producer:hover { transform: scale(1.05); box-shadow: 0 15px 30px rgba(0,0,0,0.2); }

        .social-row { display: flex; justify-content: center; gap: 1.5rem; }
        .social-link { color: white; font-weight: 900; text-decoration: none; border-bottom: 2px solid white; }

        /* --- ANIMATION CLASSES --- */
        .reveal { opacity: 0; transform: translateY(30px); transition: 0.8s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .nav-back {
            position: fixed; top: 1.5rem; left: 1.5rem;
            background: var(--white); color: var(--pop-pink);
            padding: 0.5rem 1.2rem;
            font-weight: 900; border-radius: 20px;
            text-decoration: none; border: 3px solid var(--pop-pink);
            z-index: 100; box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }

    </style>
</head>
<body>

    <div id="canvas-container"></div>
    <a href="/guild/" class="nav-back">â† GUILD</a>

    <main>
        <section class="hero">
            <h1 class="hero-title">åŸè‰²<br>ãµãã‚“ãŸã˜ãƒ¼</h1>
            <div class="hero-subtitle">KAOHSIUNG IDOL UNIT</div>
        </section>

        <!-- Infinite Marquee -->
        <div class="marquee-container">
            <div class="marquee-content">
                <span class="marquee-item">â˜… WELCOME TO OFFICIAL SITE â˜…</span>
                <span class="marquee-item">â˜… åœ˜é«”æˆç«‹æ»¿ä¸€é€±å¹´ â˜…</span>
                <span class="marquee-item">â˜… å°‹æ‰¾è£½ä½œäººä¸­ â˜…</span>
                <span class="marquee-item">â˜… WELCOME TO OFFICIAL SITE â˜…</span>
                <span class="marquee-item">â˜… åœ˜é«”æˆç«‹æ»¿ä¸€é€±å¹´ â˜…</span>
                <span class="marquee-item">â˜… å°‹æ‰¾è£½ä½œäººä¸­ â˜…</span>
            </div>
        </div>

        <div class="lace-border"></div>

        <section class="section-header reveal">
            <h2 class="section-title">MEMBER</h2>
        </section>

        <div class="profile-container">
            <!-- Xiao Miao -->
            <div class="idol-card cyan reveal">
                <img src="/assets/img/guild/cmy_fantasy/gallery_1.webp" class="idol-photo">
                <h3 class="idol-name">ç­±å–µ</h3>
                <div class="idol-info">
                    <p>âœ¨ å±¬æ€§ï¼šåƒè²¨ / å¤©ç„¶å‘†</p>
                    <p>ğŸ¤ æ“”ç•¶ï¼šå¯æ„›æ“”ç•¶</p>
                    <p>ğŸ’– å–œæ­¡ï¼šç”œé»ã€æ—¥ç³»æ­Œæ›²</p>
                    <br>
                    <p>ã€Œå¸Œæœ›èƒ½ç”¨ç¬‘å®¹æ„ŸæŸ“æ¯ä¸€å€‹è§€çœ¾ï¼é›–ç„¶æˆ‘æ˜¯å€‹åƒè²¨ï½ã€</p>
                </div>
            </div>

            <!-- Ting Ting -->
            <div class="idol-card reveal">
                <img src="/assets/img/guild/cmy_fantasy/gallery_2.webp" class="idol-photo">
                <h3 class="idol-name">å©·å©·</h3>
                <div class="idol-info">
                    <p>âœ¨ å±¬æ€§ï¼šå…ƒæ°£ / èˆå°é­‚</p>
                    <p>ğŸ’ƒ æ“”ç•¶ï¼šèˆè¹ˆæ“”ç•¶</p>
                    <p>ğŸ’– å–œæ­¡ï¼šèˆå°è¡¨æ¼”ã€æŒ‘æˆ°</p>
                    <br>
                    <p>ã€Œå°èˆè¹ˆæœ‰è‘—ç„¡æ¯”çš„ç†±å¿±ï¼è®“æˆ‘å€‘ä¸€èµ·Highç¿»å…¨å ´ï¼ã€</p>
                </div>
            </div>
        </div>

        <section class="section-header reveal">
            <h2 class="section-title">SCHEDULE</h2>
        </section>

        <div class="schedule-box reveal">
            <div class="sch-item">
                <span class="sch-date">11.02</span>
                <span class="sch-title">ç§‹æ—¥ç¥­å…¸èˆå°è¡¨æ¼” @é«˜é›„</span>
            </div>
            <div class="sch-item">
                <span class="sch-date">11.15</span>
                <span class="sch-title">Cosplay æ”å½±æœƒ @å°å—</span>
            </div>
            <div class="sch-item">
                <span class="sch-date">12.24</span>
                <span class="sch-title">è–èª•ç‰¹åˆ¥æ¼”å‡º (é å®š)</span>
            </div>
        </div>

        <section class="section-header reveal">
            <h2 class="section-title">MEDIA</h2>
        </section>

        <div class="media-grid reveal">
            <div class="media-item"><img src="/assets/img/guild/cmy_fantasy/gallery_3.webp"></div>
            <div class="media-item"><img src="/assets/img/guild/cmy_fantasy/gallery_4.webp"></div>
            <div class="media-item"><img src="/assets/img/guild/cmy_fantasy/gallery_5.webp"></div>
            <div class="media-item"><img src="/assets/img/guild/cmy_fantasy/gallery_6.webp"></div>
        </div>

        <footer class="footer">
            <h2 class="footer-logo">CMY FANTASY</h2>
            <a href="https://www.instagram.com/cmy_fantasy/" target="_blank" class="btn-producer">BECOME A PRODUCER!</a>
            <div class="social-row">
                <a href="https://www.threads.com/@cmy_fantasy" target="_blank" class="social-link">THREADS</a>
                <a href="https://www.instagram.com/cmy_fantasy/" target="_blank" class="social-link">INSTAGRAM</a>
                <a href="https://www.youtube.com/@cmy_fantasy" target="_blank" class="social-link">YOUTUBE</a>
            </div>
        </footer>

    </main>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // --- Intersection Observer for Scroll Animations ---
        document.addEventListener('DOMContentLoaded', () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        });

        // --- Three.js Background (Waving Penlights) ---
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        // Transparent bg to show CSS gingham pattern

        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.set(0, 10, 30);
        camera.lookAt(0, 0, 0);

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));
        container.appendChild(renderer.domElement);

        // Penlights
        const count = 200;
        const geometry = new THREE.CylinderGeometry(0.2, 0.2, 3, 16);
        geometry.translate(0, 1.5, 0); // Pivot at bottom
        const material = new THREE.MeshBasicMaterial({ color: 0xffffff });
        const mesh = new THREE.InstancedMesh(geometry, material, count);

        const dummy = new THREE.Object3D();
        const colors = [0xff69b4, 0x40e0d0, 0xffd700]; // Pink, Cyan, Yellow

        const lightsData = [];

        for(let i=0; i<count; i++) {
            const x = (Math.random() - 0.5) * 80;
            const z = (Math.random() - 0.5) * 60 - 20;

            dummy.position.set(x, -10, z);
            dummy.updateMatrix();
            mesh.setMatrixAt(i, dummy.matrix);

            mesh.setColorAt(i, new THREE.Color(colors[Math.floor(Math.random() * colors.length)]));

            lightsData.push({
                x, z,
                speed: Math.random() * 0.003 + 0.002,
                offset: Math.random() * 100
            });
        }
        scene.add(mesh);

        // Ambient Light
        const ambient = new THREE.AmbientLight(0xffffff, 1);
        scene.add(ambient);

        function animate() {
            requestAnimationFrame(animate);
            const time = Date.now();

            for(let i=0; i<count; i++) {
                const d = lightsData[i];

                dummy.position.set(d.x, -10, d.z);
                // Waving motion
                dummy.rotation.x = Math.sin(time * d.speed + d.offset) * 0.5;
                dummy.rotation.z = Math.cos(time * d.speed + d.offset) * 0.3;

                dummy.updateMatrix();
                mesh.setMatrixAt(i, dummy.matrix);
            }
            mesh.instanceMatrix.needsUpdate = true;

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
