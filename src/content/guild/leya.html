<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leya | The Prism Soul</title>
    <meta name="description" content="A brave heart drifting in the universe. Rational yet emotional.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;700&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Libraries -->
    <!-- p5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --bg-color: #f0f2f5;
            --text-color: #2d3436;
            --accent-gold: #D4AF37;
            --accent-prism: linear-gradient(135deg, #a8c0ff 0%, #3f2b96 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Noto Serif TC', serif;
            overflow-x: hidden;
            width: 100vw;
        }

        /* --- Canvas Wrapper --- */
        #p5-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* --- UI Layer --- */
        main {
            position: relative;
            z-index: 10;
        }

        .clickable {
            pointer-events: auto;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center; /* Default center for mobile */
            padding: 2rem;
            position: relative;
            pointer-events: none; /* Let scroll pass */
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            pointer-events: auto;
            display: flex;
            flex-direction: column;
            /* Default for mobile: stacked */
        }

        /* Split layout for Desktop to show Crystal */
        @media (min-width: 900px) {
            section:nth-child(odd) .container { align-items: flex-end; } /* Right align */
            section:nth-child(even) .container { align-items: flex-start; } /* Left align */

            .content-card {
                width: 45%; /* Leave 55% for crystal */
            }

            /* Hero is centered */
            #sec-hero .container { align-items: center; }
        }

        /* --- Typography --- */
        h1, h2, h3 {
            font-family: 'Cinzel', serif;
            letter-spacing: 0.05em;
        }

        .hero-title {
            font-size: clamp(3rem, 10vw, 8rem);
            color: #2d3436;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            margin-bottom: 0.5rem;
            mix-blend-mode: overlay;
            text-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--accent-gold);
            letter-spacing: 0.5em;
            text-transform: uppercase;
        }

        /* --- Glass Cards --- */
        .content-card {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            padding: 3rem;
            position: relative;
            margin: 2rem 0;
            border-radius: 4px;
            box-shadow: 0 15px 35px rgba(31, 38, 135, 0.05);
            overflow: hidden;
            transition: transform 0.3s;
        }

        /* Prismatic Border Effect */
        .content-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 4px;
            background: linear-gradient(90deg, #ff9a9e 0%, #fad0c4 25%, #fad0c4 50%, #a18cd1 75%, #fbc2eb 100%);
        }

        .section-title {
            font-size: 2.5rem;
            color: #2d3436;
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        p {
            font-size: 1.1rem;
            line-height: 2;
            margin-bottom: 1.5rem;
            color: #555;
            text-align: justify;
        }

        .highlight {
            background: linear-gradient(120deg, rgba(212, 175, 55, 0.2) 0%, rgba(212, 175, 55, 0) 100%);
            padding: 0 5px;
            font-weight: 500;
        }

        /* --- Footer --- */
        footer {
            padding: 6rem 0;
            text-align: center;
        }
        .social-btn {
            display: inline-flex;
            width: 50px; height: 50px;
            justify-content: center; align-items: center;
            font-size: 1.2rem;
            color: #555;
            margin: 0 1rem;
            text-decoration: none;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 50%;
            transition: all 0.3s;
            background: rgba(255,255,255,0.5);
        }
        .social-btn:hover {
            color: var(--accent-gold);
            border-color: var(--accent-gold);
            transform: scale(1.1);
            background: #fff;
        }

        .nav-back {
            position: fixed; top: 2rem; left: 2rem; z-index: 100;
            color: #555; text-decoration: none;
            font-family: 'Cinzel', serif; font-weight: 700;
            opacity: 0.6; transition: opacity 0.3s;
        }
        .nav-back:hover { opacity: 1; color: var(--accent-gold); }

        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #f0f2f5; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            color: var(--accent-gold); font-family: 'Cinzel'; letter-spacing: 0.2em;
        }
    </style>
</head>
<body>

    <div id="loader">POLISHING GEMSTONE...</div>
    <a href="/guild/" class="nav-back clickable">GUILD</a>
    <div id="p5-container"></div>

    <main>
        <!-- Section 1: Hero -->
        <section id="sec-hero">
            <div class="container" style="text-align: center;">
                <h1 class="hero-title">LEYA</h1>
                <div class="hero-subtitle">The Prism Soul</div>
            </div>
        </section>

        <!-- Section 2: Bio -->
        <section id="sec-bio">
            <div class="container">
                <div class="content-card">
                    <h2 class="section-title">Refraction</h2>
                    <p>
                        我是 <span class="highlight">Leya</span>。30歲以前，我有三分之一的時間漂泊在海外。當那段旅程暫告段落，回到台灣後，內心經歷了巨大的衝擊與重新適應。
                    </p>
                    <p>
                        像一顆原石被重新打磨，我無婚姻、無子女、無房無車，但擁有一顆<span class="highlight">勇敢的心</span>。
                        花了一年的時間慢慢調適，終於在混亂中看見了光折射的方向。
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 3: Services -->
        <section id="sec-services">
            <div class="container">
                <div class="content-card">
                    <h2 class="section-title">Facets</h2>
                    <p>
                        <i class="fa-solid fa-gem" style="color: var(--accent-gold); margin-right: 10px;"></i>
                        <strong>勇敢的催化劑</strong><br>
                        如果你也正處於人生的十字路口，我希望能成為你的勇氣參照物——讓你知道，晚一點開始，真的沒關係。
                    </p>
                    <p>
                        <i class="fa-solid fa-compass" style="color: #a18cd1; margin-right: 10px;"></i>
                        <strong>流浪的視角</strong><br>
                        從澳洲打工度假到西班牙朝聖之路，我們一起探索世界的邊界，看見不同的生活光譜。
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 4: Goals -->
        <section id="sec-goals">
            <div class="container">
                <div class="content-card">
                    <h2 class="section-title">Reflection</h2>
                    <p style="text-align: center; font-style: italic; color: #777;">
                        「慢慢走也可以，走在自己要的路上都會發光。」
                    </p>
                    <div style="display: flex; justify-content: space-around; margin-top: 2rem;">
                        <div style="text-align: center;">
                            <i class="fa-solid fa-earth-oceania" style="font-size: 2rem; color: #a18cd1;"></i><br><br>Australia
                        </div>
                        <div style="text-align: center;">
                            <i class="fa-solid fa-person-hiking" style="font-size: 2rem; color: #ff9a9e;"></i><br><br>Spain
                        </div>
                        <div style="text-align: center;">
                            <i class="fa-brands fa-youtube" style="font-size: 2rem; color: #ff6b6b;"></i><br><br>Channel
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="clickable">
            <div class="container">
                <h2 style="font-family: 'Cinzel'; margin-bottom: 2rem;">CONNECT</h2>
                <div class="socials">
                    <a href="https://www.threads.net/@goodays.leya" target="_blank" class="social-btn"><i class="fa-brands fa-threads"></i></a>
                    <a href="https://www.instagram.com/goodays.leya/" target="_blank" class="social-btn"><i class="fa-brands fa-instagram"></i></a>
                </div>
                <p style="margin-top: 3rem; color: #aaa; font-size: 0.8rem;">
                    Made with ♥ for Guild
                </p>
            </div>
        </footer>
    </main>

    <script>
        // --- Global Animation State ---
        let scrollYNorm = 0;
        let crystalState = {
            openness: 0, // 0 = Closed, 1 = Exploded
            spinSpeed: 0.005,
            colorShift: 0
        };

        // --- p5.js Sketch (Gemstone) ---
        const sketch = (p) => {
            // Colors for iridescence
            const colors = [
                p.color(255, 154, 158), // Pink
                p.color(161, 140, 209), // Purple
                p.color(250, 208, 196), // Peach
                p.color(168, 208, 230)  // Blue
            ];

            p.setup = () => {
                const canvas = p.createCanvas(p.windowWidth, p.windowHeight, p.WEBGL);
                canvas.parent('p5-container');
                p.setAttributes('alpha', true);
            };

            p.draw = () => {
                p.clear();

                // Lighting Setup for Gem Look
                p.ambientLight(100);
                // Rotating colored lights to create "sparkle"
                let t = p.frameCount * 0.02;
                p.pointLight(255, 0, 255, 300 * Math.cos(t), 300 * Math.sin(t), 200); // Magenta
                p.pointLight(0, 255, 255, 300 * Math.cos(t + 2), 300 * Math.sin(t + 2), 200); // Cyan
                p.pointLight(255, 215, 0, 0, 0, 500); // Gold front light

                // Camera Logic
                // On Scroll, we might want to zoom in/out or move the crystal
                // Let's keep it centered but rotate it heavily

                p.push();

                // Base Rotation
                p.rotateY(p.frameCount * crystalState.spinSpeed + scrollYNorm * p.PI * 4);
                p.rotateX(p.frameCount * 0.002 + scrollYNorm * p.PI * 2);

                // Material properties
                p.specularMaterial(255);
                p.shininess(50);
                p.noStroke();

                // Draw Complex Crystal Structure
                // Instead of one box, draw multiple interlocking shapes
                // Use scrollYNorm to "explode" them (translate them apart)

                const expansion = crystalState.openness * 150;

                // Core (The Soul) - Always solid
                p.push();
                p.fill(255, 255, 255, 220); // Milky White
                p.scale(1 + crystalState.openness * 0.5); // Pulse
                drawJewel(p, 80);
                p.pop();

                // Outer Shells (Facets) - Semi-transparent and Colorful
                for (let i = 0; i < 6; i++) {
                    p.push();

                    // Arrange in a cluster
                    let angle = i * (p.TWO_PI / 6);
                    let r = 60 + expansion * 0.5;
                    let x = Math.cos(angle) * r;
                    let y = Math.sin(angle) * r;
                    let z = Math.sin(angle * 3) * 50 + (i%2===0 ? expansion : -expansion);

                    p.translate(x, y, z);

                    // Rotate each shard
                    p.rotateX(angle + t);
                    p.rotateY(angle);

                    // Dynamic Color
                    let colIndex = (i + Math.floor(t)) % colors.length;
                    let col = colors[colIndex];
                    // Add transparency
                    col.setAlpha(150);
                    p.fill(col);

                    // Draw Shard
                    if (i % 2 === 0) {
                        p.cone(30, 70);
                    } else {
                        p.octahedron(40);
                    }

                    p.pop();
                }

                // Orbiting Particles (Stardust)
                if (crystalState.openness > 0.1) {
                    for(let j=0; j<10; j++) {
                        p.push();
                        let orbitR = 150 + expansion + Math.sin(t*2 + j)*20;
                        let ox = Math.cos(t + j) * orbitR;
                        let oz = Math.sin(t + j) * orbitR;
                        let oy = Math.cos(t*3 + j) * 50;
                        p.translate(ox, oy, oz);
                        p.emissiveMaterial(255, 255, 200);
                        p.sphere(2);
                        p.pop();
                    }
                }

                p.pop();
            };

            function drawJewel(p, r) {
                // A makeshift jewel: 2 pyramids base-to-base (like an octahedron but taller)
                p.push();
                p.cylinder(r * 0.7, r * 0.5, 6, 1); // Hexagonal prism center
                p.translate(0, r * 0.5, 0);
                p.cone(r * 0.7, r, 6); // Bottom point
                p.translate(0, -r, 0);
                p.rotateX(p.PI);
                p.cone(r * 0.7, r, 6); // Top point
                p.pop();
            }

            // Custom octahedron helper if needed (p5 has geometry but let's be safe)
            p.octahedron = (r) => {
                // Simple box rotated is fine for low poly shard look
                p.push();
                p.rotateX(p.QUARTER_PI);
                p.rotateZ(p.QUARTER_PI);
                p.box(r);
                p.pop();
            }

            p.windowResized = () => {
                p.resizeCanvas(p.windowWidth, p.windowHeight);
            };
        };

        // --- GSAP Logic ---
        function initApp() {
            gsap.registerPlugin(ScrollTrigger);

            // Sync Scroll
            ScrollTrigger.create({
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                onUpdate: (self) => {
                    scrollYNorm = self.progress;
                }
            });

            // Section Specific Interactions

            // Hero: Closed Crystal
            gsap.to(crystalState, {
                openness: 0,
                scrollTrigger: {
                    trigger: "#sec-hero",
                    start: "top center",
                    end: "bottom center",
                    scrub: 1
                }
            });

            // Bio: Explosion / Deconstruction
            gsap.to(crystalState, {
                openness: 1, // Full explode
                scrollTrigger: {
                    trigger: "#sec-bio",
                    start: "top bottom",
                    end: "center center",
                    scrub: 1
                }
            });

            // Services: Gather but spin fast
            gsap.to(crystalState, {
                openness: 0.2, // Close slightly
                spinSpeed: 0.02, // Spin fast
                scrollTrigger: {
                    trigger: "#sec-services",
                    start: "top center",
                    end: "bottom center",
                    scrub: 1
                }
            });

             // Goals: Peaceful orbit
            gsap.to(crystalState, {
                openness: 0.5,
                spinSpeed: 0.005,
                scrollTrigger: {
                    trigger: "#sec-goals",
                    start: "top center",
                    end: "bottom center",
                    scrub: 1
                }
            });

            // Card Entrance
            gsap.utils.toArray('.content-card').forEach((card, i) => {
                // Alternating slide in
                let xOffset = i % 2 === 0 ? -50 : 50;
                gsap.from(card, {
                    x: xOffset,
                    opacity: 0,
                    duration: 1,
                    scrollTrigger: {
                        trigger: card,
                        start: "top 80%"
                    }
                });
            });
        }

        window.addEventListener('load', () => {
            new p5(sketch);
            gsap.to("#loader", {
                opacity: 0,
                duration: 1,
                onComplete: () => {
                    document.getElementById('loader').style.display = 'none';
                    initApp();
                }
            });
        });

    </script>
</body>
</html>
