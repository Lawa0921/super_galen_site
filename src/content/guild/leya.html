<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leya | The Prism Core</title>
    <meta name="description" content="A brave heart drifting in the universe. Rational yet emotional.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;700&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.160.0/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --bg-color: #050505;
            --text-color: #f0f0f0;
            --accent-gold: #FFD700;
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Noto Serif TC', serif;
            overflow-x: hidden;
            width: 100vw;
            scrollbar-width: none;
        }
        body::-webkit-scrollbar { display: none; }

        /* --- Canvas Wrapper --- */
        #webgl-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none; /* Let clicks pass */
        }

        /* --- Scroll Spacer --- */
        #scroll-spacer {
            height: 600vh; /* Deep scroll timeline */
            width: 100%;
            position: absolute;
            top: 0; left: 0;
            z-index: -1;
            pointer-events: none;
        }

        /* --- Content Layer --- */
        .content-section {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 10;
            opacity: 0;
            display: flex;
            padding: 5vw;
            transition: opacity 0.5s ease;
        }

        .content-section.active {
            pointer-events: auto;
        }

        /* --- Layouts --- */
        #sec-hero {
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        #sec-bio {
            justify-content: flex-start; /* Left */
            align-items: center;
        }

        #sec-philosophy {
            justify-content: flex-end; /* Right */
            align-items: center;
        }

        #sec-roadmap {
            justify-content: center;
            align-items: flex-end; /* Bottom */
            padding-bottom: 10vh;
        }

        /* --- Typography --- */
        h1, h2, h3 {
            font-family: 'Cinzel', serif;
            font-weight: 400;
            letter-spacing: 0.1em;
        }

        .hero-title {
            font-size: clamp(4rem, 10vw, 8rem);
            background: linear-gradient(to right, #fff, #a8c0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(168, 192, 255, 0.3);
        }

        .section-title {
            font-size: 2.5rem;
            color: var(--accent-gold);
            margin-bottom: 2rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: ''; position: absolute; bottom: -10px; left: 0;
            width: 50px; height: 2px; background: var(--accent-gold);
        }

        /* --- Glass Cards --- */
        .glass-card {
            background: rgba(10, 10, 10, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            padding: 3rem;
            max-width: 500px;
            width: 100%;
            border-radius: 4px;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* Corner Accents */
        .glass-card::before {
            content: ''; position: absolute; top: -1px; left: -1px;
            width: 20px; height: 20px; border-top: 2px solid var(--accent-gold); border-left: 2px solid var(--accent-gold);
        }
        .glass-card::after {
            content: ''; position: absolute; bottom: -1px; right: -1px;
            width: 20px; height: 20px; border-bottom: 2px solid var(--accent-gold); border-right: 2px solid var(--accent-gold);
        }

        p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: #ccc;
            text-align: justify;
        }

        .highlight {
            color: #fff;
            border-bottom: 1px solid rgba(255, 215, 0, 0.5);
        }

        /* --- Footer --- */
        .fixed-footer {
            position: fixed; bottom: 2rem; width: 100%; text-align: center;
            z-index: 100; pointer-events: none;
        }
        .socials {
            pointer-events: auto; display: inline-flex; gap: 2rem;
        }
        .social-link {
            color: #888; font-size: 1.5rem; transition: 0.3s;
        }
        .social-link:hover { color: #fff; transform: scale(1.2); text-shadow: 0 0 10px #fff; }

        .nav-back {
            position: fixed; top: 2rem; left: 2rem; z-index: 100;
            color: #888; text-decoration: none; font-family: 'Cinzel';
            transition: 0.3s;
        }
        .nav-back:hover { color: #fff; }

        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            color: var(--accent-gold); font-family: 'Cinzel'; letter-spacing: 0.2em;
        }

        @media (max-width: 768px) {
            .content-section { justify-content: center !important; align-items: flex-end !important; padding-bottom: 15vh; }
            .glass-card { padding: 1.5rem; background: rgba(0,0,0,0.8); }
            .hero-title { font-size: 3.5rem; }
        }
    </style>
</head>
<body>

    <div id="loader">FACETING CRYSTAL...</div>
    <a href="/guild/" class="nav-back">GUILD</a>

    <div id="webgl-container"></div>
    <div id="scroll-spacer"></div>

    <!-- 1. Hero -->
    <div id="sec-hero" class="content-section">
        <div>
            <h1 class="hero-title">LEYA</h1>
            <div style="color: #888; letter-spacing: 0.5em; text-transform: uppercase;">The Prism Soul</div>
            <div style="margin-top: 3rem; animation: float 2s infinite;">
                <i class="fa-solid fa-chevron-down"></i>
            </div>
        </div>
    </div>

    <!-- 2. Bio -->
    <div id="sec-bio" class="content-section">
        <div class="glass-card">
            <h2 class="section-title">Refraction</h2>
            <p>
                我是 <strong>Leya</strong>。30歲以前的日子，有三分之一的時間不在台灣。當那段漫長的旅程暫告段落，回到家鄉後，迎接我的不是安穩，而是內心巨大的衝擊與重新適應的陣痛。
            </p>
            <p>
                在世俗的眼光中，我無婚姻、無子女、無房無車，彷彿一無所有。但我知道，我擁有一顆<span class="highlight">勇敢的心</span>，依然渴望在这个廣大的世界裡漂泊、探索。
            </p>
            <p>
                花了一年的時間，我慢慢地將碎裂的自己拼湊完整，終於在混亂中找到了方向。我是感性與理性並存的矛盾體，既喜歡解構人性的複雜，又對世界保持著孩子般的好奇。
            </p>
        </div>
    </div>

    <!-- 3. Philosophy (Services) -->
    <div id="sec-philosophy" class="content-section">
        <div class="glass-card">
            <h2 class="section-title">Facets</h2>
            <div style="margin-bottom: 2rem;">
                <h3 style="color: #fff; margin-bottom: 0.5rem;"><i class="fa-solid fa-fire" style="color: var(--accent-gold)"></i> 勇敢的催化劑</h3>
                <p style="font-size: 0.95rem;">
                    如果你也正處於人生的十字路口，或者害怕「大齡」重來的代價。我希望能成為你的勇氣參照物——讓你知道，晚一點開始，真的沒關係。走在自己要的路上，都會發光。
                </p>
            </div>
            <div>
                <h3 style="color: #fff; margin-bottom: 0.5rem;"><i class="fa-solid fa-eye" style="color: #a8c0ff"></i> 獨立思考的視角</h3>
                <p style="font-size: 0.95rem;">
                    在這個資訊過載的時代，我們練習剝開表象。敢於質疑權威，思考人性。從成長與挫折中學習，一邊害怕，一邊前進。
                </p>
            </div>
        </div>
    </div>

    <!-- 4. Roadmap (Goals & Gallery) -->
    <div id="sec-roadmap" class="content-section" style="flex-direction: column;">
        <div class="glass-card" style="text-align: center; margin-bottom: 2rem;">
            <h2 class="section-title">Reflection</h2>
            <p>
                這是一場沒有終點的旅程。我的下一個目標已經在發光。
            </p>
            <div style="display: flex; justify-content: space-around; margin-top: 2rem; flex-wrap: wrap; gap: 2rem;">
                <div>
                    <div style="font-size: 2.5rem; color: #a8c0ff; margin-bottom: 1rem;"><i class="fa-solid fa-earth-oceania"></i></div>
                    <h3 style="font-size: 1rem;">Australia</h3>
                    <div style="font-size: 0.8rem; color: #ccc;">Working Holiday</div>
                </div>
                <div>
                    <div style="font-size: 2.5rem; color: var(--accent-gold); margin-bottom: 1rem;"><i class="fa-solid fa-person-hiking"></i></div>
                    <h3 style="font-size: 1rem;">Spain</h3>
                    <div style="font-size: 0.8rem; color: #ccc;">Pilgrimage</div>
                </div>
                <div>
                    <div style="font-size: 2.5rem; color: #ff9a9e; margin-bottom: 1rem;"><i class="fa-brands fa-youtube"></i></div>
                    <h3 style="font-size: 1rem;">Channel</h3>
                    <div style="font-size: 0.8rem; color: #ccc;">Creator</div>
                </div>
            </div>
        </div>

        <!-- Mini Gallery Grid -->
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-width: 500px; width: 100%;">
            <div style="aspect-ratio: 1; overflow: hidden; border-radius: 4px; opacity: 0.8; transition: 0.3s; cursor: pointer;" onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.8">
                <img src="/assets/img/guild/leya/gallery_1.webp" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            <div style="aspect-ratio: 1; overflow: hidden; border-radius: 4px; opacity: 0.8; transition: 0.3s; cursor: pointer;" onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.8">
                <img src="/assets/img/guild/leya/gallery_2.webp" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            <div style="aspect-ratio: 1; overflow: hidden; border-radius: 4px; opacity: 0.8; transition: 0.3s; cursor: pointer;" onmouseover="this.style.opacity=1" onmouseout="this.style.opacity=0.8">
                <img src="/assets/img/guild/leya/gallery_3.webp" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
        </div>
    </div>

    <div class="fixed-footer">
        <div class="socials">
            <a href="https://www.threads.net/@goodays.leya" target="_blank" class="social-link"><i class="fa-brands fa-threads"></i></a>
            <a href="https://www.instagram.com/goodays.leya/" target="_blank" class="social-link"><i class="fa-brands fa-instagram"></i></a>
        </div>
        <div style="margin-top: 1rem; color: #444; font-size: 0.8rem;">Made with ♥ for Guild</div>
    </div>

    <script>
        // --- Configuration ---
        const config = {
            scrollLength: 6000, // Sync with CSS height
        };

        // --- Three.js Setup ---
        const container = document.getElementById('webgl-container');
        const scene = new THREE.Scene();

        // Camera
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.set(0, 0, 15); // Start far back

        // Renderer
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.outputEncoding = THREE.sRGBEncoding;
        container.appendChild(renderer.domElement);

        // --- Crystal Geometry (The Soul) ---
        // Create a complex shape: Icosahedron + randomness or just a clean shape
        const geometry = new THREE.IcosahedronGeometry(2, 0); // Low detail for facets

        // Material: Realistic Gemstone
        // Note: For real refraction we need an envMap. We'll generate a simple PMREM or use lights.
        // Let's use a physical material and lights to fake it nicely.
        const material = new THREE.MeshPhysicalMaterial({
            color: 0xffffff,
            metalness: 0.1,
            roughness: 0.05,
            transmission: 0.9, // Glass-like
            thickness: 2.0,
            ior: 1.5, // Refraction index
            reflectivity: 0.9,
            iridescence: 1.0,
            iridescenceIOR: 1.3,
            clearcoat: 1.0,
            side: THREE.DoubleSide
        });

        const crystal = new THREE.Mesh(geometry, material);
        scene.add(crystal);

        // Inner Core (The "Brave Heart")
        const coreGeo = new THREE.OctahedronGeometry(0.8, 0);
        const coreMat = new THREE.MeshBasicMaterial({
            color: 0xffd700,
            wireframe: true,
            transparent: true,
            opacity: 0.5
        });
        const core = new THREE.Mesh(coreGeo, coreMat);
        crystal.add(core); // Child of crystal

        // --- Lighting ---
        const ambientLight = new THREE.AmbientLight(0x404040, 2);
        scene.add(ambientLight);

        // Colored lights for Iridescence simulation
        const lights = [];
        const colors = [0x00ffff, 0xff00ff, 0xffd700]; // Cyan, Magenta, Gold

        colors.forEach((col, i) => {
            const light = new THREE.PointLight(col, 2, 20);
            light.position.set(
                Math.sin(i * 2) * 5,
                Math.cos(i * 2) * 5,
                5
            );
            scene.add(light);
            lights.push(light);
        });

        // --- Animation Loop ---
        function animate() {
            requestAnimationFrame(animate);

            // Idle Rotation
            const time = Date.now() * 0.0005;
            core.rotation.y -= 0.01;
            core.rotation.z -= 0.005;

            // Move lights
            lights.forEach((l, i) => {
                l.position.x = Math.sin(time + i) * 6;
                l.position.y = Math.cos(time * 0.8 + i) * 6;
            });

            renderer.render(scene, camera);
        }
        animate();

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- GSAP Scroll Logic ---
        gsap.registerPlugin(ScrollTrigger);

        function initScroll() {
            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#scroll-spacer",
                    start: "top top",
                    end: "bottom bottom",
                    scrub: 1
                }
            });

            // Section 1 (Hero) -> Section 2 (Bio)
            // Camera zooms in close to face, Crystal rotates
            tl.to(camera.position, { z: 6, x: 2, y: 1, duration: 2 }, 0)
              .to(crystal.rotation, { x: 1, y: 2, duration: 2 }, 0)
              .to("#sec-hero", { opacity: 0, pointerEvents: 'none', duration: 0.5 }, 0)
              .to("#sec-bio", { opacity: 1, pointerEvents: 'auto', duration: 0.5 }, 0.5);

            // Section 2 -> Section 3 (Philosophy)
            // Camera orbits to other side
            tl.to(camera.position, { z: 5, x: -3, y: -1, duration: 2 })
              .to(crystal.rotation, { x: -1, y: 4, duration: 2 }, "<")
              .to("#sec-bio", { opacity: 0, pointerEvents: 'none', duration: 0.5 }, "<")
              .to("#sec-philosophy", { opacity: 1, pointerEvents: 'auto', duration: 0.5 }, "<+0.5");

            // Section 3 -> Section 4 (Roadmap)
            // Camera pulls back and looks up
            tl.to(camera.position, { z: 8, x: 0, y: 4, duration: 2 })
              .to(camera.rotation, { x: -0.5, duration: 2 }, "<")
              .to(crystal.rotation, { x: 0, y: 6, duration: 2 }, "<")
              .to("#sec-philosophy", { opacity: 0, pointerEvents: 'none', duration: 0.5 }, "<")
              .to("#sec-roadmap", { opacity: 1, pointerEvents: 'auto', duration: 0.5 }, "<+0.5");
        }

        window.addEventListener('load', () => {
            gsap.to("#loader", { opacity: 0, duration: 1, onComplete: () => {
                document.getElementById('loader').style.display = 'none';
                initScroll();
            }});
        });

    </script>
</body>
</html>
