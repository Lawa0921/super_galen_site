<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liloyee | Underwater Dream</title>
    <meta name="description" content="Liloyee - å¥§æ•¸è€å¸«, ä½œå®¶, Cosplayer. Welcome to my underwater dream world.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&family=Noto+Sans+TC:wght@300;400;700&family=Fredoka:wght@400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        :root {
            /* Palette: Green, Pink, Blue */
            --color-bg-start: #e0f7fa; /* Light Cyan */
            --color-text: #2c3e50;
            --color-green: #a8e6cf;
            --color-pink: #ffb7b2;
            --color-blue: #a0e9ff;
            --color-deep-sea: #004d61;
            --font-main: 'Zen Maru Gothic', sans-serif;
            --font-body: 'Noto Sans TC', sans-serif;
            --font-tech: 'Share Tech Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }

        body {
            background-color: var(--color-bg-start);
            color: var(--color-text);
            font-family: var(--font-body);
            overflow-x: hidden;
            width: 100%;
        }

        /* --- Canvas Background --- */
        #canvas-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            pointer-events: none;
            background: linear-gradient(180deg, #e0f7fa 0%, #b2ebf2 40%, #006064 100%);
        }

        /* --- Magic Cursor (Bubble) --- */
        .cursor-dot {
            width: 20px; height: 20px;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,255,255,0.4) 60%, rgba(255,255,255,0) 100%);
            border: 1px solid rgba(255,255,255,0.8);
            border-radius: 50%;
            position: fixed;
            top: 0; left: 0;
            z-index: 9999;
            pointer-events: none;
            box-shadow: 0 0 10px rgba(160, 233, 255, 0.5);
            transition: width 0.3s, height 0.3s, transform 0.1s;
        }
        .cursor-dot.hover {
            width: 50px; height: 50px;
            border: 2px solid var(--color-pink);
            background: rgba(255, 183, 178, 0.2);
        }

        /* --- Layout --- */
        main { position: relative; z-index: 10; width: 100%; }
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem 2rem;
            position: relative;
        }
        .container { max-width: 1200px; width: 100%; margin: 0 auto; }

        /* --- Typography --- */
        h1, h2, h3 { font-family: var(--font-main); }
        h1 {
            font-size: clamp(4rem, 15vw, 8rem);
            font-weight: 700;
            color: transparent;
            background: linear-gradient(135deg, var(--color-pink) 0%, var(--color-blue) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            filter: drop-shadow(0px 5px 15px rgba(160, 233, 255, 0.6));
            margin-bottom: 1rem;
            text-align: center;
        }
        h2 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            color: var(--color-deep-sea);
            margin-bottom: 2rem;
            text-shadow: 2px 2px 0px rgba(255,255,255,0.5);
        }

        /* --- Components --- */
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            border: 2px solid rgba(255,255,255,0.9);
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 77, 97, 0.1);
        }

        /* --- Hero --- */
        .hero-content { text-align: center; }
        .avatar-container {
            width: 280px; height: 280px;
            border-radius: 50%;
            margin: 0 auto 2rem;
            padding: 8px;
            background: linear-gradient(45deg, var(--color-green), var(--color-blue), var(--color-pink));
            box-shadow: 0 0 40px rgba(168, 230, 207, 0.6);
            animation: float 4s ease-in-out infinite;
        }
        .avatar-img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 5px solid white; }
        @keyframes float { 0%,100% {transform: translateY(0);} 50% {transform: translateY(-20px);} }

        /* --- Scrollytelling Timeline (Vertical w/ Images) --- */
        .story-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 80vh;
        }
        .story-section:nth-child(even) { flex-direction: row-reverse; }
        .story-text { flex: 1; padding: 2rem; }
        .story-img-wrapper {
            flex: 1;
            max-width: 500px;
            height: 350px;
            border-radius: 30px;
            overflow: hidden;
            border: 8px solid white;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            transform: rotate(2deg);
        }
        .story-section:nth-child(even) .story-img-wrapper { transform: rotate(-2deg); }
        .story-img { width: 100%; height: 100%; object-fit: cover; }

        /* --- Feature Cards (Slot, Lab) --- */
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin: 4rem 0; }
        .feature-card { background: white; border-radius: 20px; padding: 2rem; text-align: center; border: 3px solid var(--color-green); }

        /* --- Footer --- */
        footer { padding: 4rem 0; background: rgba(0, 77, 97, 0.9); color: white; text-align: center; }

        @media (max-width: 768px) {
            .story-section { flex-direction: column !important; text-align: center; padding: 2rem 0; }
            .story-img-wrapper { width: 90%; height: 250px; margin: 1rem auto; }
        }
    </style>
</head>
<body>
    <div class="cursor-dot"></div>
    <div id="canvas-container"></div>
    <a href="/guild/" class="nav-back" style="position: fixed; top: 2rem; left: 2rem; z-index: 100; background: white; padding: 0.8rem 1.5rem; border-radius: 50px; text-decoration: none; color: var(--color-deep-sea); font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"><i class="fa-solid fa-arrow-left"></i> Exit Sea</a>

    <main>
        <!-- 1. HERO -->
        <section id="hero">
            <div class="container hero-content">
                <div class="avatar-container">
                    <img src="/assets/img/guild/liloyee/avatar.webp" class="avatar-img">
                </div>
                <h1>Liloyee</h1>
                <p style="font-size: 1.5rem; color: var(--color-deep-sea);">
                    <i class="fa-solid fa-water"></i> Welcome to my underwater dream.
                </p>
                <div style="margin-top: 2rem;">
                    <span style="background:var(--color-green); padding:0.5rem 1rem; border-radius:20px; margin:0.3rem;">Writer</span>
                    <span style="background:var(--color-pink); padding:0.5rem 1rem; border-radius:20px; margin:0.3rem;">Teacher</span>
                    <span style="background:var(--color-blue); padding:0.5rem 1rem; border-radius:20px; margin:0.3rem;">Cosplayer</span>
                </div>
            </div>
        </section>

        <!-- 2. SCROLLYTELLING JOURNEY -->
        <div class="container" style="padding-bottom: 4rem;">

            <!-- Origin -->
            <div class="story-section">
                <div class="story-text">
                    <h2 style="color: var(--color-green);">Origin Story <i class="fa-solid fa-seedling"></i></h2>
                    <p>ç•¢æ¥­æ–¼ç¤¾æœƒå¿ƒç†ç³»çš„é¦¬ä¾†è¥¿äºäºº ğŸ‡²ğŸ‡¾</p>
                    <p>é›–ç„¶å°æ™‚å€™æ²’æœ‰å¤ªå¤šè³‡æºï¼Œä½†é‹æ°£ä¸€ç›´å¾ˆå¥½ï¼Œç¸½æœƒé‡åˆ°å¹¸é‹çš„äº‹ã€‚</p>
                </div>
                <div class="story-img-wrapper">
                    <img src="/assets/img/guild/liloyee/gallery_01.webp" class="story-img">
                </div>
            </div>

            <!-- Teacher -->
            <div class="story-section">
                <div class="story-text">
                    <h2 style="color: var(--color-pink);">Math Teacher <i class="fa-solid fa-chalkboard-user"></i></h2>
                    <p>ç¾åœ¨æ˜¯ä¸€åå¥§æ•¸æ•¸å­¸è€å¸« ğŸ“</p>
                    <p>ç”¨æ•™è‚²ç™‚ç™’ä»–äººï¼Œä¹Ÿè¢«å­©å­å€‘ç´”çœŸçš„ç¬‘å®¹ç™‚ç™’ã€‚</p>
                </div>
                <div class="story-img-wrapper">
                    <img src="/assets/img/guild/liloyee/gallery_02.webp" class="story-img">
                </div>
            </div>

            <!-- Volunteer -->
            <div class="story-section">
                <div class="story-text">
                    <h2 style="color: var(--color-blue);">Angel Heart <i class="fa-solid fa-hand-holding-heart"></i></h2>
                    <p>æ›¾ä»»è‡ªé–‰ç—‡é™ªè®€ï¼Œä¹Ÿåƒèˆ‡éè¨±å¤šç¾©å·¥æ´»å‹•ã€‚</p>
                    <p>ã€Œå¸Œæœ›æˆç‚ºå¤©ä¸Šçš„å¤©ä½¿å‰ï¼Œä¹Ÿå¯ä»¥æ˜¯äººé–“çš„å¤©ä½¿ ğŸ§šğŸ»â€â™€ï¸ã€</p>
                </div>
                <div class="story-img-wrapper">
                    <img src="/assets/img/guild/liloyee/gallery_03.webp" class="story-img">
                </div>
            </div>

            <!-- Dream Analyst (Replaces previous Lab) -->
            <div class="story-section">
                <div class="story-text">
                    <h2 style="color: #9b59b6;">Dream Analyst <i class="fa-solid fa-moon"></i></h2>
                    <p>å¤šå¤¢ç—‡è®“æˆ‘ç¶“å¸¸åœ¨å¤¢è£¡æ—…è¡Œ ğŸ’¤</p>
                    <p>å¤¢è£¡æœ‰é¡è‰²ã€è§¸è¦ºã€æº«åº¦ï¼Œç”šè‡³ç—›è¦ºã€‚æˆ‘å–œæ­¡åˆ†æå¤¢å¢ƒçš„æƒ…ç·’èˆ‡å ´æ™¯ã€‚</p>
                    <div style="margin-top: 1rem; font-family: var(--font-tech); background: rgba(255,255,255,0.5); padding: 1rem; border-radius: 10px;">
                        LUCIDITY: 98% | SENSORY: MAX
                    </div>
                </div>
                <div class="story-img-wrapper">
                    <img src="/assets/img/guild/liloyee/gallery_04.webp" class="story-img">
                </div>
            </div>

        </div>

        <!-- 3. INTERACTIVE FEATURES -->
        <section id="features" style="background: rgba(255,255,255,0.3);">
            <div class="container">
                <h2>Interactive Bubble Zone</h2>

                <div class="feature-grid">
                    <!-- Lucky Slot -->
                    <div class="feature-card">
                        <i class="fa-solid fa-clover" style="font-size: 3rem; color: var(--color-green);"></i>
                        <h3>Super Lucky Test</h3>
                        <p>é€™è¼©å­æŠ½éæ‰‹æ©Ÿã€è€³æ©Ÿ...è©¦è©¦ä½ çš„æ‰‹æ°£ï¼</p>
                        <div id="slot-window" style="font-size: 2.5rem; margin: 1rem 0; letter-spacing: 10px;">ğŸ’ ğŸ’ ğŸ’</div>
                        <button onclick="spinSlots()" style="background: var(--color-pink); border:none; padding: 0.8rem 1.5rem; border-radius: 20px; color: white; font-weight: bold; cursor: pointer;">SPIN</button>
                    </div>

                    <!-- Stitch Lover -->
                    <div class="feature-card">
                        <i class="fa-solid fa-heart" style="font-size: 3rem; color: var(--color-blue);"></i>
                        <h3>Stitch Fan</h3>
                        <p>æœ€å–œæ­¡å²è¿ªå¥‡äº†ï¼ğŸ’™</p>
                        <div style="margin-top: 1rem;">
                            <i class="fa-solid fa-otter" style="font-size: 2rem; color: var(--color-blue); animation: bounce 2s infinite;"></i>
                        </div>
                    </div>
                </div>

                <!-- Bubble Blind Box (Simplified) -->
                <div style="text-align: center; margin-top: 3rem;">
                    <h3>Dream Bubbles</h3>
                    <p>Click bubbles to pop memories!</p>
                    <div id="bubble-container" style="display: flex; justify-content: center; gap: 2rem; margin-top: 2rem;">
                        <!-- Generated by JS -->
                    </div>
                </div>

            </div>
        </section>

        <!-- 4. REMAINING GALLERY (Grid) -->
        <section id="gallery-extra">
            <div class="container">
                <h2>More Fragments</h2>
                <div style="columns: 3 200px; column-gap: 1rem;" id="extra-gallery">
                    <!-- JS Injected -->
                </div>
            </div>
        </section>

        <footer>
            <div class="container">
                <h3>Connect with Liloyee</h3>
                <div style="font-size: 2rem; margin-top: 1.5rem;">
                    <a href="https://www.instagram.com/liloyee_0224/" style="color: white; margin: 0 1rem;"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://www.threads.com/@liloyee_0224" style="color: white; margin: 0 1rem;"><i class="fa-brands fa-threads"></i></a>
                </div>
                <p style="margin-top: 2rem; opacity: 0.7;">Designed by SuperGalen</p>
            </div>
        </footer>

    </main>

    <script>
        // --- 1. THREE.JS UNDERWATER BUBBLES ---
        let scene, camera, renderer, particles;

        const initThree = () => {
            const container = document.getElementById('canvas-container');
            scene = new THREE.Scene();
            // Underwater Fog (Light Cyan -> Deep Blue)
            scene.fog = new THREE.FogExp2(0x006064, 0.001);

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
            camera.position.z = 800;

            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Create Bubble Texture
            const canvas = document.createElement('canvas');
            canvas.width = 32; canvas.height = 32;
            const ctx = canvas.getContext('2d');
            ctx.beginPath();
            ctx.arc(16, 16, 15, 0, Math.PI * 2);
            ctx.fillStyle = "rgba(255, 255, 255, 0.8)";
            ctx.fill();
            ctx.lineWidth = 2;
            ctx.strokeStyle = "rgba(255, 255, 255, 0.5)";
            ctx.stroke();
            const texture = new THREE.CanvasTexture(canvas);

            // Particles
            const count = 500;
            const geo = new THREE.BufferGeometry();
            const positions = new Float32Array(count * 3);
            const speeds = new Float32Array(count); // Rise speed

            for(let i=0; i<count; i++) {
                positions[i*3] = (Math.random() - 0.5) * 2000;
                positions[i*3+1] = (Math.random() - 0.5) * 2000;
                positions[i*3+2] = (Math.random() - 0.5) * 1000;
                speeds[i] = 0.5 + Math.random() * 1.5;
            }

            geo.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            const mat = new THREE.PointsMaterial({
                map: texture,
                size: 15,
                transparent: true,
                opacity: 0.6,
                depthWrite: false,
                blending: THREE.AdditiveBlending
            });

            particles = new THREE.Points(geo, mat);
            scene.add(particles);

            // Animation Loop
            const animate = () => {
                requestAnimationFrame(animate);

                const pos = particles.geometry.attributes.position.array;
                for(let i=0; i<count; i++) {
                    // Rise Up
                    pos[i*3+1] += speeds[i];
                    // Wobble X
                    pos[i*3] += Math.sin(Date.now() * 0.001 + i) * 0.2;

                    // Reset if too high
                    if(pos[i*3+1] > 1000) pos[i*3+1] = -1000;
                }
                particles.geometry.attributes.position.needsUpdate = true;

                renderer.render(scene, camera);
            };
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

             // Mouse interaction
            document.addEventListener('mousemove', (e) => {
                const cursor = document.querySelector('.cursor-dot');
                cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
            });
        };

        // --- 2. GSAP SCROLLYTELLING ---
        const initGSAP = () => {
            gsap.registerPlugin(ScrollTrigger);

            gsap.utils.toArray('.story-section').forEach(section => {
                gsap.from(section, {
                    scrollTrigger: {
                        trigger: section,
                        start: "top 80%",
                        toggleActions: "play none none reverse"
                    },
                    y: 100,
                    opacity: 0,
                    duration: 1,
                    ease: "power3.out"
                });
            });
        };

        // --- 3. FEATURES (Slot & Bubbles) ---
        const spinSlots = () => {
            const el = document.getElementById('slot-window');
            const items = ['ğŸš','ğŸ€','â­','ğŸŸ','ğŸ’'];
            let count = 0;
            const interval = setInterval(() => {
                el.innerText = `${items[Math.floor(Math.random()*items.length)]} ${items[Math.floor(Math.random()*items.length)]} ${items[Math.floor(Math.random()*items.length)]}`;
                count++;
                if(count > 20) {
                    clearInterval(interval);
                    el.innerText = "ğŸ€ ğŸ€ ğŸ€"; // Always lucky
                    // Confetti explosion
                    createConfetti(el);
                }
            }, 50);
        };

        const createConfetti = (element) => {
            const rect = element.getBoundingClientRect();
            for(let i=0; i<30; i++) {
                const conf = document.createElement('div');
                conf.innerText = ['âœ¨','ğŸ‰','ğŸ€','ğŸ’'][Math.floor(Math.random()*4)];
                conf.style.position = 'fixed';
                conf.style.left = (rect.left + rect.width/2) + 'px';
                conf.style.top = (rect.top + rect.height/2) + 'px';
                conf.style.fontSize = (1 + Math.random()) + 'rem';
                conf.style.pointerEvents = 'none';
                document.body.appendChild(conf);

                gsap.to(conf, {
                    x: (Math.random() - 0.5) * 300,
                    y: (Math.random() - 0.5) * 300,
                    rotation: Math.random() * 360,
                    opacity: 0,
                    duration: 1 + Math.random(),
                    onComplete: () => conf.remove()
                });
            }
        };

        const initBubbles = () => {
            const container = document.getElementById('bubble-container');
            const msgs = ['Dream', 'Fly', 'Love', 'Story'];
            msgs.forEach(m => {
                const b = document.createElement('div');
                b.style.cssText = "width:80px; height:80px; border-radius:50%; border:2px solid white; display:flex; align-items:center; justify-content:center; cursor:pointer; background:rgba(255,255,255,0.2); transition:all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); font-weight:bold; color:white;";
                b.innerText = "?";
                b.onclick = function() {
                    this.style.transform = "scale(1.4) rotate(10deg)";
                    this.style.background = "var(--color-pink)";
                    this.style.boxShadow = "0 0 20px var(--color-pink)";
                    this.innerText = m;
                    // Reset slightly
                    setTimeout(() => {
                        this.style.transform = "scale(1.2)";
                    }, 200);
                };
                container.appendChild(b);
            });
        };

        const initExtraGallery = () => {
            const grid = document.getElementById('extra-gallery');
            for(let i=5; i<=12; i++) { // Start from 5, 1-4 used in story
                const num = String(i).padStart(2,'0');
                const img = document.createElement('img');
                img.src = `/assets/img/guild/liloyee/gallery_${num}.webp`;
                img.style.cssText = "width:100%; border-radius:15px; margin-bottom:1rem; display:block;";
                grid.appendChild(img);
            }
        };

        // --- INIT ---
        window.onload = () => {
            initThree();
            initGSAP();
            initBubbles();
            initExtraGallery();
        };

    </script>
</body>
</html>
