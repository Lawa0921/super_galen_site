<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lo Yu | The Cyber-Weaver</title>
    <meta name="description" content="ÁæÖÁéâ Lo Yu - Relationship Strategist & Digital Weaver.">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Zen+Maru+Gothic:wght@400;700&family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --neon-cyan: #00f0ff;
            --neon-pink: #ff0055;
            --warm-gold: #ffd700;
            --void-black: #050505;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { overflow-x: hidden; scroll-behavior: smooth; }
        body {
            background-color: var(--void-black);
            color: #fff;
            font-family: 'Zen Maru Gothic', sans-serif;
            overflow-x: hidden;
        }

        /* === CANVAS === */
        #webgl-canvas {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: -1;
        }

        /* === HUD OVERLAY === */
        .hud-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 100;
            background: radial-gradient(circle at center, transparent 60%, rgba(0,0,0,0.8));
        }
        .scanline {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(0, 240, 255, 0.03) 51%);
            background-size: 100% 4px; pointer-events: none; z-index: 90;
        }

        /* === SCROLL CONTENT === */
        .scroll-container {
            position: relative; width: 100%; height: 600vh;
        }

        .section {
            position: absolute; width: 100%; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            pointer-events: none; opacity: 0; transition: opacity 0.5s;
        }
        .section.active { opacity: 1; pointer-events: auto; }

        /* HERO */
        #hero-section { top: 0; z-index: 10; }
        .hero-content {
            text-align: center;
            text-shadow: 0 0 20px rgba(0, 240, 255, 0.5);
        }
        .hero-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(4rem, 10vw, 8rem);
            font-weight: 900;
            color: transparent;
            -webkit-text-stroke: 2px var(--neon-cyan);
            position: relative;
            animation: glitch 2s infinite;
        }
        .hero-subtitle {
            font-size: 1.5rem; letter-spacing: 5px; color: var(--warm-gold);
            margin-top: 1rem; text-transform: uppercase;
        }

        /* ANALYST CARD */
        #analyst-section { top: 150vh; justify-content: flex-start; padding-left: 10vw; }
        .glass-card {
            background: rgba(10, 25, 47, 0.6);
            border: 1px solid var(--neon-cyan);
            padding: 3rem; max-width: 600px; /* Wider to accommodate avatar */
            backdrop-filter: blur(15px);
            box-shadow: 0 0 30px rgba(0, 240, 255, 0.2);
            transform: perspective(1000px) rotateY(10deg);
            display: flex; gap: 2rem; align-items: flex-start;
        }
        .analyst-avatar {
            width: 120px; height: 120px; border-radius: 50%;
            border: 2px solid var(--neon-cyan);
            box-shadow: 0 0 20px var(--neon-cyan);
            object-fit: cover; flex-shrink: 0;
        }
        .analyst-content { flex: 1; }
        .skill-stat {
            display: flex; justify-content: space-between; margin-bottom: 0.5rem;
            font-family: 'Orbitron'; color: var(--neon-cyan); font-size: 0.9rem;
        }
        .progress-bar {
            height: 6px; background: rgba(255, 255, 255, 0.1); width: 100%; margin-bottom: 1.5rem;
            position: relative; overflow: hidden;
        }
        .progress-fill {
            height: 100%; background: var(--neon-cyan); width: 0;
            box-shadow: 0 0 10px var(--neon-cyan);
            transition: width 1s ease-out;
        }

        /* WEAVER CARD */
        #weaver-section { top: 300vh; justify-content: flex-end; padding-right: 10vw; }
        .weaver-card {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--warm-gold);
            padding: 3rem; max-width: 500px;
            backdrop-filter: blur(15px);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
            transform: perspective(1000px) rotateY(-10deg);
        }
        .weaver-title {
            font-family: 'Zen Maru Gothic'; color: var(--warm-gold);
            font-size: 2rem; margin-bottom: 1rem;
            border-bottom: 2px solid var(--warm-gold); padding-bottom: 0.5rem;
            display: inline-block;
        }

        /* GALLERY (3D Carousel Placeholder) */
        #gallery-section { top: 450vh; }
        .gallery-ui {
            text-align: center; pointer-events: none;
        }
        .gallery-h1 {
            font-family: 'Orbitron'; font-size: 3rem; color: var(--neon-pink);
            text-shadow: 0 0 20px var(--neon-pink);
            margin-bottom: 1rem;
        }
        .gallery-instr {
            font-family: 'Space Mono', monospace; color: #aaa; font-size: 0.9rem;
        }

        /* CONNECT */
        #connect-section { top: 550vh; }
        .social-row {
            display: flex; gap: 2rem;
        }
        .social-btn {
            width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;
            border: 2px solid var(--warm-gold); border-radius: 50%;
            font-size: 2rem; color: var(--warm-gold); text-decoration: none;
            transition: all 0.3s; background: rgba(0,0,0,0.5);
        }
        .social-btn:hover {
            background: var(--warm-gold); color: #000;
            box-shadow: 0 0 30px var(--warm-gold); transform: scale(1.1);
        }

        /* LOADER */
        #loader {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
        }
        .loader-ring {
            width: 100px; height: 100px; border: 4px solid rgba(0, 240, 255, 0.2);
            border-top: 4px solid var(--neon-cyan); border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loader-text {
            margin-top: 20px; font-family: 'Orbitron'; color: var(--neon-cyan); letter-spacing: 2px;
            animation: blink 1s infinite;
        }
        @keyframes blink { 50% { opacity: 0.5; } }
        @keyframes glitch {
            0% { transform: translate(0) }
            20% { transform: translate(-2px, 2px) }
            40% { transform: translate(-2px, -2px) }
            60% { transform: translate(2px, 2px) }
            80% { transform: translate(2px, -2px) }
            100% { transform: translate(0) }
        }

        /* EASTER EGG OVERLAY */
        #pooh-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.5s;
        }
        #pooh-overlay.visible { opacity: 1; pointer-events: auto; }
        .pooh-content { text-align: center; color: var(--warm-gold); }
        .pooh-svg { width: 200px; height: 200px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

    </style>
</head>
<body>

    <div id="loader">
        <div class="loader-ring"></div>
        <div class="loader-text">INITIALIZING SYSTEM...</div>
    </div>

    <canvas id="webgl-canvas"></canvas>
    <div class="hud-overlay"></div>
    <div class="scanline"></div>

    <div class="scroll-container">

        <!-- HERO -->
        <div class="section active" id="sec-0">
            <div class="hero-content">
                <h1 class="hero-title">LO YU</h1>
                <div class="hero-subtitle">CYBER-WEAVER // ANALYST // ARTIST</div>
            </div>
        </div>

        <!-- ANALYST -->
        <div class="section" id="sec-1">
            <div class="glass-card">
                <img src="/assets/img/guild/loyu/avatar.webp" alt="Lo Yu Avatar" class="analyst-avatar">
                <div class="analyst-content">
                    <h2 style="font-family: 'Orbitron'; color: var(--neon-cyan); margin-bottom: 2rem;">>> SYSTEM_ANALYSIS</h2>

                    <div class="skill-stat"><span>COMMUNICATION_PROTOCOL</span><span>98%</span></div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 98%"></div></div>

                    <div class="skill-stat"><span>SOCIAL_DISTANCE_CALC</span><span>95%</span></div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 95%"></div></div>

                    <div class="skill-stat"><span>INTJ_LOGIC_CORE</span><span>100%</span></div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>

                    <p style="margin-top: 2rem; line-height: 1.6; color: #ccc;">
                        ÊìÖÈï∑ÈÅãÁî®ÈÇèËºØËß£Êßã‰∫∫ÈöõÈóú‰øÇ„ÄÇÂ¶ÇÂêåÁ∑®ÂØ´Á®ãÂºè‰∏ÄËà¨ÔºåÊâæÂá∫Ê∫ùÈÄö‰∏≠ÁöÑ BugÔºå‰∏¶ÈÅãÁî®Ê≠£Á¢∫ÁöÑË™ûÊ≥ïÔºàË©±Ë°ìÔºâ‰øÆÂæ©ÈÄ£Áµê„ÄÇ
                    </p>
                </div>
            </div>
        </div>

        <!-- WEAVER -->
        <div class="section" id="sec-2">
            <div class="weaver-card">
                <h2 class="weaver-title">üß∂ Ê∫´ÊöñÁöÑÁ∑®ÁπîËÄÖ</h2>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1.5rem;">
                    Âú®ÂÜ∞ÂÜ∑ÁöÑÊï∏ÊìöËàáÈÇèËºØ‰πãÂ§ñÔºåÊàëÊòØËøΩÊ±ÇÂπ∏Á¶èÁöÑÁ∑®ÁπîËÄÖ„ÄÇ<br>
                    ÊØè‰∏ÄÈáù„ÄÅÊØè‰∏ÄÁ∑öÔºåÈÉΩÊòØÂ∞á‰∫∫Ëàá‰∫∫ÈÄ£ÁµêËµ∑‰æÜÁöÑÈ≠îÊ≥ï„ÄÇ
                </p>
                <ul style="list-style: none; padding-left: 1rem; border-left: 2px solid var(--warm-gold);">
                    <li style="margin-bottom: 0.5rem;">‚ú® ÂñÑÁî®ÂÑ™Âã¢ (Identify Strengths)</li>
                    <li style="margin-bottom: 0.5rem;">üó£Ô∏è È≠îÊ≥ïË©±Ë™û (Magic Words)</li>
                    <li>ü§ù Ê®°‰ªøÂÖ±È≥¥ (Mirroring)</li>
                </ul>
            </div>
        </div>

        <!-- GALLERY -->
        <div class="section" id="sec-3">
            <div class="gallery-ui">
                <h1 class="gallery-h1">PROJECT_GALLERY</h1>
                <p class="gallery-instr">SCROLL TO ROTATE THE ARCHIVE</p>
            </div>
        </div>

        <!-- CONNECT -->
        <div class="section" id="sec-4">
            <div style="text-align: center;">
                <h2 style="font-family: 'Orbitron'; font-size: 2rem; margin-bottom: 2rem; color: var(--warm-gold);">ESTABLISH_LINK</h2>
                <div class="social-row">
                    <a href="https://www.threads.com/@loyu1230" target="_blank" class="social-btn"><i class="fa-brands fa-threads"></i></a>
                    <a href="https://www.instagram.com/loyu1230/" target="_blank" class="social-btn"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://joytoknow.com/lecturer-yulo/" target="_blank" class="social-btn"><i class="fa-solid fa-globe"></i></a>
                </div>
            </div>
        </div>

    </div>

    <!-- EASTER EGG -->
    <div id="pooh-overlay">
        <div class="pooh-content">
            <!-- CSS/SVG Pooh Bear (No external images) -->
            <svg viewBox="0 0 100 100" class="pooh-svg">
                <!-- Head -->
                <circle cx="50" cy="50" r="45" fill="#ffd700" stroke="#c5a000" stroke-width="2" />
                <!-- Ears -->
                <circle cx="20" cy="25" r="15" fill="#ffd700" stroke="#c5a000" stroke-width="2" />
                <circle cx="80" cy="25" r="15" fill="#ffd700" stroke="#c5a000" stroke-width="2" />
                <!-- Eyes -->
                <circle cx="35" cy="45" r="4" fill="#000" />
                <circle cx="65" cy="45" r="4" fill="#000" />
                <!-- Nose -->
                <path d="M45 55 Q50 60 55 55 L50 65 Z" fill="#000" />
                <!-- Smile -->
                <path d="M35 70 Q50 85 65 70" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" />
                <!-- Shirt -->
                <path d="M15 80 Q50 110 85 80 L85 100 L15 100 Z" fill="#ff0000" />
            </svg>
            <h2 style="margin-top: 1rem; font-family: 'Orbitron';">SECRET_FOUND: HONEY_CORE</h2>
            <p style="font-family: 'Zen Maru Gothic'; font-size: 1.2rem;">Winnie the Pooh loves honey, and Lo Yu loves eggs! üçØü•ö</p>
            <button onclick="document.getElementById('pooh-overlay').classList.remove('visible')" style="margin-top: 1rem; padding: 0.8rem 2rem; background: var(--warm-gold); border: none; font-weight: bold; cursor: pointer; font-family: 'Orbitron'; letter-spacing: 2px;">CLOSE_DATA_STREAM</button>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // === THREE.JS SETUP ===
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x000000, 0.002);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 20;

        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('webgl-canvas'), antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.toneMapping = THREE.ReinhardToneMapping;

        // === OBJECTS ===

        // 1. THE CORE (Golden Egg)
        const eggGeo = new THREE.IcosahedronGeometry(4, 2); // Low poly look but smooth enough
        const eggMat = new THREE.MeshStandardMaterial({
            color: 0xffd700,
            emissive: 0xffaa00,
            emissiveIntensity: 0.8,
            roughness: 0.2,
            metalness: 1.0,
            wireframe: true
        });
        const egg = new THREE.Mesh(eggGeo, eggMat);
        scene.add(egg);

        // 2. THE WEAVE (Particles / Lines)
        const particleCount = 1000;
        const particles = new THREE.BufferGeometry();
        const posArray = new Float32Array(particleCount * 3);
        for(let i=0; i<particleCount*3; i++) {
            posArray[i] = (Math.random() - 0.5) * 60;
        }
        particles.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particleMat = new THREE.PointsMaterial({
            size: 0.15, color: 0x00f0ff, transparent: true, opacity: 0.8
        });
        const particleMesh = new THREE.Points(particles, particleMat);
        scene.add(particleMesh);

        // 3. GALLERY CAROUSEL
        const galleryGroup = new THREE.Group();
        scene.add(galleryGroup);
        galleryGroup.visible = false; // Hidden initially

        const textureLoader = new THREE.TextureLoader();
        const galleryImages = [
            '/assets/img/guild/loyu/gallery_01.webp',
            '/assets/img/guild/loyu/gallery_02.webp',
            '/assets/img/guild/loyu/gallery_03.webp',
            '/assets/img/guild/loyu/gallery_04.webp',
            '/assets/img/guild/loyu/gallery_05.webp',
            '/assets/img/guild/loyu/gallery_06.webp',
        ];

        const radius = 12;
        galleryImages.forEach((url, i) => {
            const angle = (i / galleryImages.length) * Math.PI * 2;
            const geometry = new THREE.PlaneGeometry(6, 6);
            const material = new THREE.MeshBasicMaterial({
                side: THREE.DoubleSide,
                transparent: true,
                opacity: 0.9
            });

            // Async load texture
            textureLoader.load(url, (tex) => {
                material.map = tex;
                material.needsUpdate = true;
            });

            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(Math.cos(angle) * radius, 0, Math.sin(angle) * radius);
            mesh.lookAt(0, 0, 0); // Face center
            mesh.rotation.y += Math.PI; // Flip to face outward if needed, or inward

            // Add a border/frame
            const frameGeo = new THREE.EdgesGeometry(geometry);
            const frameMat = new THREE.LineBasicMaterial({ color: 0xff0055 });
            const frame = new THREE.LineSegments(frameGeo, frameMat);
            mesh.add(frame);

            galleryGroup.add(mesh);
        });


        // 4. LIGHTS
        const pointLight = new THREE.PointLight(0xffd700, 2, 100);
        pointLight.position.set(0, 0, 0);
        scene.add(pointLight);

        const ambientLight = new THREE.AmbientLight(0x404040);
        scene.add(ambientLight);

        // === ANIMATION LOOP ===
        let time = 0;
        function animate() {
            requestAnimationFrame(animate);
            time += 0.005;

            // Idle animations
            egg.rotation.y += 0.002;
            egg.rotation.z += 0.001;

            // Pulse effect
            egg.scale.setScalar(1 + Math.sin(time * 2) * 0.05);

            // Particles drift
            particleMesh.rotation.y -= 0.0005;

            // Gallery rotation (if visible)
            if(galleryGroup.visible) {
                // Controlled by scroll mostly, but maybe a slow drift
            }

            renderer.render(scene, camera);
        }
        animate();

        // === SCROLL INTERACTIONS (GSAP) ===

        // Timeline
        let tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".scroll-container",
                start: "top top",
                end: "bottom bottom",
                scrub: 1
            }
        });

        // 1. Hero -> Analyst (Camera Zoom In, Egg Explodes/Fades)
        tl.to(camera.position, { z: 10, duration: 1 })
          .to(egg.scale, { x: 0.1, y: 0.1, z: 0.1, duration: 1 }, "<")
          .to(eggMat, { opacity: 0, transparent: true, duration: 0.5 }, "<")

        // 2. Analyst -> Weaver (Camera Moves Side, Particles form Net)
          .to(camera.position, { x: -10, z: 15, duration: 1 })
          .to(particleMesh.rotation, { y: Math.PI / 2, duration: 1 }, "<")

        // 3. Weaver -> Gallery (Show Carousel)
          .to(camera.position, { x: 0, z: 0, y: 20, duration: 1 }) // Move camera up to look down? Or center
          .to(camera.rotation, { x: -Math.PI/2, duration: 1 }, "<") // Look down
          .call(() => { galleryGroup.visible = true; }, null, "<")
          .to(galleryGroup.rotation, { y: Math.PI * 2, duration: 2 }) // Rotate carousel

        // 4. Connect
          .to(camera.position, { y: 40, duration: 1 });


        // === SECTION VISIBILITY ===
        const sections = document.querySelectorAll('.section');
        sections.forEach((sec, i) => {
            ScrollTrigger.create({
                trigger: sec,
                start: "top 60%",
                end: "bottom 40%",
                onEnter: () => sec.classList.add('active'),
                onLeave: () => sec.classList.remove('active'),
                onEnterBack: () => sec.classList.add('active'),
                onLeaveBack: () => sec.classList.remove('active')
            });
        });

        // === LOADER ===
        window.addEventListener('load', () => {
            gsap.to("#loader", {
                opacity: 0,
                duration: 1,
                onComplete: () => document.getElementById("loader").style.display = "none"
            });
        });

        // === EASTER EGG INTERACTION ===
        // Raycaster for clicking the "hidden" egg core if it was still there,
        // OR just a hidden trigger in the DOM.
        // Let's make the "Egg" in the Hero section clickable before it shrinks.

        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        window.addEventListener('click', (event) => {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObject(egg);

            if (intersects.length > 0) {
                // Trigger Easter Egg
                document.getElementById('pooh-overlay').classList.add('visible');
            }
        });

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
