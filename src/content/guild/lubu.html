<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lu Bu 呂布 — 尋找失散部下的直播主</title>
    <meta name="description" content="呂布 (Lu Bu) — 來自三國的最強武將，現役個人勢 VTuber。頂著蟑螂鬚鬚的呂布，直播獨立遊戲、冷門神作，尋找失散的十位部下。">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Ma+Shan+Zheng&family=Noto+Serif+TC:wght@400;700;900&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Libraries -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

    <style>
        :root {
            --c-bg: #050202;
            --c-blood: #8a0000;
            --c-blood-bright: #ff3333;
            --c-gold: #d4af37;
            --c-gold-bright: #ffd700;
            --c-jade: #00ffaa;
            --c-text: #e0e0e0;

            --f-header: 'Cinzel', serif;
            --f-body: 'Noto Serif TC', serif;
            --f-calligraphy: 'Ma Shan Zheng', cursive;
            --f-tech: 'Orbitron', sans-serif;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--c-bg);
            /* Grunge Texture Overlay */
            background-image: url('/assets/img/guild/lubu/bg_red.jpg');
            background-size: cover;
            background-position: center;
            background-blend-mode: multiply;
            background-attachment: fixed;

            color: var(--c-text);
            font-family: var(--f-body);
            overflow-x: hidden;
            opacity: 0;
            transition: opacity 0.8s ease-in;
        }

        body.loaded { opacity: 1; cursor: none; }

        /* ════════════ CURSOR ════════════ */
        #cursor {
            position: fixed; top: 0; left: 0;
            width: 40px; height: 40px;
            pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
            transition: width 0.3s, height 0.3s, background 0.3s;
        }
        #cursor .ring {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border: 2px solid var(--c-gold); border-radius: 50%;
            animation: rotate 4s linear infinite;
            opacity: 0.8;
        }
        #cursor .dot {
            position: absolute; top: 50%; left: 50%;
            width: 6px; height: 6px;
            background: var(--c-blood-bright);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px var(--c-blood-bright);
        }
        #cursor .sight-line {
            position: absolute; top: 50%; left: 50%;
            width: 120%; height: 1px;
            background: rgba(212, 175, 55, 0.5);
            transform: translate(-50%, -50%) rotate(45deg);
        }
        #cursor .sight-line.two { transform: translate(-50%, -50%) rotate(-45deg); }

        body.hovering #cursor { width: 60px; height: 60px; }
        body.hovering #cursor .ring { border-color: var(--c-blood-bright); animation-duration: 1s; border-width: 3px; }
        body.hovering #cursor .dot { background: var(--c-gold); }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* ════════════ LAYERS ════════════ */
        #webgl-container {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -1;
            mask-image: linear-gradient(to right, black 40%, rgba(0,0,0,0.5) 100%);
        }
        #p5-container {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: 0; pointer-events: none; mix-blend-mode: overlay; opacity: 0.5;
        }

        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjY1IiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
            pointer-events: none; z-index: 99; opacity: 0.3;
        }

        /* ════════════ LAYOUT ════════════ */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 100vh;
            position: relative;
            z-index: 10;
        }

        .left-col {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .right-col {
            padding: 4rem 2rem 4rem 0;
            display: flex;
            flex-direction: column;
            gap: 10vh;
        }

        .nav-back {
            position: fixed; top: 2rem; left: 2rem; z-index: 100;
            color: var(--c-gold); text-decoration: none;
            font-family: var(--f-header); font-size: 1rem; letter-spacing: 0.1em;
            border: 1px solid var(--c-gold);
            padding: 0.5rem 1.5rem;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            transition: 0.3s;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
        }
        .nav-back:hover {
            background: var(--c-gold); color: #000;
            box-shadow: 0 0 20px var(--c-gold);
        }

        /* ════════════ TYPOGRAPHY & CARDS ════════════ */
        h1.main-title {
            font-family: var(--f-calligraphy);
            font-size: clamp(4rem, 12vw, 8rem);
            margin: 0; line-height: 1;
            text-align: center;
            background-image: url('/assets/img/guild/lubu/bg_gold.jpg');
            background-size: cover;
            background-position: center;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            -webkit-text-stroke: 1px rgba(255, 215, 0, 0.3);
            filter: drop-shadow(0 0 20px rgba(212, 175, 55, 0.5));
        }

        .subtitle-tech {
            font-family: var(--f-tech); color: var(--c-jade); letter-spacing: 0.3em;
            font-size: 1rem; text-transform: uppercase;
            text-align: center; margin-top: 1rem;
            text-shadow: 0 0 10px var(--c-jade);
            border-top: 1px solid var(--c-jade);
            border-bottom: 1px solid var(--c-jade);
            padding: 0.5rem 2rem;
            background: rgba(0, 255, 170, 0.05);
            display: inline-block;
        }

        .section-card {
            background: rgba(10, 5, 5, 0.85);
            border-left: 4px solid var(--c-gold);
            padding: 3rem;
            position: relative;
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            max-width: 650px;
            margin-left: auto; margin-right: 2rem;
            transform-origin: right center;
            transition: transform 0.4s ease, box-shadow 0.4s ease, border-color 0.4s ease;
        }

        .section-card:hover {
            transform: translateX(-10px);
            box-shadow: 0 20px 50px rgba(212, 175, 55, 0.15);
            border-left-color: var(--c-blood-bright);
        }

        /* Decorative Corners */
        .section-card::before {
            content: ''; position: absolute; top: -1px; right: -1px; width: 30px; height: 30px;
            border-top: 2px solid var(--c-gold); border-right: 2px solid var(--c-gold);
            transition: 0.4s;
        }
        .section-card::after {
            content: ''; position: absolute; bottom: -1px; right: -1px; width: 30px; height: 30px;
            border-bottom: 2px solid var(--c-gold); border-right: 2px solid var(--c-gold);
            transition: 0.4s;
        }
        .section-card:hover::before, .section-card:hover::after {
            width: 50px; height: 50px; border-color: var(--c-blood-bright);
        }

        .card-header {
            font-family: var(--f-calligraphy);
            font-size: 2.5rem;
            color: var(--c-gold);
            border-bottom: 1px solid #333;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex; align-items: baseline; justify-content: space-between;
        }
        .card-header span { font-size: 1rem; font-family: var(--f-tech); color: #555; }

        .lore-text {
            font-size: 1.1rem; line-height: 1.8; color: #ccc;
            margin-bottom: 1.5rem; text-align: justify;
        }

        .highlight-red { color: var(--c-blood-bright); font-weight: bold; }
        .highlight-gold { color: var(--c-gold); font-weight: bold; }
        .highlight-wacky { color: var(--c-jade); font-weight: bold; text-shadow: 0 0 5px var(--c-jade); }

        /* ════════════ AVATAR ════════════ */
        .avatar-container {
            position: relative; width: 300px; height: 350px; margin-bottom: 2rem;
        }
        .avatar-hex {
            width: 100%; height: 100%;
            clip-path: polygon(50% 0%, 100% 15%, 100% 85%, 50% 100%, 0% 85%, 0% 15%);
            background: #000; position: relative; z-index: 2;
            box-shadow: 0 0 30px rgba(138, 0, 0, 0.8);
            transition: transform 0.5s;
        }
        .avatar-img { width: 100%; height: 100%; object-fit: cover; }

        /* Cockroach Antennae */
        .antennae {
            position: absolute; top: -50px; left: 50%; width: 200px; height: 120px;
            transform: translateX(-50%); pointer-events: none; z-index: 1; opacity: 0;
            transition: 0.4s;
        }
        .antenna-left, .antenna-right {
            position: absolute; bottom: 0; width: 3px; height: 100%;
            background: linear-gradient(to top, var(--c-gold), transparent);
            border-radius: 50%;
        }
        .antenna-left { left: 40px; transform: rotate(-20deg); box-shadow: 0 0 5px var(--c-gold); }
        .antenna-right { right: 40px; transform: rotate(20deg); box-shadow: 0 0 5px var(--c-gold); }

        .avatar-container:hover .antennae { opacity: 1; top: -70px; }
        .avatar-container:hover .antenna-left { animation: twitch 0.2s infinite alternate; }
        .avatar-container:hover .antenna-right { animation: twitch 0.2s infinite alternate-reverse; }
        @keyframes twitch { from { transform: rotate(-20deg); } to { transform: rotate(-25deg); } }

        /* ════════════ GENERALS GRID ════════════ */
        .generals-grid {
            display: grid; grid-template-columns: repeat(5, 1fr);
            gap: 0.8rem; margin: 1.5rem 0;
        }
        .general-token {
            aspect-ratio: 1; border: 1px solid #444;
            display: flex; align-items: center; justify-content: center;
            color: #444; font-size: 1.2rem; background: #111;
            transition: 0.3s; position: relative; overflow: hidden;
        }
        .general-token:hover {
            border-color: var(--c-gold); color: var(--c-gold);
            background: #220; box-shadow: 0 0 10px var(--c-gold-bright);
        }
        .general-token::after {
            content: '尋找中'; position: absolute; bottom: 2px; width: 100%;
            text-align: center; font-size: 0.5rem; opacity: 0; transition: 0.3s;
        }
        .general-token:hover::after { opacity: 1; }

        /* ════════════ BATTLE RECORDS (NEW) ════════════ */
        .battle-record-list {
            display: grid; grid-template-columns: 1fr; gap: 1rem;
        }
        .battle-item {
            display: flex; align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem; border-right: 2px solid transparent;
            transition: 0.3s;
        }
        .battle-item:hover {
            background: rgba(138, 0, 0, 0.2);
            border-right-color: var(--c-blood-bright);
            transform: translateX(10px);
        }
        .battle-icon {
            font-size: 1.5rem; width: 50px; text-align: center; color: var(--c-gold);
            margin-right: 1rem;
        }
        .battle-info h4 { color: #fff; font-size: 1.1rem; margin-bottom: 0.2rem; font-family: var(--f-header); }
        .battle-info p { color: #888; font-size: 0.85rem; }

        /* ════════════ ARMORY / INTERESTS (NEW) ════════════ */
        .armory-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem;
        }
        .armory-item {
            text-align: center; padding: 1.5rem 1rem;
            border: 1px solid #333; background: #000;
            transition: 0.3s;
        }
        .armory-item:hover {
            border-color: var(--c-jade);
            box-shadow: 0 0 15px rgba(0, 255, 170, 0.1);
        }
        .armory-icon { font-size: 2rem; color: #555; margin-bottom: 0.8rem; transition: 0.3s; }
        .armory-item:hover .armory-icon { color: var(--c-jade); transform: scale(1.1); }
        .armory-label { font-size: 0.9rem; color: #ccc; }

        /* ════════════ SOCIALS / COMMS ════════════ */
        .comms-list {
            display: flex; flex-direction: column; gap: 1rem;
        }
        .comm-link {
            display: flex; align-items: center; justify-content: space-between;
            padding: 1rem 1.5rem;
            border: 1px solid #333;
            background: linear-gradient(90deg, transparent, rgba(20,20,20,0.8));
            text-decoration: none; color: #ccc;
            transition: 0.3s;
        }
        .comm-link:hover {
            border-color: var(--c-gold);
            background: rgba(212, 175, 55, 0.1);
            padding-left: 2rem;
        }
        .comm-left { display: flex; align-items: center; gap: 1rem; }
        .comm-icon { font-size: 1.5rem; color: var(--c-gold); width: 30px; text-align: center; }
        .comm-label { font-weight: bold; font-family: var(--f-header); letter-spacing: 0.05em; }
        .comm-desc { font-size: 0.8rem; color: #666; font-family: var(--f-tech); text-transform: uppercase; }

        /* ════════════ STYLE GRID ════════════ */
        .style-grid {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;
            margin-bottom: 2rem;
        }
        .style-item {
            text-align: center; border: 1px solid #333; padding: 1rem;
            transition: 0.3s;
        }
        .style-item:hover { border-color: var(--c-jade); box-shadow: 0 0 15px rgba(0,255,170,0.2); }
        .style-icon { font-size: 2rem; margin-bottom: 0.5rem; display: block; }
        .style-label { font-family: var(--f-calligraphy); font-size: 1.5rem; color: var(--c-text); }
        .style-desc { font-size: 0.8rem; color: #888; margin-top: 0.5rem; }

        /* ════════════ FAMILY ════════════ */
        .family-card {
            background: linear-gradient(135deg, rgba(20, 10, 10, 0.9), rgba(0,0,0,0.95));
            border-left: 4px solid var(--c-blood-bright);
        }
        .family-list { list-style: none; margin-top: 1rem; }
        .family-list li {
            margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;
            font-size: 1.1rem;
        }
        .family-list li::before {
            content: '➤'; position: absolute; left: 0; color: var(--c-blood-bright);
        }

        /* ════════════ MOBILE ════════════ */
        @media (max-width: 900px) {
            .main-layout { grid-template-columns: 1fr; }
            .left-col {
                position: relative; height: auto; padding: 6rem 1rem 2rem;
                background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
            }
            .right-col { padding: 1rem; gap: 4rem; }
            .section-card { margin: 0 auto; width: 100%; }
            #webgl-container { mask-image: none; opacity: 0.6; }
            h1.main-title { font-size: 5rem; }
            .generals-grid { grid-template-columns: repeat(5, 1fr); }
            .battle-item { flex-direction: column; text-align: center; }
            .battle-icon { margin: 0 0 0.5rem 0; }
        }
    </style>
</head>
<body>
    <div class="noise-overlay"></div>

    <!-- Custom Cursor -->
    <div id="cursor">
        <div class="ring"></div>
        <div class="dot"></div>
        <div class="sight-line"></div>
        <div class="sight-line two"></div>
    </div>

    <a href="/guild" class="nav-back">GUILD</a>

    <!-- Visual Layers -->
    <div id="webgl-container"></div>
    <div id="p5-container"></div>

    <div class="main-layout">

        <!-- LEFT COLUMN: Identity & Visual Anchor -->
        <div class="left-col">
            <div class="avatar-container reveal">
                <div class="antennae">
                    <div class="antenna-left"></div>
                    <div class="antenna-right"></div>
                </div>
                <div class="avatar-hex">
                    <img src="/assets/img/guild/lubu/avatar.webp" alt="Lu Bu Avatar" class="avatar-img">
                </div>
            </div>

            <h1 class="main-title reveal">呂布</h1>

            <div class="reveal" style="text-align: center; margin-top: 2.5rem;">
                <div class="subtitle-tech">THE STRONGEST WARLORD</div>
                <div style="margin-top: 0.8rem; color: #888; font-size: 0.95rem;">
                    ( 沒錯，就是頂著<span class="highlight-gold">蟑螂鬚鬚</span>的那個呂布 )
                </div>
            </div>
        </div>

        <!-- RIGHT COLUMN: Scrolling Content -->
        <div class="right-col">

            <!-- 1. ORIGIN STORY -->
            <div class="section-card reveal">
                <div class="card-header">血戰終焉 <span>ORIGIN</span></div>
                <p class="lore-text">
                    在時間尚未被記錄之前，我曾以血為名，以戰為生。
                    以「<span class="highlight-gold">呂布</span>」之名，震動整個時代。
                    方天畫戟橫掃千軍，鐵騎踏碎諸侯。
                    卻仍舊敗給名為「命運」的存在。
                </p>
                <div style="border-left: 2px solid var(--c-jade); padding-left: 1rem; margin: 1.5rem 0; color: #aaa; font-size: 0.9rem;">
                    <i class="fa-solid fa-ghost"></i> 然而怨念誤入虛空，靈魂被 <span class="highlight-wacky">克蘇魯之力</span> 侵蝕，
                    在那不可名狀的世界中漂流了無數歲月...
                </div>
                <p class="lore-text">
                    直到一位名為「<span class="highlight-gold">米絲</span>」的天堂鳥將我從地獄中解放，
                    將我自歷史中強行剝離，投放至名為「現代」的世界線。
                </p>
            </div>

            <!-- 2. THE FAMILY -->
            <div class="section-card family-card reveal">
                <div class="card-header">將軍府邸 <span>HOUSEHOLD</span></div>
                <p class="lore-text">
                    來到這個世界後的我，被米絲這個自稱為天使的魅魔拐走（？），
                    不知不覺就蹦出了三隻小屁孩，成為了三個孩子的爸爸。
                </p>
                <ul class="family-list">
                    <li><span class="highlight-gold">米絲 (Mis)</span>：我的老婆，誤用克蘇魯之力的天堂鳥，真實身份是魅魔。</li>
                    <li><span class="highlight-red">諭</span>：大兒子，搗蛋鬼一號。</li>
                    <li><span class="highlight-red">小貓淵</span>：二女兒，偶爾會在直播中亂入。</li>
                    <li><span class="highlight-red">小舞兔</span>：老么，可愛擔當。</li>
                </ul>
            </div>

            <!-- 3. MISSION & GENERALS -->
            <div class="section-card reveal">
                <div class="card-header">尋找部下 <span>MISSION</span></div>
                <p class="lore-text">
                    穿越的代價是，原本追隨我的<span class="highlight-gold">「十位呂家軍部下」</span>，
                    被拋散至不同的時間、不同的世界。
                </p>
                <p class="lore-text">
                    於是我開始偽裝。偽裝成「直播主」，偽裝成「打遊戲的人類」。
                    我在螢幕前揮動手把，只為在無數世界線中，鎖定那十道熟悉的靈魂波動。
                </p>

                <div class="generals-grid">
                    <div class="general-token"><i class="fa-solid fa-chess-knight"></i></div>
                    <div class="general-token"><i class="fa-solid fa-scroll"></i></div>
                    <div class="general-token"><i class="fa-solid fa-dragon"></i></div>
                    <div class="general-token"><i class="fa-solid fa-khanda"></i></div>
                    <div class="general-token"><i class="fa-solid fa-shield-halved"></i></div>
                    <div class="general-token"><i class="fa-solid fa-bow-arrow"></i></div>
                    <div class="general-token"><i class="fa-solid fa-horse-head"></i></div>
                    <div class="general-token"><i class="fa-solid fa-flag"></i></div>
                    <div class="general-token"><i class="fa-solid fa-fire"></i></div>
                    <div class="general-token"><i class="fa-solid fa-crown"></i></div>
                </div>

                <p class="lore-text" style="color: var(--c-gold); text-align: center; margin-top: 1.5rem;">
                    若你的心臟因這個名字而震動，那麼答案只有一個：
                    <br>你是 我正在尋找的「失散呂家軍部下」。
                </p>
            </div>

            <!-- 4. STYLE & STATS -->
            <div class="section-card reveal">
                <div class="card-header">直播風格 <span>STYLE</span></div>
                <div class="style-grid">
                    <div class="style-item">
                        <span class="style-icon" style="color: var(--c-jade);"><i class="fa-solid fa-ghost"></i></span>
                        <div class="style-label">搞怪</div>
                        <div class="style-desc">WACKY</div>
                    </div>
                    <div class="style-item">
                        <span class="style-icon" style="color: var(--c-gold);"><i class="fa-solid fa-heart"></i></span>
                        <div class="style-label">真實</div>
                        <div class="style-desc">REAL</div>
                    </div>
                    <div class="style-item">
                        <span class="style-icon" style="color: var(--c-blood-bright);"><i class="fa-solid fa-fire-flame-curved"></i></span>
                        <div class="style-label">中二</div>
                        <div class="style-desc">CHUUNI</div>
                    </div>
                </div>
                <p class="lore-text" style="text-align: center;">
                    平時專門直播 <span class="highlight-gold">獨立遊戲</span>、<span class="highlight-gold">冷門神作</span>。
                    偶爾也會客串一些目前火熱的遊戲，目標是把「被忽略的好遊戲」介紹給更多人。
                </p>
            </div>

            <!-- 5. BATTLE RECORDS (NEW) -->
            <div class="section-card reveal">
                <div class="card-header">輝煌戰績 <span>BATTLE RECORDS</span></div>
                <div class="battle-record-list">
                    <div class="battle-item">
                        <div class="battle-icon"><i class="fa-brands fa-android"></i></div>
                        <div class="battle-info">
                            <h4>傳說對決 / 王者榮耀</h4>
                            <p>MOBA MAIN FRONT</p>
                        </div>
                    </div>
                    <div class="battle-item">
                        <div class="battle-icon"><i class="fa-solid fa-dragon"></i></div>
                        <div class="battle-info">
                            <h4>魔物獵人 (Monster Hunter)</h4>
                            <p>WYVERN SLAYING EXPEDITION</p>
                        </div>
                    </div>
                    <div class="battle-item">
                        <div class="battle-icon"><i class="fa-solid fa-cube"></i></div>
                        <div class="battle-info">
                            <h4>麥塊 (Minecraft)</h4>
                            <p>WORLD BUILDING PROTOCOL</p>
                        </div>
                    </div>
                    <div class="battle-item">
                        <div class="battle-icon"><i class="fa-solid fa-gamepad"></i></div>
                        <div class="battle-info">
                            <h4>冷門神作 (Hidden Gems)</h4>
                            <p>INDEPENDENT OPERATIONS</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 6. THE ARMORY (NEW) -->
            <div class="section-card reveal">
                <div class="card-header">私人軍械庫 <span>ARMORY</span></div>
                <div class="armory-grid">
                    <div class="armory-item">
                        <div class="armory-icon"><i class="fa-solid fa-circle-dot"></i></div>
                        <div class="armory-label">寶可夢大師</div>
                    </div>
                    <div class="armory-item">
                        <div class="armory-icon"><i class="fa-brands fa-fort-awesome"></i></div>
                        <div class="armory-label">中世紀歷史</div>
                    </div>
                    <div class="armory-item">
                        <div class="armory-icon"><i class="fa-solid fa-compass"></i></div>
                        <div class="armory-label">人生引導 (?)</div>
                    </div>
                </div>
            </div>

            <!-- 7. COMMUNICATIONS (UPDATED) -->
            <div class="section-card reveal" style="margin-bottom: 4rem;">
                <div class="card-header">軍情通報 <span>COMMS</span></div>
                <div class="comms-list">
                    <a href="https://discord.gg/9AK4nWxdkW" target="_blank" class="comm-link" style="border-color: var(--c-gold);">
                        <div class="comm-left">
                            <div class="comm-icon"><i class="fa-brands fa-discord"></i></div>
                            <div class="comm-label">呂家軍大本營</div>
                        </div>
                        <div class="comm-desc">HEADQUARTERS</div>
                    </a>
                    <a href="https://www.twitch.tv/wtf00000" target="_blank" class="comm-link">
                        <div class="comm-left">
                            <div class="comm-icon"><i class="fa-brands fa-twitch"></i></div>
                            <div class="comm-label">直播戰線 (Twitch)</div>
                        </div>
                        <div class="comm-desc">LIVE OPS</div>
                    </a>
                    <a href="https://www.threads.net/@lengmenyouxizhibozhu" target="_blank" class="comm-link">
                        <div class="comm-left">
                            <div class="comm-icon"><i class="fa-brands fa-threads"></i></div>
                            <div class="comm-label">發神經的地方 (Threads)</div>
                        </div>
                        <div class="comm-desc">MADNESS LOG</div>
                    </a>
                    <a href="https://www.instagram.com/lengmenyouxizhibozhu/" target="_blank" class="comm-link">
                        <div class="comm-left">
                            <div class="comm-icon"><i class="fa-brands fa-instagram"></i></div>
                            <div class="comm-label">私生活日記 (IG)</div>
                        </div>
                        <div class="comm-desc">CLASSIFIED</div>
                    </a>
                     <a href="https://www.tiktok.com/@fxxk0709" target="_blank" class="comm-link">
                        <div class="comm-left">
                            <div class="comm-icon"><i class="fa-brands fa-tiktok"></i></div>
                            <div class="comm-label">怪怪的影片 (TikTok)</div>
                        </div>
                        <div class="comm-desc">ARCHIVE</div>
                    </a>
                </div>
            </div>

        </div>
    </div>

    <!-- ════════════ THREE.JS SCENE ════════════ -->
    <script type="module">
        import * as THREE from 'three';

        // Setup
        const container = document.getElementById('webgl-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x050202, 0.03);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, 15);

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        container.appendChild(renderer.domElement);

        // Load Textures
        const textureLoader = new THREE.TextureLoader();
        const goldTexture = textureLoader.load('/assets/img/guild/lubu/bg_gold.jpg');

        // Materials
        const goldMat = new THREE.MeshStandardMaterial({
            map: goldTexture, color: 0xffd700, roughness: 0.3, metalness: 1.0, emissive: 0x332200
        });
        const darkMetalMat = new THREE.MeshStandardMaterial({
            color: 0x222222, roughness: 0.5, metalness: 0.8
        });

        // Lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
        scene.add(ambientLight);
        const spotLight = new THREE.SpotLight(0xff0000, 50, 50, 0.5, 0.5);
        spotLight.position.set(5, 10, 5);
        scene.add(spotLight);
        const rimLight = new THREE.DirectionalLight(0xd4af37, 2);
        rimLight.position.set(-5, 0, 10);
        scene.add(rimLight);

        // ─── HALBERD ───
        const halberdGroup = new THREE.Group();

        // Pole
        const pole = new THREE.Mesh(new THREE.CylinderGeometry(0.12, 0.15, 35, 12), darkMetalMat);
        halberdGroup.add(pole);

        // Rings
        for(let i=0; i<6; i++) {
            const ring = new THREE.Mesh(new THREE.TorusGeometry(0.25, 0.08, 8, 16), goldMat);
            ring.rotation.x = Math.PI/2;
            ring.position.y = 8 - i*3;
            halberdGroup.add(ring);
        }

        // Blade System
        const bladeGroup = new THREE.Group();
        bladeGroup.position.y = 14;
        const spike = new THREE.Mesh(new THREE.ConeGeometry(0.5, 8, 4), goldMat);
        bladeGroup.add(spike);

        const crescentShape = new THREE.Shape();
        crescentShape.moveTo(0.6, -3);
        crescentShape.bezierCurveTo(4, -1, 4, 3, 0.6, 5);
        crescentShape.lineTo(0.6, 3);
        crescentShape.bezierCurveTo(2.5, 2, 2.5, 0, 0.6, -1);
        const crescentGeo = new THREE.ExtrudeGeometry(crescentShape, { depth: 0.2, bevelEnabled: true, bevelThickness: 0.1, bevelSize: 0.05 });
        const leftBlade = new THREE.Mesh(crescentGeo, goldMat);
        leftBlade.scale.set(-1, 1, 1); leftBlade.position.x = -0.1;
        const rightBlade = new THREE.Mesh(crescentGeo, goldMat);
        rightBlade.position.x = 0.1;
        bladeGroup.add(leftBlade); bladeGroup.add(rightBlade);

        halberdGroup.add(bladeGroup);
        scene.add(halberdGroup);

        // ─── TALISMANS ───
        const talismans = [];
        const talismanGeo = new THREE.PlaneGeometry(1.5, 3.5);
        function createTalismanTexture(char1, char2) {
            const canvas = document.createElement('canvas');
            canvas.width = 128; canvas.height = 300;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#f2e6ce'; ctx.fillRect(0, 0, 128, 300);
            ctx.strokeStyle = '#8a0000'; ctx.lineWidth = 6; ctx.strokeRect(5, 5, 118, 290);
            ctx.fillStyle = '#8a0000'; ctx.font = 'bold 80px serif';
            ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
            ctx.fillText(char1, 64, 100); ctx.fillText(char2, 64, 200);
            return new THREE.CanvasTexture(canvas);
        }
        const tTex = [createTalismanTexture('呂', '布'), createTalismanTexture('無', '雙'), createTalismanTexture('戰', '神')];
        const tMats = tTex.map(t => new THREE.MeshBasicMaterial({ map: t, side: THREE.DoubleSide, transparent: true, opacity: 0.8 }));

        for(let i=0; i<25; i++) {
            const mesh = new THREE.Mesh(talismanGeo, tMats[i % 3]);
            // Scatter widely but keep behind content (Z < -5)
            mesh.position.set(
                (Math.random()-0.5)*60,
                (Math.random()-0.5)*80,
                -5 - Math.random() * 25 // Z: -5 to -30
            );
            mesh.rotation.set(Math.random()*Math.PI, Math.random()*Math.PI, 0);
            mesh.userData = {
                rotSpeed: (Math.random()-0.5)*0.02,
                floatSpeed: 0.005 + Math.random()*0.01,
                yOffset: Math.random()*Math.PI
            };
            scene.add(mesh);
            talismans.push(mesh);
        }

        // ─── PARTICLES ───
        const pGeo = new THREE.BufferGeometry();
        const pPos = new Float32Array(1500 * 3);
        // Spread particles wider and deeper
        for(let i=0; i<1500*3; i+=3) {
            pPos[i] = (Math.random()-0.5)*100;
            pPos[i+1] = (Math.random()-0.5)*100;
            pPos[i+2] = -5 + (Math.random()-0.5)*40;
        }
        pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));
        const pMat = new THREE.PointsMaterial({
            size: 0.2,
            color: 0xffaa33,
            transparent: true,
            opacity: 0.4,
            blending: THREE.AdditiveBlending,
            depthWrite: false
        });
        const particles = new THREE.Points(pGeo, pMat);
        scene.add(particles);

        // Animation
        const clock = new THREE.Clock();
        function animate() {
            requestAnimationFrame(animate);
            const t = clock.getElapsedTime();

            // Passive Float
            talismans.forEach(m => {
                m.position.y += Math.sin(t * 1.5 + m.userData.yOffset) * m.userData.floatSpeed;
                m.rotation.y += m.userData.rotSpeed;
                m.rotation.x += m.userData.rotSpeed * 0.5;
            });

            // Subtle Halberd Float
            if(halberdGroup) {
                 halberdGroup.position.y += Math.sin(t) * 0.002;
            }

            particles.rotation.y = t * 0.02;

            renderer.render(scene, camera);
        }
        animate();

        // Responsive
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            // Re-check layout
            updateHalberdPosition();
        });

        function updateHalberdPosition() {
            if(window.innerWidth > 900) {
                // Desktop: Shift Halberd to Left (-5) to frame content
                halberdGroup.position.set(-5, -2, -2);
                halberdGroup.rotation.z = Math.PI / 6;
                halberdGroup.rotation.x = 0;
            } else {
                // Mobile: Center background
                halberdGroup.position.set(0, -2, -5);
                halberdGroup.rotation.z = Math.PI / 4;
            }
        }
        updateHalberdPosition();

        // GSAP Scroll Interaction
        gsap.registerPlugin(ScrollTrigger);

        // Spin the Halberd slowly as we scroll
        gsap.to(halberdGroup.rotation, {
            scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: 1 },
            y: Math.PI * 0.5, // Gentle spin
            x: Math.PI * 0.1
        });

        // Entrance
        window.onload = () => {
            document.body.classList.add('loaded');

            // Left Col: Slide from left
            gsap.from('.left-col .reveal', {
                x: -50, opacity: 0, duration: 1.2, stagger: 0.1, ease: 'power3.out'
            });

            // Cards: Slide from right + Scale up
            const cards = document.querySelectorAll('.section-card');
            cards.forEach((card, i) => {
                gsap.from(card, {
                    scrollTrigger: {
                        trigger: card,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    },
                    x: 100,
                    opacity: 0,
                    duration: 1,
                    ease: 'power4.out'
                });
            });

            ScrollTrigger.refresh();
        };
    </script>

    <script>
        // ─── CURSOR LOGIC ───
        const cursor = document.getElementById('cursor');

        // Initialize centering via GSAP to avoid conflict with CSS transform
        gsap.set(cursor, { xPercent: -50, yPercent: -50 });

        const moveCursor = (e) => {
            gsap.to(cursor, {
                x: e.clientX,
                y: e.clientY,
                duration: 0.1,
                ease: 'power2.out'
            });
        };
        window.addEventListener('mousemove', moveCursor);

        // Hover Detection
        const hoverTargets = document.querySelectorAll('a, button, .section-card, .general-token, .social-btn, .game-tag, .style-item, .battle-item, .armory-item, .comm-link');
        hoverTargets.forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
        });

        // Click "Pulse"
        window.addEventListener('click', () => {
            gsap.fromTo(cursor,
                { scale: 0.8 },
                { scale: 1.5, duration: 0.1, yoyo: true, repeat: 1 }
            );
        });
    </script>

    <!-- ════════════ P5.JS (Subtle Ink) ════════════ -->
    <script>
        const sketch = (p) => {
            let inkDrops = [];

            class Drop {
                constructor(x, y, size) {
                    this.x = x; this.y = y; this.size = size;
                    this.life = 255;
                    this.vx = p.random(-0.5, 0.5);
                    this.vy = p.random(1, 3);
                }
                update() {
                    this.x += this.vx; this.y += this.vy;
                    this.life -= 2;
                    this.size *= 0.99;
                }
                draw() {
                    p.fill(80, 0, 0, this.life * 0.4); // Dark Blood
                    p.circle(this.x, this.y, this.size);
                }
            }

            p.setup = () => {
                let cnv = p.createCanvas(p.windowWidth, p.windowHeight);
                cnv.parent('p5-container');
                p.noStroke();
            };

            p.draw = () => {
                p.clear();

                // Mouse Interaction
                if (p.pmouseX !== p.mouseX || p.pmouseY !== p.mouseY) {
                    if (p.frameCount % 2 === 0) {
                         inkDrops.push(new Drop(p.mouseX + p.random(-10,10), p.mouseY + p.random(-10,10), p.random(10, 30)));
                    }
                }

                // Random background drips
                if(p.frameCount % 20 === 0) {
                     inkDrops.push(new Drop(p.random(p.width), -20, p.random(20, 60)));
                }

                for (let i = inkDrops.length - 1; i >= 0; i--) {
                    let d = inkDrops[i];
                    d.update();
                    d.draw();
                    if (d.life <= 0 || d.size < 1) inkDrops.splice(i, 1);
                }
            };
            p.windowResized = () => p.resizeCanvas(p.windowWidth, p.windowHeight);
        };
        new p5(sketch);
    </script>
</body>
</html>