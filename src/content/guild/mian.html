<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mian | Focus & Velocity</title>
    <meta name="description" content="Portfolio of Mian - Student, Creator, Rider. Exploring life through lenses, models, and the open road.">
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --accent: #F2F2F2;
        }
        body {
            background-color: #050505;
            color: #F2F2F2;
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            overflow-x: hidden;
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }
        .glass-panel {
            background: rgba(20, 20, 20, 0.9); /* Lighter dark for separation from black bg */
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 4px;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .glass-panel:hover {
            background: rgba(40, 40, 40, 0.95);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
        }
        .text-gradient {
            background: linear-gradient(to right, #fff, #888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="antialiased selection:bg-cyan-500 selection:text-white">

    <!-- Loading Overlay -->
    <div id="loader" class="fixed inset-0 z-50 bg-black flex items-center justify-center transition-opacity duration-1000 pointer-events-none">
        <div class="text-xs tracking-[0.3em] font-bold animate-pulse text-cyan-500">CALIBRATING SHUTTER...</div>
    </div>

    <!-- Navigation (Minimal) -->
    <nav class="fixed top-0 w-full z-40 p-6 flex justify-between items-center mix-blend-difference pointer-events-none">
        <a href="/guild/" class="pointer-events-auto text-sm font-bold tracking-[0.2em] opacity-80 hover:opacity-100 transition-opacity">MIAN.</a>
        <div class="hidden md:flex gap-8 text-xs tracking-widest opacity-60">
            <span>LENS</span>
            <span>CRAFT</span>
            <span>RIDE</span>
            <span>STYLE</span>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="relative z-10">

        <!-- Hero Section -->
        <section class="min-h-screen flex flex-col justify-center items-center px-6 relative">
            <div class="text-center space-y-6 max-w-4xl mx-auto">
                <p class="text-xs md:text-sm tracking-[0.3em] text-cyan-400 reveal-text opacity-0 translate-y-12">STUDENT | CREATOR | RIDER</p>
                <h1 class="text-5xl md:text-8xl font-black tracking-tighter leading-none mix-blend-overlay reveal-text opacity-0 translate-y-12">
                    FOCUS &<br>
                    <span class="text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]">VELOCITY</span>
                </h1>
                <p class="max-w-md mx-auto text-sm md:text-base text-gray-400 leading-relaxed reveal-text opacity-0 translate-y-12 font-light tracking-wide pt-4">
                    Exploring life through different focal lengths at high speed.
                </p>
            </div>

            <div class="absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-50 animate-bounce">
                <span class="text-[10px] tracking-widest text-cyan-500">SCROLL TO ACCELERATE</span>
                <div class="w-[1px] h-8 bg-cyan-500/50"></div>
            </div>
        </section>

        <!-- Section 1: The Lens (Optics) -->
        <section class="min-h-screen flex items-center py-24 px-6 relative" id="lens">
            <div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="order-2 md:order-1 relative group">
                    <div class="absolute inset-0 bg-gradient-to-tr from-cyan-500/20 to-purple-500/20 rounded-lg blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>
                    <!-- Added width/height/loading/onerror for robustness -->
                    <img src="/assets/img/guild/mian/avatar.webp" width="640" height="800" loading="lazy"
                         alt="Through the Lens"
                         class="relative glass-panel p-2 w-full max-w-md mx-auto aspect-[4/5] object-cover grayscale group-hover:grayscale-0 transition-all duration-700 bg-gray-900 reveal-content opacity-0 translate-y-8"
                         onerror="this.style.display='none'">
                    <div class="absolute -bottom-4 -right-4 text-6xl font-black text-white/5 select-none z-[-1]">01</div>
                </div>
                <div class="order-1 md:order-2 space-y-8 pl-0 md:pl-12">
                    <div class="space-y-2 reveal-content opacity-0 translate-y-8">
                        <span class="text-xs tracking-[0.2em] text-cyan-400/80">01 / OPTICS</span>
                        <h2 class="text-4xl md:text-6xl font-bold tracking-tight">The Lens</h2>
                    </div>
                    <div class="glass-panel p-8 space-y-4 relative overflow-hidden group reveal-content opacity-0 translate-y-8">
                        <div class="absolute top-0 left-0 w-1 h-full bg-cyan-500/50 transform origin-top scale-y-0 group-hover:scale-y-100 transition-transform duration-500"></div>
                        <p class="text-gray-100 leading-relaxed text-justify font-light tracking-wide">
                            我是 Mian，一名努力探索人生可能的大二學生。目前在相機店打工，每天接觸各式各樣的鏡頭與器材。
                        </p>
                        <p class="text-gray-300 text-sm leading-relaxed text-justify">
                            這份工作讓我學會從不同的焦距觀察世界。無論是 35mm 街拍的親密感，還是 85mm 人像的壓縮感，每一顆鏡頭都在訴說不同的故事。我對攝影美學的理解，正如光圈與快門的組合，是在無數次嘗試中找到最完美的平衡。
                        </p>
                    </div>
                    <div class="flex gap-4 text-xs tracking-widest text-gray-500 reveal-content opacity-0 translate-y-8">
                        <span>#SONY</span>
                        <span>#FUJIFILM</span>
                        <span>#35MM</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: The Workshop (Craft) -->
        <section class="min-h-screen flex items-center py-24 px-6 relative" id="craft">
            <div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="space-y-8 pr-0 md:pr-12 relative z-10">
                    <div class="space-y-2 text-right md:text-left reveal-content opacity-0 translate-y-8">
                        <span class="text-xs tracking-[0.2em] text-orange-400/80">02 / CRAFT</span>
                        <h2 class="text-4xl md:text-6xl font-bold tracking-tight">The Workshop</h2>
                    </div>
                    <div class="glass-panel p-8 space-y-4 relative overflow-hidden group reveal-content opacity-0 translate-y-8">
                        <div class="absolute top-0 right-0 md:left-0 w-1 h-full bg-orange-500/50 transform origin-bottom scale-y-0 group-hover:scale-y-100 transition-transform duration-500"></div>
                        <p class="text-gray-100 leading-relaxed text-justify font-light tracking-wide">
                            工作之餘，我沉迷於 1/64 模型車的微縮世界。在那方寸之間，我親手改裝每一台小車，從噴漆上色到細節調整，打造獨一無二的作品。
                        </p>
                        <p class="text-gray-300 text-sm leading-relaxed text-justify">
                            這不僅是模型，更是我對機械美學的致敬。我也熱衷於參加車展，親眼感受實車的線條與靈魂，甚至在賽車遊戲中尋找那份極致的擬真感。每一個微小的零件調整，都是極大成就感的來源。
                        </p>
                    </div>
                    <div class="absolute -z-10 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[12rem] font-black text-white/[0.02] pointer-events-none">1/64</div>
                </div>
                 <!-- Using local image for reliability -->
                 <div class="relative h-[400px] w-full glass-panel flex items-center justify-center overflow-hidden group reveal-content opacity-0 translate-y-8 bg-gray-900">
                    <div class="absolute inset-0 bg-cover bg-center opacity-40 group-hover:scale-105 transition-transform duration-700"
                         style="background-image: url('/assets/img/guild/mian/workshop.webp');"></div>
                    <div class="relative z-10 text-center pointer-events-none">
                        <i class="fa-solid fa-screwdriver-wrench text-4xl mb-4 text-orange-400"></i>
                        <h3 class="text-xl font-bold tracking-widest">CUSTOMIZATION</h3>
                        <p class="text-xs text-gray-400 mt-2">PRECISION & PATIENCE</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: The Journey (Ride) -->
        <section class="min-h-screen flex items-center py-24 px-6 relative" id="ride">
             <div class="container mx-auto grid md:grid-cols-2 gap-12 items-center">
                <div class="order-2 md:order-1 relative group h-[500px] glass-panel overflow-hidden reveal-content opacity-0 translate-y-8 bg-gray-900">
                     <img src="/assets/img/guild/mian/bike.webp" loading="lazy" alt="The Ride" class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700" onerror="this.style.display='none'">
                     <div class="absolute bottom-0 left-0 p-8 bg-gradient-to-t from-black to-transparent w-full pointer-events-none">
                        <div class="text-xs tracking-widest text-emerald-400 mb-1">STATUS</div>
                        <div class="text-2xl font-bold">FREEDOM</div>
                     </div>
                </div>
                <div class="order-1 md:order-2 space-y-8 pl-0 md:pl-12">
                    <div class="space-y-2 reveal-content opacity-0 translate-y-8">
                        <span class="text-xs tracking-[0.2em] text-emerald-400/80">03 / FREEDOM</span>
                        <h2 class="text-4xl md:text-6xl font-bold tracking-tight">The Journey</h2>
                    </div>
                    <div class="glass-panel p-8 space-y-4 relative overflow-hidden group reveal-content opacity-0 translate-y-8">
                        <div class="absolute bottom-0 left-0 w-full h-1 bg-emerald-500/50 transform origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-500"></div>
                        <p class="text-gray-100 leading-relaxed text-justify font-light tracking-wide">
                            除了靜態的模型，我也嚮往自由。放假時，我最喜歡騎著我的小摩托到處亂晃，在風中感受城市的脈動與自然的氣息。
                        </p>
                        <p class="text-gray-300 text-sm leading-relaxed text-justify">
                            公路是我另一個書桌。在移動中思考，在速度中沉澱。每一次的騎行都是一場小型的冒險，讓我暫時逃離日常的喧囂，找回生活的節奏。
                        </p>
                    </div>
                </div>
            </div>
        </section>

         <!-- Section 4: The Aesthetic (Style & Footer) -->
        <section class="min-h-[80vh] flex flex-col justify-center items-center py-24 px-6 relative" id="style">
            <div class="max-w-3xl mx-auto text-center space-y-12">
                <div class="space-y-4 reveal-content opacity-0 translate-y-8">
                    <span class="text-xs tracking-[0.2em] text-purple-400/80">04 / AESTHETIC</span>
                    <h2 class="text-4xl md:text-6xl font-bold tracking-tight">Style & Vision</h2>
                    <p class="text-gray-400 leading-relaxed max-w-xl mx-auto">
                        最近開始鑽研穿搭，試著把對車子改裝的那種審美眼光，應用到自己的生活風格上。我還在尋找未來的精確定位，但希望能透過<span class="text-white font-medium">攝影、模型與旅行</span>，拼湊出最精彩的青春地圖。
                    </p>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 reveal-content opacity-0 translate-y-8">
                    <a href="https://www.instagram.com/zero_w9453/" target="_blank" class="glass-panel p-6 flex flex-col items-center gap-3 group hover:bg-white/10">
                        <i class="fa-brands fa-instagram text-2xl group-hover:text-pink-500 transition-colors"></i>
                        <span class="text-xs tracking-widest">INSTAGRAM</span>
                    </a>
                    <a href="https://www.threads.net/@zero_w9453" target="_blank" class="glass-panel p-6 flex flex-col items-center gap-3 group hover:bg-white/10">
                        <i class="fa-brands fa-threads text-2xl group-hover:text-white transition-colors"></i>
                        <span class="text-xs tracking-widest">THREADS</span>
                    </a>
                    <div class="glass-panel p-6 flex flex-col items-center gap-3 opacity-50 cursor-not-allowed">
                        <i class="fa-solid fa-camera text-2xl"></i>
                        <span class="text-xs tracking-widest">GALLERY</span>
                    </div>
                    <div class="glass-panel p-6 flex flex-col items-center gap-3 opacity-50 cursor-not-allowed">
                        <i class="fa-solid fa-envelope text-2xl"></i>
                        <span class="text-xs tracking-widest">CONTACT</span>
                    </div>
                </div>

                <div class="pt-12 border-t border-white/10 w-full reveal-content opacity-0 translate-y-8">
                    <a href="/guild/" class="inline-block px-8 py-3 glass-panel hover:bg-white text-white hover:text-black transition-colors duration-300 text-sm tracking-[0.2em] font-bold">
                        BACK TO GUILD
                    </a>
                </div>
            </div>

            <footer class="absolute bottom-6 text-[10px] text-gray-600 tracking-widest uppercase reveal-content opacity-0 translate-y-8">
                &copy; 2024 Mian Portfolio. Design by Guild.
            </footer>
        </section>

    </main>

    <script>
        // Loading Sequence with Failsafe
        // We define hideLoader globally so it can be called by either event or timeout
        const hideLoader = () => {
            const loader = document.getElementById('loader');
            if (!loader || loader.style.opacity === '0') return; // Already hidden

            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
                initAnimations();
            }, 1000);
        };

        window.addEventListener('load', () => {
            // Standard load: wait a bit for effect, then hide
            setTimeout(hideLoader, 1500);
        });

        // Failsafe: If window.load doesn't fire within 4 seconds, force hide
        setTimeout(() => {
            console.warn('Forcing loader hide due to timeout');
            hideLoader();
        }, 4000);

        // GSAP Animations
        gsap.registerPlugin(ScrollTrigger);

        function initAnimations() {
            // Hero Reveal: Use to() from current state (opacity-0 in HTML)
            gsap.to('.reveal-text', {
                y: 0,
                opacity: 1,
                duration: 1.5,
                stagger: 0.2,
                ease: "power3.out"
            });

            // Section Reveals: Use fromTo for robustness
            document.querySelectorAll('section').forEach(section => {
                if(section.id) { // Skip hero
                    const elements = section.querySelectorAll('.reveal-content');
                    if (elements.length > 0) {
                        gsap.fromTo(elements,
                            { y: 30, opacity: 0 },
                            {
                                y: 0,
                                opacity: 1,
                                duration: 0.8,
                                stagger: 0.1,
                                ease: "power2.out",
                                scrollTrigger: {
                                    trigger: section,
                                    start: "top 80%",
                                    toggleActions: "play none none reverse"
                                }
                            }
                        );
                    }
                }
            });
        }

        // Three.js Scene: Infinite Light Speed Tunnel
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 0; // Camera stays at origin

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        document.body.appendChild(renderer.domElement);

        // Tunnel Parameters
        const STREAK_COUNT = 400; // Reduced count for clarity
        const TUNNEL_RADIUS = 30;
        const TUNNEL_LENGTH = 200;

        // Geometry: Long, thin boxes (Light Streaks)
        const geometry = new THREE.BoxGeometry(0.1, 0.1, 5);

        // Material: Glowing additive color
        const material = new THREE.MeshBasicMaterial({
            color: 0xffffff,
            transparent: true,
            opacity: 0.5, // Reduced opacity
            blending: THREE.AdditiveBlending
        });

        const mesh = new THREE.InstancedMesh(geometry, material, STREAK_COUNT);
        scene.add(mesh);

        // Data for each instance
        const dummy = new THREE.Object3D();
        const positions = [];
        const speeds = [];
        const colors = [];

        const colorPalette = [
            new THREE.Color(0x00ffff), // Cyan (Sony)
            new THREE.Color(0xff00ff), // Magenta (Neon)
            new THREE.Color(0xffaa00), // Orange (Workshop)
            new THREE.Color(0xffffff)  // White (Headlights)
        ];

        // Initialize Instances
        for (let i = 0; i < STREAK_COUNT; i++) {
            // Random position in a cylinder around the camera
            const angle = Math.random() * Math.PI * 2;
            // Increased inner gap (12) to keep center clear for text
            const radius = 12 + Math.random() * TUNNEL_RADIUS;
            const x = Math.cos(angle) * radius;
            const y = Math.sin(angle) * radius;
            const z = (Math.random() - 0.5) * TUNNEL_LENGTH;

            positions.push({ x, y, z });
            speeds.push(0.2 + Math.random() * 0.5);

            // Random Color
            const color = colorPalette[Math.floor(Math.random() * colorPalette.length)];
            mesh.setColorAt(i, color);
        }
        mesh.instanceColor.needsUpdate = true;

        // Mouse Interaction
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;

        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - windowHalfX) * 0.005;
            mouseY = (event.clientY - windowHalfY) * 0.005;
        });

        // Scroll Velocity Logic
        let scrollSpeed = 0;
        let targetScrollSpeed = 0;

        // Use GSAP ScrollTrigger to detect velocity
        ScrollTrigger.create({
            trigger: "body",
            start: "top top",
            end: "bottom bottom",
            onUpdate: (self) => {
                // Determine direction: positive (down) or negative (up).
                // We want forward motion regardless of scroll direction?
                // Usually "speed" implies forward. Let's make scroll ADD velocity.
                targetScrollSpeed = Math.abs(self.getVelocity() / 300); // Normalize velocity
                targetScrollSpeed = Math.min(targetScrollSpeed, 3.5); // Cap max speed
            }
        });

        // Animation Loop
        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);

            // Decay speed back to idle
            targetScrollSpeed *= 0.95; // Friction
            if (targetScrollSpeed < 0.05) targetScrollSpeed = 0.05; // Minimum idle speed

            // Smoothly interpolate current speed
            scrollSpeed += (targetScrollSpeed - scrollSpeed) * 0.1;

            // Camera/Mouse Movement (Steering)
            targetX = mouseX;
            targetY = mouseY;
            camera.rotation.x += 0.05 * (-targetY - camera.rotation.x);
            camera.rotation.y += 0.05 * (-targetX - camera.rotation.y);

            // Update Particle Positions
            for (let i = 0; i < STREAK_COUNT; i++) {
                const pos = positions[i];

                // Move towards camera (positive Z)
                // Speed multiplier: Base speed + Scroll boost
                const speed = speeds[i] * (1 + scrollSpeed * 10);

                pos.z += speed;

                // Infinite Tunnel Loop: If passed camera, reset to back
                if (pos.z > 20) {
                    pos.z = -TUNNEL_LENGTH / 2 - Math.random() * 20;
                }

                // Update Matrix
                dummy.position.set(pos.x, pos.y, pos.z);

                // Stretch geometry based on speed to simulate motion blur
                // Scale Z axis
                const stretch = 1 + scrollSpeed * 5;
                dummy.scale.set(1, 1, stretch);

                dummy.updateMatrix();
                mesh.setMatrixAt(i, dummy.matrix);
            }
            mesh.instanceMatrix.needsUpdate = true;

            renderer.render(scene, camera);
        }

        animate();

        // Responsive
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>