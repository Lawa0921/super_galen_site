<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Michael Lai | Data Architect</title>
    <meta name="description" content="Michael Lai - 數據分析師 | 自動化專家 | AI 愛好者">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Three.js Import Map -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <style>
        :root {
            /* Palette */
            --c-bg: #F8FAFC;       /* Off-White / Light Blue-Grey */
            --c-text: #0F172A;     /* Dark Charcoal */
            --c-primary: #3B82A0;  /* Muted Blue */
            --c-secondary: #64748B;/* Slate */
            --c-accent: #F97316;   /* Warm Orange */
            --c-glass: rgba(255, 255, 255, 0.6);
            --c-border: rgba(255, 255, 255, 0.8);

            --f-main: 'Inter', sans-serif;
            --f-tc: 'Noto Sans TC', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--c-bg);
            color: var(--c-text);
            font-family: var(--f-tc);
            overflow-x: hidden;
            line-height: 1.7;
        }

        /* --- Layout --- */
        #webgl-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            pointer-events: none; /* Let clicks pass through unless on specific objects */
        }

        .scroller {
            position: relative;
            z-index: 10;
        }

        .section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem 2rem;
            position: relative;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }

        /* --- Glass Cards --- */
        .glass-card {
            background: var(--c-glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--c-border);
            border-radius: 24px;
            padding: 3rem;
            box-shadow:
                0 4px 6px -1px rgba(0, 0, 0, 0.05),
                0 10px 15px -3px rgba(0, 0, 0, 0.05),
                inset 0 0 20px rgba(255, 255, 255, 0.5);
            transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.4s;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow:
                0 20px 25px -5px rgba(0, 0, 0, 0.05),
                0 10px 10px -5px rgba(0, 0, 0, 0.01);
        }

        /* --- Typography --- */
        h1 {
            font-family: var(--f-main);
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 800;
            line-height: 1.1;
            letter-spacing: -0.03em;
            color: var(--c-primary);
            margin-bottom: 1rem;
        }

        h2 {
            font-family: var(--f-main);
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--c-text);
            letter-spacing: -0.02em;
        }

        h3 {
            font-size: 1.5rem;
            color: var(--c-secondary);
            margin-bottom: 1rem;
            font-weight: 500;
        }

        p {
            font-size: 1.125rem;
            color: var(--c-secondary);
            margin-bottom: 1.5rem;
            max-width: 65ch;
        }

        .highlight {
            color: var(--c-accent);
            font-weight: 600;
            position: relative;
            display: inline-block;
        }

        /* --- Components --- */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--c-accent);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            box-shadow: 0 4px 14px 0 rgba(249, 115, 22, 0.39);
        }

        .btn:hover {
            background: #ea580c;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(249, 115, 22, 0.23);
        }

        .tag {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            background: white;
            border: 1px solid rgba(59, 130, 160, 0.2);
            color: var(--c-primary);
            font-size: 0.875rem;
            font-weight: 600;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* --- Hero Specific --- */
        .hero-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .avatar-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
        }

        .avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            box-shadow: 20px 20px 60px rgba(59, 130, 160, 0.15);
            animation: morph 8s ease-in-out infinite;
            position: relative;
            z-index: 2;
        }

        @keyframes morph {
            0% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
            25% { border-radius: 58% 42% 75% 25% / 76% 46% 54% 24%; }
            50% { border-radius: 50% 50% 33% 67% / 55% 27% 73% 45%; }
            75% { border-radius: 33% 67% 58% 42% / 63% 68% 32% 37%; }
            100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
        }

        /* --- Grid Layouts --- */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        /* --- Interest Cards --- */
        .interest-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid rgba(0,0,0,0.05);
            transition: 0.3s;
            position: relative;
            overflow: hidden;
        }

        .interest-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 4px;
            background: var(--c-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s;
        }

        .interest-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .interest-card:hover::before {
            transform: scaleX(1);
        }

        .icon-large {
            font-size: 2.5rem;
            color: var(--c-primary);
            margin-bottom: 1.5rem;
            opacity: 0.8;
        }

        /* --- Footer --- */
        .social-link {
            font-size: 2rem;
            color: var(--c-secondary);
            margin: 0 1rem;
            transition: 0.3s;
        }
        .social-link:hover {
            color: var(--c-accent);
            transform: scale(1.2);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .hero-layout, .grid-2, .grid-3 { grid-template-columns: 1fr; }
            .hero-layout { gap: 2rem; text-align: center; }
            .avatar-container { margin-bottom: 2rem; }
            h1 { font-size: 3.5rem; }
            .glass-card { padding: 2rem; }
        }

        /* Nav */
        .nav-back {
            position: fixed; top: 2rem; left: 2rem; z-index: 50;
            color: var(--c-primary); font-weight: 600; text-decoration: none;
            display: flex; align-items: center; gap: 0.5rem;
            background: rgba(255,255,255,0.8); padding: 0.5rem 1rem; border-radius: 50px;
            backdrop-filter: blur(5px); transition: 0.3s;
        }
        .nav-back:hover { background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    </style>
</head>
<body>

    <a href="/guild" class="nav-back"><i class="fa-solid fa-arrow-left"></i> Guild</a>
    <div id="webgl-container"></div>

    <div class="scroller">

        <!-- 1. Hero -->
        <section class="section">
            <div class="container hero-layout">
                <div class="gs-reveal">
                    <div class="avatar-container">
                        <img src="/assets/img/guild/michael/avatar.webp" alt="Michael Lai" class="avatar-img">
                    </div>
                </div>
                <div class="gs-reveal">
                    <span class="tag">Data Analyst</span>
                    <span class="tag">Automation</span>
                    <span class="tag">AI</span>
                    <h1>Michael Lai</h1>
                    <h3>Analyzing the Present,<br>Architecting the <span class="highlight">Future</span>.</h3>
                    <p>
                        我是 Michael，一個半路出家的數據分析師。
                        在數據的海洋中，我尋找秩序；在自動化的流程裡，我創造效率。
                        目標是從分析師進化為數據專家 (Data Expert)。
                    </p>
                    <div style="margin-top: 2rem; display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; width: 100%;">
                        <a href="#about" class="btn">Explore My World <i class="fa-solid fa-arrow-down"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. About & Philosophy -->
        <section class="section" id="about">
            <div class="container glass-card gs-reveal">
                <div class="grid-2" style="align-items: center;">
                    <div>
                        <h2><span class="highlight">Origin</span> Algorithm</h2>
                        <p>
                            我的旅程並非直線。作為半路出家的數據分析師，我擁有獨特的視角。
                            我不僅僅關注數字本身，更關注數字背後的<span class="highlight">故事與邏輯</span>。
                        </p>
                        <p>
                            我喜歡用原始碼 (Source Code) 將繁瑣的流程自動化，
                            這不僅是為了節省時間，更是為了讓思維有更多的空間去探索未知。
                            AI 工具是我的畫筆，讓我能生成並體驗不同的事物。
                        </p>
                    </div>
                    <div style="text-align: center;">
                        <i class="fa-solid fa-network-wired" style="font-size: 8rem; color: var(--c-primary); opacity: 0.1;"></i>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Interests Grid -->
        <section class="section">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 4rem;" class="gs-reveal">Core <span class="highlight">Variables</span></h2>

                <div class="grid-3">
                    <!-- Interest 1 -->
                    <div class="interest-card gs-reveal">
                        <i class="fa-solid fa-globe icon-large"></i>
                        <h3>Global Observer</h3>
                        <p>喜歡觀察各國文化。每一個文化都是一套獨特的演算法，學習他人的長處，優化自己的思維模型。</p>
                    </div>

                    <!-- Interest 2 -->
                    <div class="interest-card gs-reveal">
                        <i class="fa-solid fa-cat icon-large"></i>
                        <h3>Feline Companion</h3>
                        <p>貓咪是真愛。牠們教會我獨立、優雅以及在混亂中保持冷靜的藝術。</p>
                    </div>

                    <!-- Interest 3 -->
                    <div class="interest-card gs-reveal">
                        <i class="fa-solid fa-basketball icon-large"></i>
                        <h3>Kinetic Energy</h3>
                        <p>熱愛運動，尤其是籃球。在球場上的每一次運球與投籃，都是對動態數據的即時運算。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Footer -->
        <section class="section" style="min-height: 50vh;">
            <div class="container glass-card gs-reveal" style="text-align: center; max-width: 600px;">
                <h2>Connect <span class="highlight">Node</span></h2>
                <p>正在尋找數據分析相關工作機會。<br>讓我們一起用數據創造價值。</p>

                <div style="margin-top: 2rem;">
                    <a href="https://www.threads.net/@michael_lwt" target="_blank" class="social-link"><i class="fa-brands fa-threads"></i></a>
                    <a href="https://www.instagram.com/michael_lwt/" target="_blank" class="social-link"><i class="fa-brands fa-instagram"></i></a>
                </div>

                <div style="margin-top: 3rem; font-size: 0.8rem; opacity: 0.6;">
                    Made with <i class="fa-solid fa-heart" style="color: var(--c-accent);"></i> by SuperGalen's Dungeon
                </div>
            </div>
        </section>

    </div>

    <!-- WebGL Logic -->
    <script type="module">
        import * as THREE from 'three';
        import { RoundedBoxGeometry } from 'three/addons/geometries/RoundedBoxGeometry.js';

        // --- Scene Setup ---
        const container = document.getElementById('webgl-container');
        const scene = new THREE.Scene();
        // Clear color is managed by CSS body background, so we keep scene transparent or match it?
        // Actually, for refraction to look good, we need an environment map, but we'll simulate it.

        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.z = 20;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        // Tone mapping for realistic lighting
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.2;
        container.appendChild(renderer.domElement);

        // --- Lighting ---
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
        scene.add(ambientLight);

        const dirLight = new THREE.DirectionalLight(0xffffff, 1.5);
        dirLight.position.set(5, 10, 7);
        scene.add(dirLight);

        const spotLight = new THREE.SpotLight(0xF97316, 5); // Orange accent light
        spotLight.position.set(-10, 0, 5);
        spotLight.angle = Math.PI / 6;
        spotLight.penumbra = 1;
        scene.add(spotLight);

        // --- Object: The Data Crystal ---
        // Using an Icosahedron for the geometric/data feel
        const geometry = new THREE.IcosahedronGeometry(4, 0);

        // Physical material for glass effect
        const material = new THREE.MeshPhysicalMaterial({
            color: 0x3B82A0,        // Blue tint
            metalness: 0.1,
            roughness: 0.05,
            transmission: 0.95,     // Glass-like transmission
            thickness: 2.5,         // Refraction volume
            envMapIntensity: 1,
            clearcoat: 1,
            clearcoatRoughness: 0.1,
            ior: 1.5,
        });

        const crystal = new THREE.Mesh(geometry, material);
        scene.add(crystal);

        // Secondary Object: Floating Data Points (Cubes)
        const cubesGroup = new THREE.Group();
        scene.add(cubesGroup);

        const cubeGeo = new RoundedBoxGeometry(0.5, 0.5, 0.5, 4, 0.1);
        const cubeMat = new THREE.MeshStandardMaterial({
            color: 0x64748B,
            roughness: 0.4,
            metalness: 0.6
        });

        const cubes = [];
        for(let i=0; i<30; i++) {
            const mesh = new THREE.Mesh(cubeGeo, cubeMat);
            // Random position around the crystal
            const theta = Math.random() * Math.PI * 2;
            const phi = Math.acos((Math.random() * 2) - 1);
            const r = 6 + Math.random() * 4;

            mesh.position.set(
                r * Math.sin(phi) * Math.cos(theta),
                r * Math.sin(phi) * Math.sin(theta),
                r * Math.cos(phi)
            );

            mesh.rotation.set(Math.random()*Math.PI, Math.random()*Math.PI, 0);

            mesh.userData = {
                speed: 0.005 + Math.random() * 0.01,
                axis: new THREE.Vector3(Math.random()-0.5, Math.random()-0.5, Math.random()-0.5).normalize()
            };

            cubesGroup.add(mesh);
            cubes.push(mesh);
        }

        // --- Interaction ---
        // Mouse Parallax
        const mouse = new THREE.Vector2();
        const targetRotation = new THREE.Vector2();

        window.addEventListener('mousemove', (e) => {
            mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
        });

        // Animation Loop
        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();

            // Smooth mouse follow
            targetRotation.x = mouse.y * 0.5;
            targetRotation.y = mouse.x * 0.5;

            // Base rotation
            crystal.rotation.y += 0.002;
            crystal.rotation.x = THREE.MathUtils.lerp(crystal.rotation.x, targetRotation.x * 0.5, 0.05);
            crystal.rotation.z = THREE.MathUtils.lerp(crystal.rotation.z, targetRotation.y * 0.5, 0.05);

            // Animate cubes
            cubes.forEach((cube, i) => {
                cube.rotation.x += cube.userData.speed;
                cube.rotation.y += cube.userData.speed;
                // Orbit
                cube.position.applyAxisAngle(new THREE.Vector3(0,1,0), 0.002);
            });

            // Gentle float
            crystal.position.y = Math.sin(time * 0.5) * 0.2;

            renderer.render(scene, camera);
        }
        animate();

        // --- Scroll Animations (GSAP) ---
        gsap.registerPlugin(ScrollTrigger);

        // 1. Crystal Transformation on Scroll
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".scroller",
                start: "top top",
                end: "bottom bottom",
                scrub: 1
            }
        });

        // Scroll 1: Crystal rotates and moves left (for About section)
        tl.to(crystal.position, { x: -6, z: 15, duration: 1 });
        tl.to(crystal.rotation, { y: Math.PI * 2, duration: 1 }, "<");

        // Scroll 2: Crystal moves center and explodes (for Interests)
        tl.to(crystal.position, { x: 0, z: 10, duration: 1 });
        tl.to(crystal.scale, { x: 0.1, y: 0.1, z: 0.1, duration: 0.5 }, "<"); // Implode

        // Cubes expand
        tl.to(cubesGroup.scale, { x: 2, y: 2, z: 2, duration: 1 }, "<");

        // Reveal Elements
        gsap.utils.toArray('.gs-reveal').forEach(elem => {
            gsap.from(elem, {
                scrollTrigger: {
                    trigger: elem,
                    start: "top 85%",
                    toggleActions: "play none none reverse"
                },
                y: 50,
                opacity: 0,
                duration: 1,
                ease: "power3.out"
            });
        });

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>