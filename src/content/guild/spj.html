<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>塞趴卷 - 具現化系鍊金術師</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+TC:wght@400;600;900&family=IM+Fell+English:ital@0;1&display=swap" rel="stylesheet">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --wood-dark: #2c1e14;
            --wood-light: #5d4037;
            --parchment: #f3e5cd;
            --ink: #2f2f2f;
            --gold: #d4af37;
            --red: #8b0000;
            --paper-shadow: rgba(0,0,0,0.4);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: #1a120b;
            color: var(--ink);
            font-family: 'Noto Serif TC', serif;
            overflow-x: hidden;
        }

        /* --- 1. Background Atmosphere --- */
        #bg-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
            background: radial-gradient(circle at 50% 30%, #3e2723 0%, #1a120b 100%);
        }

        /* --- 2. The Quest Board (Main Container) --- */
        #quest-board {
            width: 100%;
            max-width: 1000px;
            margin: 4rem auto;
            position: relative;
            background-image: repeating-linear-gradient(90deg, #3e2723 0px, #2c1e14 40px, #332219 80px);
            box-shadow:
                0 0 50px rgba(0,0,0,0.8),
                inset 0 0 100px rgba(0,0,0,0.9);
            border: 20px solid #25160c;
            border-radius: 8px;
            padding: 4rem 2rem;
            /* Wood Grain Texture Overlay */
            background-blend-mode: multiply;
        }

        #quest-board::before {
            content: ''; position: absolute; top:0; left:0; width:100%; height:100%;
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.6' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E");
            pointer-events: none;
            opacity: 0.4;
        }

        /* --- 3. Header Sign --- */
        .guild-header {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            z-index: 10;
        }

        .header-plaque {
            background: #4e342e;
            display: inline-block;
            padding: 1rem 3rem;
            border: 4px solid #3e2723;
            border-radius: 4px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
            transform: rotate(-1deg);
        }

        .header-plaque h1 {
            color: var(--gold);
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            text-shadow: 2px 2px 0 #000;
            letter-spacing: 2px;
            margin: 0;
        }

        .header-plaque .subtitle {
            color: #d7ccc8;
            font-size: 0.9rem;
            letter-spacing: 4px;
            margin-top: 5px;
            text-transform: uppercase;
        }

        /* --- 4. Content Styles (Pinned Papers) --- */
        .paper-note {
            background: var(--parchment);
            color: var(--ink);
            padding: 2.5rem;
            margin-bottom: 3rem;
            box-shadow: 5px 10px 20px var(--paper-shadow);
            position: relative;
            /* Subtle paper texture */
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.05' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.2'/%3E%3C/svg%3E");
            transform-origin: center top;
            transition: transform 0.3s ease;
        }

        .paper-note:hover {
            transform: scale(1.02) rotate(0deg) !important;
            z-index: 20;
            box-shadow: 10px 20px 40px rgba(0,0,0,0.4);
        }

        /* Pin Visual */
        .pin {
            position: absolute;
            top: -10px; left: 50%;
            transform: translateX(-50%);
            width: 16px; height: 16px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #b0bec5, #546e7a);
            box-shadow: 2px 4px 6px rgba(0,0,0,0.5);
            z-index: 5;
        }

        .section-title {
            font-family: 'Noto Serif TC', serif;
            font-weight: 900;
            font-size: 1.8rem;
            border-bottom: 2px solid var(--ink);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .section-date {
            font-size: 0.9rem;
            color: #666;
            font-weight: normal;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            color: #333;
        }

        .highlight {
            background: rgba(255, 215, 0, 0.3);
            padding: 0 4px;
            font-weight: bold;
            color: #8b0000;
        }

        /* --- 5. Specific Sections --- */

        /* Hero: Registration Form */
        #registration-form {
            max-width: 800px;
            margin: 0 auto 4rem auto;
            transform: rotate(1deg);
            display: flex;
            gap: 2rem;
            background: #fff8e1; /* Lighter form paper */
        }

        .profile-photo-container {
            flex: 0 0 250px;
            border: 1px solid #8d6e63;
            padding: 10px;
            background: #fff;
            transform: rotate(-2deg);
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
        }

        .profile-photo {
            width: 100%;
            height: 300px;
            object-fit: cover;
            filter: sepia(0.2);
        }

        .form-details {
            flex: 1;
        }

        .form-field {
            margin-bottom: 1rem;
            border-bottom: 1px dashed #aaa;
            padding-bottom: 5px;
            display: flex;
            align-items: baseline;
        }

        .label {
            font-weight: 900;
            margin-right: 10px;
            color: #5d4037;
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        .value {
            font-family: 'IM Fell English', serif;
            font-size: 1.4rem;
            color: var(--ink);
        }

        .guild-stamp {
            border: 3px double var(--red);
            color: var(--red);
            padding: 0.5rem 1rem;
            display: inline-block;
            font-weight: 900;
            transform: rotate(-10deg);
            margin-top: 1rem;
            font-size: 1.2rem;
            opacity: 0.8;
        }

        /* Intro & Dream: Side-by-side Notices */
        .notices-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 4rem;
        }

        @media (max-width: 768px) {
            .notices-grid { grid-template-columns: 1fr; }
            #registration-form { flex-direction: column; }
            .profile-photo-container { width: 100%; height: auto; }
            .profile-photo { height: auto; }
        }

        /* Projects: Wanted Posters Grid */
        #bounty-board {
            background: transparent;
            box-shadow: none;
            padding: 0;
            transform: none;
        }

        .poster-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .wanted-poster {
            background: #efebe9;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 5px 10px 20px rgba(0,0,0,0.3);
            position: relative;
            transition: all 0.3s ease;
        }

        .wanted-poster::before { /* Nail */
            content: ''; position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
            width: 8px; height: 8px; background: #333; border-radius: 50%;
            box-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .wanted-poster:hover {
            transform: translateY(-5px) scale(1.02);
            z-index: 10;
            box-shadow: 10px 20px 40px rgba(0,0,0,0.5);
        }

        .poster-img {
            width: 100%;
            height: 180px;
            background: #333;
            margin: 1rem 0;
            border: 2px solid #3e2723;
            object-fit: cover;
            filter: grayscale(0.5) contrast(1.2);
        }

        .poster-title {
            font-family: 'Cinzel', serif;
            font-weight: 900;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #3e2723;
        }

        .reward-tag {
            background: var(--red);
            color: #fff;
            display: inline-block;
            padding: 4px 12px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-top: 1rem;
            border-radius: 2px;
        }

        /* Footer */
        .footer-note {
            text-align: center;
            color: #a1887f;
            margin-top: 4rem;
            font-size: 0.9rem;
            font-style: italic;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 40px; height: 40px;
            background: #5d4037;
            color: #d7ccc8;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s;
        }
        .social-link:hover { background: var(--gold); color: #3e2723; }

        /* Return Button */
        .return-btn {
            position: fixed;
            top: 2rem; left: 2rem;
            background: rgba(62, 39, 35, 0.9);
            color: #d7ccc8;
            padding: 0.8rem 1.5rem;
            text-decoration: none;
            border: 1px solid #8d6e63;
            border-radius: 4px;
            font-family: 'Noto Serif TC', serif;
            font-weight: 600;
            z-index: 100;
            transition: all 0.3s;
        }
        .return-btn:hover {
            background: var(--gold);
            color: #3e2723;
        }

    </style>
</head>
<body>

    <!-- Return Link -->
    <a href="/guild/" class="return-btn">← 返回公會大廳</a>

    <!-- 3D Atmosphere Background -->
    <div id="bg-canvas"></div>

    <!-- Main Content Board -->
    <div id="quest-board">

        <!-- Header -->
        <div class="guild-header">
            <div class="header-plaque">
                <h1>塞趴卷冒險公會</h1>
                <div class="subtitle">Sepajuan Adventure Guild</div>
            </div>
        </div>

        <!-- 1. Hero: Registration Form -->
        <div id="registration-form" class="paper-note">
            <div class="pin"></div>
            <div class="profile-photo-container">
                <img src="/assets/img/guild/spj/avatar.webp" alt="SPJ Avatar" class="profile-photo">
            </div>
            <div class="form-details">
                <div class="section-title">公會成員註冊單<span class="section-date">No. SPJ-001</span></div>

                <div class="form-field">
                    <span class="label">姓名 Name:</span>
                    <span class="value">塞趴卷 SPJ</span>
                </div>

                <div class="form-field">
                    <span class="label">職業 Class:</span>
                    <span class="value">具現化系鍊金術師</span>
                </div>

                <div class="form-field">
                    <span class="label">等級 Level:</span>
                    <span class="value">99 (MAX)</span>
                </div>

                <div class="form-field">
                    <span class="label">技能 Skills:</span>
                    <span class="value" style="font-size: 1rem;">Side Project 開發、文字具現化、公會營運</span>
                </div>

                <div class="guild-stamp">審核通過 APPROVED</div>
            </div>
        </div>

        <!-- 2. Notices Grid -->
        <div class="notices-grid">

            <!-- Notice 1: Intro -->
            <div id="intro-note" class="paper-note" style="transform: rotate(-1deg);">
                <div class="pin" style="background: radial-gradient(circle at 30% 30%, #ff8a65, #bf360c);"></div>
                <div class="section-title">鍊金術師日誌</div>
                <p>我是一個曾經做過很多 Side Project 的<span class="highlight">軟體工程師</span>。</p>
                <p>最近想把<span class="highlight">「文字小鎮」</span>這個概念做成一個遊戲，有種像是「天書系統」的感覺，讓我可以把我的創意都在裡面實現。</p>
                <p>每一行代碼，都是通往新世界的咒語。</p>
            </div>

            <!-- Notice 2: Dream -->
            <div id="dream-note" class="paper-note" style="transform: rotate(1.5deg);">
                <div class="pin" style="background: radial-gradient(circle at 30% 30%, #ffd54f, #ff6f00);"></div>
                <div class="section-title">公會願景公告</div>
                <p>我還有一個夢想，是成立一個<span class="highlight">塞趴卷冒險公會</span>。</p>
                <p>就像動漫或異世界轉生番那樣，一群現實世界的冒險者會在公會交流、組隊、接任務、打副本，希望可以聚集更多資源。</p>
                <p>同時我也喜歡紀錄跟寫作，可以把這些過程的故事分享出來，讓事情不是只有死板板的結果，而是有溫度的過程。</p>
            </div>
        </div>

        <!-- 3. Projects: Bounty Board -->
        <div id="bounty-board">
            <h2 style="font-family: 'Cinzel'; color: #d7ccc8; text-align: center; margin-bottom: 2rem; font-size: 2rem; text-shadow: 2px 2px 4px #000;">懸賞佈告欄 (Projects)</h2>

            <div class="poster-grid">
                <!-- Poster 1 -->
                <div class="wanted-poster" style="transform: rotate(-2deg);">
                    <img src="https://placehold.co/600x400/3e2723/d4af37?text=文字小鎮" alt="文字小鎮" class="poster-img">
                    <div class="poster-title">文字小鎮</div>
                    <p style="font-size: 0.9rem;">透過天書系統，實現無限創意的遊戲世界。</p>
                    <div class="reward-tag">Rank S</div>
                </div>

                <!-- Poster 2 -->
                <div class="wanted-poster" style="transform: rotate(1deg);">
                    <img src="https://placehold.co/600x400/3e2723/d4af37?text=冒險公會" alt="冒險公會" class="poster-img">
                    <div class="poster-title">塞趴卷公會</div>
                    <p style="font-size: 0.9rem;">現實世界的冒險者集散地。組隊、交流、資源共享。</p>
                    <div class="reward-tag">Rank A</div>
                </div>

                <!-- Poster 3 -->
                <div class="wanted-poster" style="transform: rotate(-1.5deg);">
                    <img src="https://placehold.co/600x400/3e2723/d4af37?text=紀錄傳說" alt="紀錄傳說" class="poster-img">
                    <div class="poster-title">紀錄與寫作</div>
                    <p style="font-size: 0.9rem;">分享有溫度的過程故事，而不僅僅是冰冷的結果。</p>
                    <div class="reward-tag">Rank B</div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer-note">
            <p>© 2024 塞趴卷冒險公會 Guild ID: #SPJ-001</p>
            <div class="social-icons">
                <a href="https://www.threads.net/@spj.story" target="_blank" class="social-link" title="Threads">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/><path d="M12 19v-7"/><path d="M12 5v4"/></svg>
                </a>
            </div>
        </div>

    </div>

    <!-- Scripts -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // --- GSAP Interactions ---
        gsap.registerPlugin(ScrollTrigger);

        // Animate Papers on Scroll
        gsap.utils.toArray('.paper-note, .wanted-poster').forEach(item => {
            gsap.from(item, {
                y: 50,
                opacity: 0,
                duration: 1,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: item,
                    start: "top 85%"
                }
            });
        });

        // Header Parallax
        gsap.to(".header-plaque", {
            y: 30,
            rotation: 0,
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom top",
                scrub: 1
            }
        });

        // --- Three.js Ambient Dust ---
        const container = document.getElementById('bg-canvas');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.z = 5;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: false }); // Perf optimization
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        // Dust Particles
        const particlesCnt = 500;
        const posArray = new Float32Array(particlesCnt * 3);
        for(let i = 0; i < particlesCnt * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 15;
        }

        const material = new THREE.PointsMaterial({
            size: 0.03,
            color: 0xffd700,
            transparent: true,
            opacity: 0.4
        });

        const geometry = new THREE.BufferGeometry();
        geometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMesh = new THREE.Points(geometry, material);
        scene.add(particlesMesh);

        // Animation Loop
        const clock = new THREE.Clock();
        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();

            // Subtle drift
            particlesMesh.rotation.y = time * 0.02;
            particlesMesh.position.y = Math.sin(time * 0.1) * 0.2;

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
