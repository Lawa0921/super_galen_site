<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uli | Rational Intuition</title>
    <meta name="description" content="Animal Communicator bridging Logic and Feeling.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --c-bg: #fdfbf7; /* Paper White */
            --c-text: #2c3e50; /* Pencil Lead */
            --c-accent-blue: #3498db;
            --c-accent-teal: #1abc9c;
            --c-accent-coral: #e74c3c;
            --c-accent-gold: #f1c40f;
            --c-deep-bg: #0a1525; /* Deep Ocean */
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--c-bg);
            color: var(--c-text);
            font-family: 'Zen Maru Gothic', sans-serif;
            overflow-x: hidden;
            width: 100vw;
            transition: background-color 1.5s ease-in-out;
        }

        body.dark-mode {
            background-color: var(--c-deep-bg);
            color: #ecf0f1;
            --c-text: #ecf0f1;
        }

        #p5-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            opacity: 1;
            transition: filter 1s ease;
        }

        /* Paper Texture Overlay */
        .texture-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E");
        }

        .content-layer {
            position: relative;
            z-index: 2;
        }

        /* Typography */
        h1, h2, h3 {
            font-family: 'Zen Maru Gothic', sans-serif;
            font-weight: 900;
            margin: 0;
        }

        .hero-title {
            font-size: clamp(4rem, 15vw, 10rem);
            color: var(--c-accent-blue);
            line-height: 0.9;
            /* Sketchy Shadow */
            text-shadow: 4px 4px 0px rgba(44, 62, 80, 0.2);
            mix-blend-mode: multiply;
        }

        body.dark-mode .hero-title {
            color: #85c1e9;
            text-shadow: 0 0 20px rgba(52, 152, 219, 0.8);
            mix-blend-mode: normal;
        }

        .section-title {
            font-size: clamp(2rem, 5vw, 4rem);
            margin-bottom: 2rem;
            color: var(--c-accent-teal);
            border-bottom: 3px solid var(--c-accent-gold);
            display: inline-block;
            transform: rotate(-1deg);
        }

        p {
            font-size: 1.25rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        /* Layout */
        .section {
            min-height: 120vh; /* More space for scrolling */
            padding: 6rem 2rem;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden; /* Contain floating images */
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
            position: relative;
            z-index: 10;
        }

        /* Hero */
        #hero {
            align-items: center;
            text-align: center;
            min-height: 100vh;
        }

        @keyframes avatar-pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.7);
                transform: scale(1);
            }
            70% {
                box-shadow: 0 0 0 20px rgba(52, 152, 219, 0);
                transform: scale(1.02);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0);
                transform: scale(1);
            }
        }

        .avatar-img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #fff;
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);
            margin-bottom: 2rem;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
            z-index: 20;
        }

        .avatar-img:hover {
            transform: scale(1.1) rotate(5deg);
            border-color: var(--c-accent-gold);
            box-shadow: 0 0 40px var(--c-accent-gold);
        }

        /* Mobile Coolness */
        @media (max-width: 768px) {
            .avatar-img {
                width: 220px;
                height: 220px;
                border: 6px solid var(--c-accent-blue);
                animation: avatar-pulse 2s infinite;
                box-shadow: 0 0 30px var(--c-accent-teal);
            }
        }

        .hero-subtitle {
            font-size: 1.5rem;
            background: #fff;
            padding: 1rem 2rem;
            border-radius: 50px;
            border: 2px dashed var(--c-text);
            margin-top: 2rem;
            box-shadow: 5px 5px 0px var(--c-accent-gold);
            color: #2c3e50; /* Always dark text inside box */
        }

        /* Cards/Panels */
        .text-panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 10px 10px 0px rgba(0,0,0,0.1);
            border: 2px solid var(--c-text);
            max-width: 500px; /* Slightly narrower to allow room for images */
            /* Initial state handled by GSAP */
            opacity: 0;
            color: #2c3e50;
            position: relative;
            z-index: 10;
        }

        /* Standard alternating layout */
        .section:nth-child(even) .text-panel {
            margin-left: auto;
            margin-right: 10%;
        }
        .section:nth-child(odd) .text-panel {
            margin-left: 10%;
        }

        /* Centered layout for heavy image sections */
        #artist .text-panel, #alchemist .text-panel {
            margin: 0 auto !important;
        }

        /* Specific Visuals */
        .highlight {
            color: var(--c-accent-coral);
            font-weight: 900;
            text-decoration: underline wavy var(--c-accent-gold);
        }

        /* Scattered Images */
        .scattered-images {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1; /* Behind text panel (z-index 10) but in front of body */
        }

        .scatter-img {
            position: absolute;
            opacity: 0.9;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.15);
            border: 8px solid #fff;
            transition: transform 0.3s;
            max-width: 300px;
            pointer-events: auto; /* Allow clicking for lightbox */
            cursor: pointer;
        }

        .scatter-img:hover {
            transform: scale(1.05) rotate(0deg) !important;
            z-index: 20;
        }

        /* Intermediate breakpoint for Laptops/Tablets */
        @media (min-width: 769px) and (max-width: 1200px) {
            .scatter-img {
                /* Scale down images slightly to prevent overlap with centered text */
                max-width: 180px !important;
            }
        }

        @media (max-width: 768px) {
            .section {
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
            .scattered-images {
                position: relative;
                height: auto;
                width: 100%;
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
                margin-top: 2rem;
                z-index: 5;
                pointer-events: auto;
                order: 2; /* Ensure images appear after text on mobile */
            }
            .container {
                order: 1; /* Text first */
            }

            .scatter-img {
                /* Override inline absolute positioning for mobile flow */
                position: relative !important;
                top: auto !important;
                bottom: auto !important;
                left: auto !important;
                right: auto !important;
                transform: none !important;
                max-width: 45% !important; /* Grid-like layout */
                width: auto !important;
                margin: 0;
            }

            .section:nth-child(even) .text-panel,
            .section:nth-child(odd) .text-panel {
                margin: 0 auto;
            }
            .text-panel {
                max-width: 100%;
                background: rgba(255,255,255,0.98); /* More opaque on mobile */
                margin-bottom: 1rem;
            }
        }

        /* Footer / Finale */
        #finale {
            text-align: center;
            background: transparent;
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        @media (max-width: 768px) {
            #finale {
                min-height: auto;
                padding-top: 4rem;
                padding-bottom: 2rem;
            }
        }

        .social-links {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .social-btn {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2c3e50;
            text-decoration: none;
            border: 3px solid #2c3e50;
            border-radius: 50%;
            background: #fff;
            box-shadow: 5px 5px 0px var(--c-accent-blue);
            transition: all 0.2s;
        }

        .social-btn svg {
            width: 32px;
            height: 32px;
        }

        .social-btn:hover {
            transform: translate(-3px, -3px);
            box-shadow: 8px 8px 0px var(--c-accent-coral);
            color: var(--c-accent-coral);
        }

        .footer {
            text-align: center;
            padding: 4rem 2rem 2rem;
            color: var(--c-text);
            font-size: 0.9rem;
            opacity: 0.6;
            width: 100%;
        }

        .footer a:hover {
            color: var(--c-accent-blue);
        }

        /* Services Section */
        #services {
            background: transparent; /* Removed background to match theme */
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            width: 100%;
            margin-top: 2rem;
        }

        .service-card {
            background: rgba(255, 255, 255, 0.9); /* Glassmorphism start */
            backdrop-filter: blur(5px);
            border: 2px solid var(--c-text);
            border-radius: 20px; /* Matched to text-panel */
            padding: 2rem;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: 5px 5px 0px rgba(0,0,0,0.1); /* Subtle sketchy shadow */
        }

        .service-card:hover {
            transform: translateY(-5px) rotate(-1deg); /* Slight organic tilt */
            box-shadow: 8px 8px 0px var(--c-accent-teal);
            border-color: var(--c-accent-teal);
        }

        .service-icon {
            font-size: 3rem;
            color: var(--c-accent-blue);
            margin-bottom: 1.5rem;
        }

        .service-card h3 {
            margin-bottom: 1rem;
            color: #2c3e50;
            font-size: 1.5rem;
        }

        .service-card p {
            font-size: 1rem;
            color: #555;
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .service-card ul {
            list-style: none;
            padding: 0;
            margin: 1rem 0 0;
            text-align: left;
        }

        .service-card li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.95rem;
            color: #444;
        }

        .service-card li::before {
            content: "•";
            color: var(--c-accent-gold);
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 1.2rem;
            line-height: 1;
        }

        /* Lightbox */
        #lightbox {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(10, 21, 37, 0.95); /* Darker background for better contrast */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999; /* Ensure it's on top of everything */
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        #lightbox.visible {
            opacity: 1;
            pointer-events: auto;
        }
        #lightbox img {
            max-width: 90vw;
            max-height: 85vh;
            border: 5px solid #fff;
            box-shadow: 0 0 50px rgba(52, 152, 219, 0.3);
            border-radius: 8px;
        }

        .lightbox-close-btn {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: none;
            border: none;
            color: #fff;
            font-size: 3rem;
            cursor: pointer;
            z-index: 100000;
            line-height: 1;
        }

        .lightbox-close-btn:hover {
            color: var(--c-accent-coral);
            transform: scale(1.1);
        }

        .back-btn {
            position: fixed;
            top: 1.5rem; left: 1.5rem;
            z-index: 100;
            font-weight: bold;
            text-decoration: none;
            color: var(--c-text);
            background: #fff;
            padding: 0.5rem 1.2rem;
            border: 2px solid var(--c-text);
            border-radius: 30px;
        }

        body.dark-mode .back-btn {
             color: #2c3e50; /* Keep btn light */
        }

    </style>
</head>
<body>

    <a href="/guild" class="back-btn">← Guild</a>

    <!-- Intro Overlay -->
    <div id="intro-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0a1525; z-index: 9999; display: flex; justify-content: center; align-items: center; color: white; flex-direction: column; cursor: pointer;">
        <h1 style="font-family: 'Cinzel', serif; font-size: 3rem; margin-bottom: 1rem; opacity: 0; transform: translateY(20px);" id="intro-title">Rational Intuition</h1>
        <p style="opacity: 0; transform: translateY(20px);" id="intro-hint">Click to Connect</p>
    </div>

    <div class="texture-overlay"></div>
    <div id="p5-container"></div>

    <div id="lightbox">
        <button class="lightbox-close-btn" aria-label="Close Lightbox">&times;</button>
        <img src="" alt="Art">
    </div>

    <div class="content-layer">

        <!-- 1. Hero -->
        <section class="section" id="hero">
            <img src="/assets/img/guild/uli/gallery_7.webp" alt="Uli Avatar" class="avatar-img">
            <h1 class="hero-title">鄔莉 Uli</h1>
            <div class="hero-subtitle">
                Rational Intuition & The Art of Connection
            </div>
            <p style="margin-top: 2rem; font-size: 1rem; color: var(--c-accent-blue);">↓ Scroll to Draw the Story ↓</p>
        </section>

        <!-- 2. Logic (Rational) -->
        <section class="section" id="logic">
            <div class="scattered-images">
                <!-- Group 1: Early/Logic -->
                <!-- Text Right -> Images Left -->
                <img src="/assets/img/guild/uli/gallery_1.webp" class="scatter-img" style="top: 10%; left: 10%; transform: rotate(5deg); width: 250px;">
                <img src="/assets/img/guild/uli/gallery_2.webp" class="scatter-img" style="bottom: 10%; left: 5%; transform: rotate(-3deg); width: 200px;">
                <img src="/assets/img/guild/uli/gallery_3.webp" class="scatter-img" style="top: 40%; left: 5%; transform: rotate(2deg); width: 180px;">
            </div>
            <div class="container">
                <div class="text-panel">
                    <h2 class="section-title">理性與懷疑的起點</h2>
                    <p>我是鄔莉 Uli。在成為動物溝通師之前，我是一個徹頭徹尾的「麻瓜」。</p>
                    <p>我的世界由邏輯與分析構成，對於看不見、摸不著的「直覺」充滿了本能的懷疑。在學習溝通的初期，我的左腦總是不斷地跳出來爭辯，試圖在流動的感受中尋找科學的證據。</p>
                    <p>那是一段充滿卡關與自我對話的過程，但也正因為這份懷疑，讓我更懂得<span class="highlight">理性腦</span>的運作模式。</p>
                </div>
            </div>
        </section>

        <!-- 3. Awakening (Intuition) -->
        <section class="section" id="awakening">
             <div class="scattered-images">
                <!-- Group 2: Awakening/Shock -->
                <!-- Text Left -> Images Right -->
                <img src="/assets/img/guild/uli/gallery_4.webp" class="scatter-img" style="top: 5%; right: 10%; transform: rotate(-5deg); width: 220px;">
                <img src="/assets/img/guild/uli/gallery_5.webp" class="scatter-img" style="bottom: 20%; right: 8%; transform: rotate(4deg); width: 260px;">
            </div>
            <div class="container">
                <div class="text-panel">
                    <h2 class="section-title">那一隻蟑螂的啟示</h2>
                    <p>真正的轉折發生在一次練習中。當時我連結到一隻貓咪，在那一瞬間，一股前所未有的感官體驗衝擊了我——那是<span class="highlight">「吃蟑螂的口感」</span>。</p>
                    <p>那不是想像，而是真實的、具體的、帶著酥脆感的味覺資訊。那個瞬間的震撼，徹底擊碎了我邏輯腦的防線。我第一次深刻地理解到：感受本身就是一種精確的語言，它真實存在，只等待被轉譯。</p>
                </div>
            </div>
        </section>

        <!-- 4. The Bridge (Teaching) -->
        <section class="section" id="bridge">
             <div class="scattered-images">
                <!-- Group 3: Teaching/Connection -->
                <!-- Text Right -> Images Left -->
                <img src="/assets/img/guild/uli/gallery_6.webp" class="scatter-img" style="top: 15%; left: 15%; transform: rotate(3deg); width: 240px;">
                <img src="/assets/img/guild/uli/avatar.webp" class="scatter-img" style="bottom: 5%; left: 15%; transform: rotate(-2deg); width: 210px;">
                <img src="/assets/img/guild/uli/gallery_8.webp" class="scatter-img" style="top: 50%; left: 5%; transform: rotate(6deg); width: 180px;">
            </div>
            <div class="container">
                <div class="text-panel">
                    <h2 class="section-title">為理性腦搭建的橋樑</h2>
                    <p>因為曾經懷疑，所以懂得如何引導。</p>
                    <p>我開始致力於拆解直覺的運作機制，結合心理學、生物本能與能量感知，整理出一套<span class="highlight">連左腦也能理解</span>的動物溝通邏輯。自 2017 年開始教學至今，我協助了上千位「理性型」的家長，找回那份與生俱來的、與萬物連結的本能。</p>
                </div>
            </div>
        </section>

        <!-- 5. The Artist (Flower of Life) -->
        <section class="section" id="artist">
             <div class="scattered-images">
                <!-- Group 4: Art/Mandala - Split Sides Layout -->

                <!-- Left Side -->
                <img src="/assets/img/guild/uli/gallery_9.webp" class="scatter-img" style="top: 0%; left: 5%; transform: rotate(-10deg); width: 180px;">
                <img src="/assets/img/guild/uli/gallery_13.webp" class="scatter-img" style="bottom: 10%; left: 2%; transform: rotate(8deg); width: 160px;">

                <!-- Right Side -->
                <img src="/assets/img/guild/uli/gallery_10.webp" class="scatter-img" style="top: 10%; right: 2%; transform: rotate(10deg); width: 200px;">
                <img src="/assets/img/guild/uli/gallery_12.webp" class="scatter-img" style="top: 45%; right: 5%; transform: rotate(-5deg); width: 190px;">
                <img src="/assets/img/guild/uli/gallery_11.webp" class="scatter-img" style="bottom: 5%; right: 2%; transform: rotate(5deg); width: 210px;">
            </div>
            <div class="container">
                <div class="text-panel">
                    <h2 class="section-title">生命之花的能量語言</h2>
                    <p>除了文字與語言，色彩是我另一種轉譯能量的方式。</p>
                    <p>透過<span class="highlight">「生命之花」</span>與「力量動物」的創作，我將動物的訊息、脈輪的振動以及宇宙的祝福，轉化為肉眼可見的圖騰。這些畫作不只是裝飾，更是能量的載體，成為人與動物、人與內在自我之間最溫柔的橋樑。</p>
                </div>
            </div>
        </section>

        <!-- 6. The Alchemist (Salt/Podcast) -->
        <section class="section" id="alchemist">
             <div class="scattered-images">
                <!-- Group 5: Ocean/Final - Split Sides Layout -->

                <!-- Left Side -->
                <img src="/assets/img/guild/uli/gallery_16.webp" class="scatter-img" style="top: 5%; left: 2%; transform: rotate(3deg); width: 160px;">
                <img src="/assets/img/guild/uli/gallery_19.webp" class="scatter-img" style="bottom: 15%; left: 5%; transform: rotate(-5deg); width: 150px;">

                <!-- Right Side -->
                <img src="/assets/img/guild/uli/gallery_14.webp" class="scatter-img" style="top: 20%; right: 5%; transform: rotate(8deg); width: 220px; opacity: 0.8;">
                <img src="/assets/img/guild/uli/gallery_15.webp" class="scatter-img" style="bottom: 5%; right: 2%; transform: rotate(-8deg); width: 220px; opacity: 0.8;">
            </div>
            <div class="container">
                <div class="text-panel">
                    <h2 class="section-title">鍊金與深潛</h2>
                    <p>生活的面向不只有一種。我透過 Podcast 分享溝通的點滴，也與力量動物合作製作<span class="highlight">「淨化祝福鹽」</span>，將無形的祝福化為有形的守護。</p>
                    <p>而海洋，是我靈魂的充電站。熱愛潛水的我，在深海的寧靜中，找到了與這個世界最純粹的共振。那份深邃與包容，也成為我探索內在的重要元素。</p>
                </div>
            </div>
        </section>

        <!-- 7. Services -->
        <section class="section" id="services">
            <div class="container">
                <h2 class="section-title" style="text-align: center; width: 100%; border-bottom: none;">服務項目</h2>
                <p style="text-align: center; margin-bottom: 3rem;">理性與感性的交織，為您提供全方位的支持。</p>

                <div class="services-grid">
                    <!-- Service 1 -->
                    <div class="service-card">
                        <div class="service-icon"><i class="fa-solid fa-paw"></i></div>
                        <h3>動物溝通</h3>
                        <ul>
                            <li>在世與離世動物溝通</li>
                            <li>家養與非家養動物皆可</li>
                            <li>協助理解毛孩的真實想法與需求</li>
                        </ul>
                    </div>

                    <!-- Service 2 -->
                    <div class="service-card">
                        <div class="service-icon"><i class="fa-solid fa-chalkboard-user"></i></div>
                        <h3>課程講座</h3>
                        <ul>
                            <li>系統化動物溝通教學</li>
                            <li>結合心理學與生物本能</li>
                            <li>適合「麻瓜」與理性腦的學習路徑</li>
                        </ul>
                    </div>

                    <!-- Service 3 -->
                    <div class="service-card">
                        <div class="service-icon"><i class="fa-solid fa-palette"></i></div>
                        <h3>能量藝術</h3>
                        <ul>
                            <li>生命之花與力量動物圖騰</li>
                            <li>個人專屬能量畫作</li>
                            <li>將祝福轉化為可視的象徵</li>
                        </ul>
                    </div>

                    <!-- Service 4 -->
                    <div class="service-card">
                        <div class="service-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                        <h3>淨化祝福</h3>
                        <ul>
                            <li>力量動物合作祝福鹽</li>
                            <li>空間與氣場淨化</li>
                            <li>Podcast 經驗分享與療癒</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. Finale -->
        <section class="section" id="finale">
             <div class="scattered-images">
                <!-- Final decorative elements -->
                <img src="/assets/img/guild/uli/gallery_17.webp" class="scatter-img" style="top: 10%; left: 10%; width: 150px; opacity: 0.5;">
                <img src="/assets/img/guild/uli/gallery_18.webp" class="scatter-img" style="top: 10%; right: 10%; width: 150px; opacity: 0.5;">
            </div>
            <div class="container">
                <h2 class="hero-title" style="font-size: clamp(3rem, 8vw, 6rem);">連結彼此</h2>
                <p>讓我們一起探索那些肉眼不可見，卻真實存在的連結。</p>
                <div class="social-links">
                    <a href="https://www.threads.com/@uliseanala.talk.to.animal" target="_blank" class="social-btn" aria-label="Threads">
                        <!-- Threads Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M6.321 6.016c-.27-.18-1.166-.802-1.166-.802.756-1.081 1.753-1.502 3.132-1.502.975 0 1.803.327 2.394.948s.928 1.509 1.005 2.644q.492.207.905.484c1.109.745 1.719 1.86 1.719 3.137 0 2.716-2.226 5.075-6.256 5.075C4.594 16 1 13.987 1 7.994 1 2.034 4.482 0 8.044 0 9.69 0 13.55.243 15 5.036l-1.36.353C12.516 1.974 10.163 1.43 8.006 1.43c-3.565 0-5.582 2.171-5.582 6.79 0 4.143 2.254 6.343 5.63 6.343 2.777 0 4.847-1.443 4.847-3.556 0-1.438-1.208-2.127-1.27-2.127-.236 1.234-.868 3.31-3.644 3.31-1.618 0-3.013-1.118-3.013-2.582 0-2.09 1.984-2.847 3.55-2.847.586 0 1.294.04 1.663.114 0-.637-.54-1.728-1.9-1.728-1.25 0-1.566.405-1.967.868ZM8.716 8.19c-2.04 0-2.304.87-2.304 1.416 0 .878 1.043 1.168 1.6 1.168 1.02 0 2.067-.282 2.232-2.423a6.2 6.2 0 0 0-1.528-.161"/>
                        </svg>
                    </a>
                    <a href="https://www.instagram.com/uliseanala.talk.to.animal/" target="_blank" class="social-btn" aria-label="Instagram">
                        <!-- Instagram Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>
                        </svg>
                    </a>
                </div>
            </div>
            <footer class="footer">
                <a href="/guild/" style="text-decoration: none; color: inherit;">Made with love by SuperGalen's Dungeon</a>
            </footer>
        </section>

    </div>

    <script>
        // Lightbox Logic
        const lightbox = document.getElementById('lightbox');
        const lbImg = lightbox.querySelector('img');
        const closeBtn = lightbox.querySelector('.lightbox-close-btn');

        function openLightbox(src) {
            lbImg.src = src;
            lightbox.classList.add('visible');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        function closeLightbox() {
            lightbox.classList.remove('visible');
            document.body.style.overflow = '';
        }

        // Attach to all scatter images AND the avatar explicitly if needed
        document.querySelectorAll('.scatter-img, .avatar-img').forEach(img => {
            img.addEventListener('click', (e) => {
                e.stopPropagation();
                openLightbox(e.target.src);
            });
        });

        closeBtn.addEventListener('click', closeLightbox);

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.classList.contains('visible')) {
                closeLightbox();
            }
        });

        // --- GSAP Content Animations ---
        gsap.registerPlugin(ScrollTrigger);

        // 1. Text Panels (Slide Up)
        gsap.utils.toArray('.text-panel').forEach((panel, i) => {
            gsap.fromTo(panel,
                { opacity: 0, y: 100 },
                {
                    opacity: 1,
                    y: 0,
                    ease: "power2.out",
                    scrollTrigger: {
                        trigger: panel,
                        start: "top 85%",
                        end: "top 50%",
                        scrub: 1,
                    }
                }
            );
        });

        // 2. Scattered Images (Parallax & Float)
        const scatterImages = gsap.utils.toArray('.scatter-img');

        // Mobile/Desktop Split Logic
        let mm = gsap.matchMedia();

        mm.add("(min-width: 769px)", () => {
            // Desktop: Parallax Effect
            scatterImages.forEach((img) => {
                const speed = 0.5 + Math.random() * 0.5;
                gsap.to(img, {
                    y: -100 * speed,
                    rotation: Math.random() * 10 - 5,
                    scrollTrigger: {
                        trigger: img.closest('.section'),
                        start: "top bottom",
                        end: "bottom top",
                        scrub: 1
                    }
                });
            });
        });

        // Entrance works for all (Outside matchMedia to avoid duplication or state loss)
        scatterImages.forEach((img) => {
            gsap.from(img, {
                opacity: 0,
                scale: 0.8,
                duration: 1,
                scrollTrigger: {
                    trigger: img,
                    start: "top 95%",
                }
            });
        });

        // Theme switching (Light -> Dark)
        ScrollTrigger.create({
            trigger: "#alchemist",
            start: "top 60%", // Earlier trigger
            onEnter: () => document.body.classList.add('dark-mode'),
            onLeaveBack: () => document.body.classList.remove('dark-mode')
        });

        // --- Intro Logic ---
        const introOverlay = document.getElementById('intro-overlay');
        const introTitle = document.getElementById('intro-title');
        const introHint = document.getElementById('intro-hint');
        let isIntro = true;

        // Intro Animation
        gsap.to(introTitle, { opacity: 1, y: 0, duration: 1.5, ease: "power2.out", delay: 0.5 });
        gsap.to(introHint, { opacity: 0.8, y: 0, duration: 1.5, ease: "power2.out", delay: 1, repeat: -1, yoyo: true });

        // Enter Site
        introOverlay.addEventListener('click', () => {
            isIntro = false;
            gsap.to(introOverlay, { opacity: 0, duration: 1, pointerEvents: 'none', onComplete: () => {
                introOverlay.style.display = 'none';
            }});

            // Allow scroll
            document.body.style.overflow = 'auto';

            // Transition p5 background to Hero scene
            fadeToScene('hero');

            // Trigger Hero animations manually if needed, or let ScrollTrigger handle it
            gsap.from(".hero-title", { opacity: 0, y: 50, duration: 1.5, ease: "power2.out" });
        });

        // Lock scroll initially
        document.body.style.overflow = 'hidden';

        // --- p5.js Background Visuals (Smooth Transitions) ---

        // Scene Alpha States (0 to 1)
        const sceneWeights = {
            intro: 1,
            hero: 0, // Start hidden, fade in after intro
            logic: 0,
            awakening: 0,
            bridge: 0,
            artist: 0,
            alchemist: 0,
            services: 0
        };

        // Create scroll triggers to crossfade scene weights
        const sections = ['hero', 'logic', 'awakening', 'bridge', 'artist', 'alchemist', 'services'];

        sections.forEach((id, index) => {
            ScrollTrigger.create({
                trigger: `#${id}`,
                start: "top 50%",
                end: "bottom 50%",
                onEnter: () => {
                    if (!isIntro) fadeToScene(id);
                },
                onEnterBack: () => {
                    if (!isIntro) fadeToScene(id);
                }
            });
        });

        function fadeToScene(targetId) {
            if (isIntro) return; // Block scene changes during intro

            // Tween all weights to 0 except target to 1
            const targetValues = { intro: 0 };
            sections.forEach(s => targetValues[s] = (s === targetId ? 1 : 0));

            gsap.to(sceneWeights, {
                ...targetValues,
                duration: 1.5, // Slow, smooth blend
                ease: "power1.inOut"
            });
        }

        const s = (p) => {
            let canvas;
            let agents = [];
            let mandalaAngle = 0;
            const numAgents = 60;

            p.setup = () => {
                canvas = p.createCanvas(p.windowWidth, p.windowHeight);
                canvas.parent('p5-container');
                p.noFill();

                // Initialize particles
                for(let i=0; i<numAgents; i++) {
                    agents.push({
                        pos: p.createVector(p.random(p.width), p.random(p.height)),
                        vel: p.createVector(p.random(-0.5, 0.5), p.random(-0.5, 0.5)),
                        size: p.random(2, 6),
                        phase: p.random(p.TWO_PI)
                    });
                }
            };

            p.draw = () => {
                p.clear(); // Transparent background

                if (sceneWeights.intro > 0.01) {
                    p.push();
                    drawIntro(p, sceneWeights.intro);
                    p.pop();
                }

                // Interaction: Transition from Intro to Hero on click (handled by DOM click, but p5 needs to react)
                if (!isIntro && sceneWeights.intro > 0) {
                    // Manual fade out of intro managed by GSAP above?
                    // Actually we need to tween sceneWeights here if not scroll triggered yet
                    // The click handler should ideally trigger this.
                    // Let's add a watcher or just let the draw loop handle weights.
                    // For now, we rely on `fadeToScene('hero')` being called on click?
                    // Let's update the click handler to call fadeToScene.
                }

                if (sceneWeights.hero > 0.01) {
                    p.push();
                    drawHero(p, sceneWeights.hero);
                    p.pop();
                }

                if (sceneWeights.logic > 0.01) {
                    p.push();
                    drawLogic(p, sceneWeights.logic);
                    p.pop();
                }

                if (sceneWeights.awakening > 0.01) {
                    p.push();
                    drawAwakening(p, sceneWeights.awakening);
                    p.pop();
                }

                if (sceneWeights.bridge > 0.01) {
                    p.push();
                    drawBridge(p, sceneWeights.bridge);
                    p.pop();
                }

                if (sceneWeights.artist > 0.01) {
                    p.push();
                    drawMandala(p, sceneWeights.artist);
                    p.pop();
                }

                if (sceneWeights.alchemist > 0.01) {
                    p.push();
                    drawDeepOcean(p, sceneWeights.alchemist);
                    p.pop();
                }

                if (sceneWeights.services > 0.01) {
                    p.push();
                    drawServices(p, sceneWeights.services);
                    p.pop();
                }
            };

            p.windowResized = () => {
                p.resizeCanvas(p.windowWidth, p.windowHeight);
            };

            // --- Scene Functions (accept alpha) ---

            function drawIntro(p, alpha) {
                p.translate(p.width/2, p.height/2);

                // Soul Seed / Pulse
                let t = p.frameCount * 0.05;
                let size = 20 + p.sin(t) * 5;

                p.noStroke();
                // Glow
                for(let i=0; i<5; i++) {
                    p.fill(52, 152, 219, alpha * (50 - i*10));
                    p.circle(0, 0, size + i*20);
                }

                // Core
                p.fill(255, 255, 255, alpha * 255);
                p.circle(0, 0, size);

                // Mouse interaction trails
                let mouseDist = p.dist(p.mouseX - p.width/2, p.mouseY - p.height/2, 0, 0);
                if (mouseDist < 200) {
                    p.stroke(241, 196, 15, alpha * 100);
                    p.strokeWeight(1);
                    p.line(0, 0, p.mouseX - p.width/2, p.mouseY - p.height/2);
                }
            }

            function drawHero(p, alpha) {
                // Subtle flow
                p.strokeWeight(1.5);
                p.noFill();
                let t = p.frameCount * 0.005;

                let aVal = alpha * 255;

                p.stroke(52, 152, 219, aVal * 0.4);
                p.beginShape();
                for (let x = 0; x < p.width; x += 10) {
                    let n = p.noise(x * 0.002, t);
                    let y = p.height * 0.5 + p.map(n, 0, 1, -200, 200);
                    p.vertex(x, y);
                }
                p.endShape();

                // Particles
                drawParticles(p, alpha * 50);
            }

            function drawLogic(p, alpha) {
                p.strokeWeight(1);
                p.stroke(44, 62, 80, alpha * 40);
                let spacing = 60;

                // Floating Grid
                for (let x = 0; x < p.width; x += spacing) {
                    p.line(x, 0, x, p.height);
                }
                for (let y = 0; y < p.height; y += spacing) {
                    p.line(0, y, p.width, y);
                }

                // Active Cells
                p.noStroke();
                p.fill(52, 152, 219, alpha * 30);
                let count = 6;
                for(let i=0; i<count; i++) {
                     let rx = Math.floor(p.noise(i, p.frameCount*0.01) * p.width / spacing) * spacing;
                     let ry = Math.floor(p.noise(i+100, p.frameCount*0.01) * p.height / spacing) * spacing;
                     p.rect(rx, ry, spacing, spacing);
                }
            }

            function drawAwakening(p, alpha) {
                p.translate(p.width/2, p.height/2);
                let t = p.frameCount * 0.02;
                p.noFill();
                p.strokeWeight(1.5);

                for(let i=0; i<8; i++) {
                    p.stroke(231, 76, 60, alpha * (150 - i*15));
                    let r = (t * 50 + i * 50) % (p.width * 0.6);
                    p.circle(0, 0, r);
                }
            }

            function drawBridge(p, alpha) {
                p.strokeWeight(1);
                for(let i=0; i<15; i++) {
                    let y = p.map(i, 0, 15, p.height*0.2, p.height*0.8);
                    p.beginShape();
                    p.stroke(52, 152, 219, alpha * (60 + i*5));
                    p.noFill();
                    for(let x=0; x < p.width; x+=20) {
                        let blend = p.map(x, 0, p.width, 0, 1);
                        let wave = p.sin(x*0.05 + p.frameCount*0.05 + i) * 30 * blend;
                        p.vertex(x, y + wave);
                    }
                    p.endShape();
                }
            }

            function drawMandala(p, alpha) {
                p.translate(p.width/2, p.height/2);
                mandalaAngle += 0.002;
                p.rotate(mandalaAngle);

                let scale = 1 + p.sin(p.frameCount * 0.02) * 0.05;
                p.scale(scale);

                // Layer 1
                p.stroke(52, 152, 219, alpha * 180);
                p.strokeWeight(2);
                p.noFill();
                let petals = 8;
                for (let i = 0; i < petals; i++) {
                    p.push();
                    p.rotate(i * p.TWO_PI / petals);
                    p.beginShape();
                    p.vertex(0, 0);
                    p.bezierVertex(30, -30, 80, -30, 120, 0);
                    p.bezierVertex(80, 30, 30, 30, 0, 0);
                    p.endShape();
                    p.pop();
                }

                // Layer 2
                p.stroke(180, 130, 50, alpha * 150);
                p.strokeWeight(1.5);
                for (let i = 0; i < petals; i++) {
                    p.push();
                    p.rotate((i + 0.5) * p.TWO_PI / petals);
                    p.beginShape();
                    p.vertex(50, 0);
                    p.quadraticVertex(100, -40, 180, 0);
                    p.quadraticVertex(100, 40, 50, 0);
                    p.endShape();
                    p.pop();
                }

                // Layer 3 (Coral Dots)
                p.fill(231, 76, 60, alpha * 200);
                p.noStroke();
                for (let i = 0; i < petals; i++) {
                    p.push();
                    p.rotate(i * p.TWO_PI / petals);
                    p.translate(140, 0);
                    p.circle(0, 0, 10);
                    p.pop();
                }
            }

            function drawDeepOcean(p, alpha) {
                // Particles with trails/glow
                p.noStroke();
                agents.forEach(a => {
                    // Update physics only if this scene is active to save calc?
                    // No, update always for continuity, draw based on alpha
                    a.pos.y -= 1;
                    if(a.pos.y < 0) {
                        a.pos.y = p.height;
                        a.pos.x = p.random(p.width);
                    }

                    p.fill(26, 188, 156, alpha * 100);
                    p.circle(a.pos.x, a.pos.y, a.size * 2);

                    p.fill(255, 255, 255, alpha * 200);
                    p.circle(a.pos.x, a.pos.y, a.size);
                });

                // Flow lines
                p.noFill();
                p.strokeWeight(2);
                p.stroke(255, 255, 255, alpha * 30);
                let t = p.frameCount * 0.01;
                for(let i=0; i<5; i++) {
                    p.beginShape();
                    for(let x=0; x<=p.width; x+=50) {
                        let y = p.height - (i * 100) + p.sin(x*0.01 + t + i)*50;
                        p.vertex(x, y);
                    }
                    p.endShape();
                }
            }

            function drawServices(p, alpha) {
                // Geometric Web / Interconnection
                p.translate(p.width/2, p.height/2);
                p.strokeWeight(1);
                p.noFill();

                let t = p.frameCount * 0.005;
                let radius = Math.min(p.width, p.height) * 0.4;

                // Rotating Hexagon/Flower Structure
                p.rotate(t);

                // Draw 3 layers
                for(let j=0; j<3; j++) {
                    let r = radius * (0.5 + j*0.25);
                    let points = 6;

                    p.stroke(52, 152, 219, alpha * (100 - j*20)); // Blue fade
                    p.beginShape();
                    for(let i=0; i<points; i++) {
                        let angle = p.TWO_PI / points * i;
                        let x = p.cos(angle) * r;
                        let y = p.sin(angle) * r;
                        p.vertex(x, y);

                        // Internal connections
                        if (j === 1) {
                            p.stroke(241, 196, 15, alpha * 50); // Gold trace
                            p.line(0, 0, x, y);
                        }
                    }
                    p.endShape(p.CLOSE);
                }

                // Reset matrix for other functions if they don't push/pop correctly (they do, but safe practice)
                p.rotate(-t);
                p.translate(-p.width/2, -p.height/2);
            }

            function drawParticles(p, alpha) {
                p.fill(44, 62, 80, alpha);
                p.noStroke();
                agents.forEach(a => {
                    let x = a.pos.x + p.sin(p.frameCount*0.05 + a.phase)*10;
                    let y = a.pos.y + p.cos(p.frameCount*0.05 + a.phase)*10;
                    p.circle(x, y, a.size);
                });
            }
        };

        const myp5 = new p5(s);

    </script>
</body>
</html>