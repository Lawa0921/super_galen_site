<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIC NAIL - é‚è¼¯ç¾ç”²èˆ‡ç§‘æŠ€é›œå­¸</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700;900&family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --bg-color: #02020a;
            --accent-cyan: #00f3ff;
            --accent-gold: #ffd700;
            --accent-magenta: #ff0055;
            --text-main: #e0e0e0;
            --glass-bg: rgba(2, 2, 10, 0.85);
            --border-color: rgba(0, 243, 255, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Noto Sans TC', sans-serif;
            overflow-x: hidden;
            overflow-y: hidden; /* Locked initially */
        }

        /* --- 3D Background --- */
        #canvas-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0;
            pointer-events: all; /* Allow raycasting */
        }

        /* --- UI Overlay --- */
        #ui-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        /* --- Navigation --- */
        .nav-return {
            position: fixed; top: 2rem; left: 2rem;
            color: var(--accent-cyan); text-decoration: none;
            font-family: 'Orbitron', sans-serif; font-size: 0.9rem; letter-spacing: 2px;
            pointer-events: auto;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border: 1px solid var(--accent-cyan);
            backdrop-filter: blur(5px);
            transition: 0.3s;
            text-transform: uppercase;
            clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
        }
        .nav-return:hover {
            background: var(--accent-cyan); color: #000;
            box-shadow: 0 0 15px var(--accent-cyan);
        }

        /* --- Sections (Scroll Driven) --- */
        .scroll-spacer { height: 600vh; } /* Defines scroll length */

        .content-section {
            position: absolute;
            width: 100%; height: 100vh;
            display: flex; flex-direction: column; justify-content: center;
            padding: 0 10vw;
            opacity: 0; pointer-events: none;
            transition: opacity 0.5s;
        }
        .content-section.active { opacity: 1; pointer-events: auto; }

        .section-right { align-items: flex-end; text-align: right; }
        .section-left { align-items: flex-start; text-align: left; }
        .section-center { align-items: center; text-align: center; }

        /* Typography */
        h1, h2 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            margin-bottom: 1rem;
            line-height: 1.1;
        }
        h1 { font-size: 4rem; color: var(--accent-gold); text-shadow: 0 0 20px rgba(255, 215, 0, 0.3); }
        h2 { font-size: 2.5rem; color: var(--accent-cyan); }

        .subtitle {
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.2rem; color: var(--accent-magenta);
            margin-bottom: 2rem; letter-spacing: 2px;
        }

        .text-block {
            max-width: 600px;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-left: 3px solid var(--accent-cyan);
            padding: 2rem;
            backdrop-filter: blur(10px);
            font-size: 1.1rem; line-height: 1.8;
            position: relative;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        .text-block::before {
            content: ''; position: absolute; top: -1px; left: -1px; width: 10px; height: 10px;
            border-top: 2px solid var(--accent-cyan); border-left: 2px solid var(--accent-cyan);
        }
        .text-block::after {
            content: ''; position: absolute; bottom: -1px; right: -1px; width: 10px; height: 10px;
            border-bottom: 2px solid var(--accent-cyan); border-right: 2px solid var(--accent-cyan);
        }

        /* --- Specific Elements --- */
        .avatar-container {
            position: relative;
            width: 160px; height: 160px;
            margin-bottom: 2rem;
        }
        .avatar-img {
            width: 100%; height: 100%; border-radius: 50%;
            border: 2px solid var(--accent-cyan);
            object-fit: cover;
            position: relative; z-index: 2;
        }
        .avatar-glow {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 180px; height: 180px; border-radius: 50%;
            border: 1px dashed var(--accent-cyan);
            animation: spin-slow 10s linear infinite;
            z-index: 1;
        }
        @keyframes spin-slow { 100% { transform: translate(-50%, -50%) rotate(360deg); } }

        .skill-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem; margin-top: 2rem; width: 100%; max-width: 800px;
        }
        .skill-tag {
            background: rgba(0, 243, 255, 0.05);
            border: 1px solid var(--border-color);
            color: var(--accent-cyan);
            padding: 15px; text-align: center;
            font-family: 'Share Tech Mono';
            cursor: default; transition: 0.3s;
            position: relative; overflow: hidden;
        }
        .skill-tag::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, transparent, rgba(0, 243, 255, 0.2), transparent);
            transform: translateX(-100%); transition: 0.5s;
        }
        .skill-tag:hover::before { transform: translateX(100%); }
        .skill-tag:hover {
            border-color: var(--accent-gold); color: var(--accent-gold);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
        }

        /* --- Intro Overlay --- */
        #intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #02020a; z-index: 2000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; transition: opacity 1.5s;
        }
        .intro-loader {
            width: 60px; height: 60px; border: 2px solid var(--accent-cyan);
            position: relative; margin-bottom: 20px;
            animation: pulse-border 2s infinite;
        }
        .intro-loader::after {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 40px; height: 40px; background: var(--accent-cyan);
            animation: pulse-inner 2s infinite;
        }
        @keyframes pulse-border { 0% { transform: rotate(0deg); opacity: 0.5; } 50% { opacity: 1; } 100% { transform: rotate(90deg); opacity: 0.5; } }
        @keyframes pulse-inner { 0% { transform: translate(-50%, -50%) scale(0.8); } 50% { transform: translate(-50%, -50%) scale(1); } 100% { transform: translate(-50%, -50%) scale(0.8); } }

        .glitch-text {
            font-family: 'Orbitron'; font-size: 2rem; color: var(--accent-cyan);
            position: relative; letter-spacing: 5px;
        }

        /* --- Footer --- */
        .footer-socials {
            display: flex; gap: 2rem; margin-top: 2rem; pointer-events: auto;
        }
        .social-link {
            width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;
            border: 1px solid var(--accent-cyan); color: var(--accent-cyan);
            font-size: 1.5rem; transition: 0.3s;
            position: relative; overflow: hidden;
        }
        .social-link:hover {
            background: var(--accent-cyan); color: #000;
            box-shadow: 0 0 20px var(--accent-cyan);
        }

        /* --- Tooltip --- */
        #tooltip {
            position: fixed; pointer-events: none;
            background: rgba(2, 2, 10, 0.9); border: 1px solid var(--accent-gold);
            color: var(--accent-gold); padding: 8px 16px;
            font-family: 'Share Tech Mono'; font-size: 0.9rem;
            transform: translate(15px, 15px);
            opacity: 0; transition: opacity 0.2s;
            z-index: 100;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        #tooltip::before {
            content: '['; margin-right: 5px; color: #fff;
        }
        #tooltip::after {
            content: ']'; margin-left: 5px; color: #fff;
        }
    </style>
</head>
<body>

    <!-- Intro -->
    <div id="intro-overlay" onclick="startExperience()">
        <div class="intro-loader"></div>
        <div class="glitch-text">SYSTEM LOADING...</div>
        <div style="margin-top: 1rem; color: #666; font-family: 'Share Tech Mono';">CLICK TO INITIALIZE BLUEPRINT</div>
    </div>

    <!-- 3D Canvas -->
    <div id="canvas-container"></div>

    <!-- UI -->
    <div id="ui-layer">
        <a href="/guild/" class="nav-return">Return to Guild</a>
        <div id="tooltip"></div>

        <!-- Section 1: Hero -->
        <div class="content-section section-left active" id="sec-1">
            <div class="avatar-container">
                <div class="avatar-glow"></div>
                <img src="/assets/img/guild/vic/avatar.webp" class="avatar-img" alt="VIC NAIL Avatar">
            </div>
            <h1>VIC NAIL</h1>
            <div class="subtitle">LOGIC // ARCHITECT // MAKER</div>
            <div class="text-block">
                <p>æˆ‘æ˜¯æ±æ±è€å¸«ã€‚<br>åœ¨ 0 èˆ‡ 1 çš„é‚è¼¯ä¸–ç•Œä¸­ï¼Œæ§‹å»ºæŒ‡å°–çš„è—åœ–ã€‚</p>
            </div>
        </div>

        <!-- Section 2: Philosophy -->
        <div class="content-section section-right" id="sec-2">
            <h2>THE BLUEPRINT</h2>
            <div class="subtitle">KNOW THE STRUCTURE</div>
            <div class="text-block">
                <p>ã€ŒçŸ¥å…¶ç„¶ï¼Œæ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚ã€</p>
                <p>å¦‚åŒå»ºç¯‰è—åœ–ï¼Œæˆ‘æ‹’çµ•æ­»è¨˜ç¡¬èƒŒï¼Œå°‡è¤‡é›œçš„æŠ€è¡“æ‹†è§£ç‚ºã€Œé‚è¼¯å®Œå–„ã€çš„ç³»çµ±ã€‚</p>
                <p>çœ‹é€çµæ§‹ï¼ŒæŠ€è¡“å°±æ˜¯ä½ çš„ç©æœ¨ã€‚</p>
            </div>
        </div>

        <!-- Section 3: Skills -->
        <div class="content-section section-center" id="sec-3">
            <h2>THE WORKSHOP</h2>
            <div class="subtitle">TOOLS OF THE TRADE</div>
            <div class="text-block" style="text-align: left;">
                <p>è„«ä¸‹è¬›å¸«è¢ï¼Œæˆ‘æ˜¯ç”¨ç”Ÿå‘½åœ¨çµ„è£ç”Ÿæ´»çš„ Makerã€‚<br>å±¥æ­·è¡¨å°±æ˜¯æˆ‘çš„å·¥å…·ç®±ã€‚</p>
            </div>
            <div class="skill-grid">
                <div class="skill-tag">PRESTO INSTRUCTOR</div>
                <div class="skill-tag">UBER DRIVER</div>
                <div class="skill-tag">CONSTRUCTION</div>
                <div class="skill-tag">DIY / MAKER</div>
                <div class="skill-tag">COOKING</div>
                <div class="skill-tag">VIDEO EDITING</div>
            </div>
        </div>

        <!-- Section 4: Status -->
        <div class="content-section section-left" id="sec-4">
            <h2>CURRENT STATUS</h2>
            <div class="subtitle">CATS & CODE</div>
            <div class="text-block">
                <p>å®¶æœ‰å…©éš»è²“ä¸»å­ ğŸˆã€‚</p>
                <p>æ­£æ²‰è¿·æ–¼ N8N è‡ªå‹•åŒ–ï¼ŒåŠªåŠ›æ‰®æ¼”ç§‘æŠ€æ¥­çš„ã€Œæ…£è€é—†ã€ï¼ŒæŒ‡ä½¿ AI å¹«æˆ‘å¯«ç¨‹å¼ã€‚</p>
            </div>
        </div>

        <!-- Section 5: Footer -->
        <div class="content-section section-center" id="sec-5">
            <h1>CONNECT</h1>
            <div class="subtitle">LET'S BUILD SOMETHING COOL</div>
            <div class="footer-socials">
                <a href="https://www.threads.com/@dwng1274" target="_blank" class="social-link"><i class="fa-brands fa-threads"></i></a>
                <a href="https://www.facebook.com/VicNailArt" target="_blank" class="social-link"><i class="fa-brands fa-facebook"></i></a>
                <a href="https://www.instagram.com/dwng1274/" target="_blank" class="social-link"><i class="fa-brands fa-instagram"></i></a>
            </div>
            <div style="margin-top: 2rem; font-size: 0.8rem; color: #666;">MADE WITH <i class="fa-solid fa-heart" style="color: var(--accent-magenta);"></i> BY SUPERGALEN'S DUNGEON</div>
        </div>
    </div>

    <!-- Scroll Spacer -->
    <div class="scroll-spacer"></div>

    <!-- Scripts -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';
        import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
        import { OutputPass } from 'three/addons/postprocessing/OutputPass.js';

        // --- Configuration ---
        const ASSETS = {
            avatar: '/assets/img/guild/vic/avatar.webp',
            gallery: [
                '/assets/img/guild/vic/gallery_01.webp',
                '/assets/img/guild/vic/gallery_02.webp',
                '/assets/img/guild/vic/gallery_03.webp',
                '/assets/img/guild/vic/gallery_04.webp',
                '/assets/img/guild/vic/gallery_05.webp',
                '/assets/img/guild/vic/gallery_06.webp',
                '/assets/img/guild/vic/gallery_07.webp'
            ]
        };

        // --- Scene Setup ---
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x02020a, 0.02);

        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.set(0, 0, 20);

        const renderer = new THREE.WebGLRenderer({ antialias: false, alpha: false });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.toneMapping = THREE.ReinhardToneMapping;
        container.appendChild(renderer.domElement);

        // --- Post Processing (Bloom) ---
        const composer = new EffectComposer(renderer);
        const renderPass = new RenderPass(scene, camera);
        composer.addPass(renderPass);

        const bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
        bloomPass.threshold = 0;
        bloomPass.strength = 1.0;
        bloomPass.radius = 0.5;
        composer.addPass(bloomPass);

        const outputPass = new OutputPass();
        composer.addPass(outputPass);

        // --- Lighting ---
        const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
        scene.add(ambientLight);

        const blueLight = new THREE.PointLight(0x00f3ff, 2, 20);
        blueLight.position.set(-5, 5, 5);
        scene.add(blueLight);

        const goldLight = new THREE.PointLight(0xffd700, 2, 20);
        goldLight.position.set(5, -5, 5);
        scene.add(goldLight);

        // --- Objects (The Construct) ---
        const clickableObjects = [];
        const mainGroup = new THREE.Group();
        scene.add(mainGroup);

        // Helper: Create "Blueprint" Mesh (Wireframe + Transparent Fill)
        function createBlueprintMesh(geometry, color, opacity = 0.1) {
            const material = new THREE.MeshBasicMaterial({
                color: color,
                transparent: true,
                opacity: opacity,
                side: THREE.DoubleSide
            });
            const mesh = new THREE.Mesh(geometry, material);

            const edges = new THREE.EdgesGeometry(geometry);
            const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: color, opacity: 0.8, transparent: true }));
            mesh.add(line);

            return mesh;
        }

        // 1. The Polish (Central Totem)
        const polishGroup = new THREE.Group();
        mainGroup.add(polishGroup);

        const bottleGeo = new THREE.CylinderGeometry(2, 2, 6, 16);
        const bottle = createBlueprintMesh(bottleGeo, 0x00f3ff, 0.1);
        polishGroup.add(bottle);
        bottle.userData = { label: "18 YEARS EXPERT", originalScale: 1 };
        clickableObjects.push(bottle);

        const capGeo = new THREE.CylinderGeometry(1.5, 1.5, 3, 16);
        const cap = createBlueprintMesh(capGeo, 0xffffff, 0.2);
        cap.position.y = 4.5;
        polishGroup.add(cap);

        // 2. The Drill (Construction)
        const drillGroup = new THREE.Group();
        drillGroup.position.set(-8, 2, 0);
        mainGroup.add(drillGroup);

        const drillBodyGeo = new THREE.BoxGeometry(3, 2, 1);
        const drillBody = createBlueprintMesh(drillBodyGeo, 0xffd700, 0.2);

        const drillHandleGeo = new THREE.BoxGeometry(1, 2, 1);
        const drillHandle = createBlueprintMesh(drillHandleGeo, 0xffd700, 0.2);
        drillHandle.position.set(0, -2, 0);

        const drillBitGeo = new THREE.CylinderGeometry(0.2, 0.2, 2, 8);
        drillBitGeo.rotateZ(Math.PI / 2);
        const drillBit = createBlueprintMesh(drillBitGeo, 0xff0055, 0.8);
        drillBit.position.set(2.5, 0, 0);

        drillGroup.add(drillBody, drillHandle, drillBit);
        drillBody.userData = { label: "RENOVATION & DIY", originalScale: 1 };
        clickableObjects.push(drillBody);

        // 3. The Tech (N8N Nodes) & Gallery
        const techGroup = new THREE.Group();
        techGroup.position.set(8, -2, 2);
        mainGroup.add(techGroup);

        const planeGeo = new THREE.PlaneGeometry(4, 3);
        const textureLoader = new THREE.TextureLoader();

        ASSETS.gallery.forEach((url, i) => {
            const plane = createBlueprintMesh(planeGeo, 0x00f3ff, 0.1);

            // Scatter them in a ring
            const angle = (i / ASSETS.gallery.length) * Math.PI * 2;
            const radius = 4;
            plane.position.set(Math.cos(angle) * radius, (i % 2 === 0 ? 1.5 : -1.5), Math.sin(angle) * radius);
            plane.lookAt(0, 0, 0); // Face inward
            plane.rotateY(Math.PI); // Face outward

            textureLoader.load(url, (tex) => {
                plane.material.map = tex;
                plane.material.opacity = 0.8;
                plane.material.needsUpdate = true;
            });

            plane.userData = { label: i === 0 ? "N8N AUTOMATION" : "PROJECT 0" + (i + 1), originalScale: 1 };
            techGroup.add(plane);
            clickableObjects.push(plane);
        });

        // 4. The Cats (Voxel Style)
        const catGroup = new THREE.Group();
        catGroup.position.set(0, -6, 4);
        mainGroup.add(catGroup);

        function createVoxelCat(color) {
            const cat = new THREE.Group();
            const headGeo = new THREE.BoxGeometry(1.5, 1.2, 1.2);
            const head = createBlueprintMesh(headGeo, color, 0.3);

            const earGeo = new THREE.ConeGeometry(0.3, 0.5, 4);
            const earL = createBlueprintMesh(earGeo, color, 0.8);
            earL.position.set(-0.5, 0.8, 0);
            earL.rotation.y = Math.PI / 4;

            const earR = earL.clone();
            earR.position.set(0.5, 0.8, 0);

            cat.add(head, earL, earR);
            return cat;
        }

        const cat1 = createVoxelCat(0xffffff); // White
        cat1.position.x = -2;
        catGroup.add(cat1);
        cat1.children[0].userData = { label: "CAT LOGIC", originalScale: 1 };
        clickableObjects.push(cat1.children[0]);

        const cat2 = createVoxelCat(0xaaaaaa); // Grey
        cat2.position.x = 2;
        catGroup.add(cat2);


        // --- Interaction ---
        let mouse = new THREE.Vector2();
        let raycaster = new THREE.Raycaster();
        let hoveredObj = null;

        window.addEventListener('mousemove', (e) => {
            mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;

            const tooltip = document.getElementById('tooltip');
            tooltip.style.left = (e.clientX + 15) + 'px';
            tooltip.style.top = (e.clientY + 15) + 'px';
        });

        // --- Animation Loop ---
        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);
            const t = clock.getElapsedTime();

            // Passive Animations
            polishGroup.rotation.y = t * 0.2;
            drillGroup.rotation.z = Math.sin(t) * 0.1;
            drillGroup.position.y = 2 + Math.sin(t * 2) * 0.2;

            techGroup.rotation.y = -0.5 + Math.sin(t * 0.5) * 0.1;

            catGroup.children.forEach((cat, i) => {
                cat.position.y = Math.sin(t * 3 + i) * 0.3;
                cat.rotation.y = Math.sin(t + i) * 0.2;
            });

            // Drill Bit Spin
            drillBit.rotation.y = t * 10;

            // Raycasting
            if (document.body.style.overflow === 'auto') {
                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(clickableObjects);

                // Find first object with a valid label (ignoring wireframes/parts without labels)
                const hit = intersects.find(i => i.object.userData && i.object.userData.label);

                if (hit) {
                    const obj = hit.object;

                    if (hoveredObj !== obj) {
                        if (hoveredObj) gsap.to(hoveredObj.scale, { x: 1, y: 1, z: 1, duration: 0.2 });

                        hoveredObj = obj;
                        document.body.style.cursor = 'pointer';

                        gsap.to(obj.scale, { x: 1.2, y: 1.2, z: 1.2, duration: 0.3, ease: "back.out" });

                        const tooltip = document.getElementById('tooltip');
                        tooltip.innerText = obj.userData.label;
                        tooltip.style.opacity = 1;
                    }
                } else {
                    if (hoveredObj) {
                        gsap.to(hoveredObj.scale, { x: 1, y: 1, z: 1, duration: 0.2 });
                        hoveredObj = null;
                        document.body.style.cursor = 'default';
                        document.getElementById('tooltip').style.opacity = 0;
                    }
                }
            }

            composer.render();
        }
        animate();

        // --- Entry & Scroll Logic ---
        window.startExperience = () => {
            const overlay = document.getElementById('intro-overlay');
            overlay.style.opacity = 0;
            setTimeout(() => {
                overlay.style.display = 'none';
                document.body.style.overflow = 'auto'; // Unlock scroll
                initScroll();
            }, 1000);

            // Initial Camera Move (Zoom out to see Construct)
            gsap.fromTo(camera.position,
                { z: 50, y: 20 },
                { z: 25, y: 0, duration: 2.5, ease: "power2.inOut" }
            );
        };

        function initScroll() {
            gsap.registerPlugin(ScrollTrigger);

            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: ".scroll-spacer",
                    start: "top top",
                    end: "bottom bottom",
                    scrub: 1
                }
            });

            // 1. Philosophy: Assemble / Focus on Polish
            tl.to(camera.position, { z: 15, y: 2, x: 0, duration: 2 })
              .to(drillGroup.position, { x: -4, y: 0, z: 0, duration: 2 }, "<") // Snap in
              .to(techGroup.position, { x: 4, y: 0, z: 0, duration: 2 }, "<")
              .to("#sec-1", { opacity: 0, duration: 0.5 }, 0)
              .to("#sec-2", { opacity: 1, duration: 0.5 }, 0.5);

            // 2. Skills: Explode Out / Orbit
            tl.to(camera.position, { z: 30, y: 10, x: 10, duration: 2 })
              .to(drillGroup.position, { x: -12, y: 5, z: 5, duration: 2 }, "<") // Explode out
              .to(techGroup.position, { x: 12, y: -5, z: -5, duration: 2 }, "<")
              .to("#sec-2", { opacity: 0, duration: 0.5 }, ">-1")
              .to("#sec-3", { opacity: 1, duration: 0.5 }, ">-0.5");

            // 3. Status: Focus on Tech & Cats
            tl.to(camera.position, { x: 0, y: -5, z: 12, duration: 2 })
              .to(catGroup.position, { y: -2, z: 8, duration: 2 }, "<") // Bring cats close
              .to("#sec-3", { opacity: 0, duration: 0.5 }, ">-1")
              .to("#sec-4", { opacity: 1, duration: 0.5 }, ">-0.5");

            // 4. Footer
            tl.to(camera.position, { z: 40, duration: 2 })
              .to("#sec-4", { opacity: 0, duration: 0.5 }, ">-1")
              .to("#sec-5", { opacity: 1, duration: 0.5 }, ">-0.5");
        }

        // --- Resize ---
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            composer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
