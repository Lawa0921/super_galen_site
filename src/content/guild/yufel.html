<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yufel | The Chaotic Weaver</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Noto+Serif+TC:wght@300;500;700;900&family=Zen+Kurenaido&family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

    <!-- Three.js Import Map -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
            }
        }
    </script>

    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --c-bg: #050505;
            --c-text: #e0e0e0;
            --c-dim: #888;
            --c-accent: #ff0055; /* Glitch Red */
            --c-accent2: #00ccff; /* Cyber Blue */
            --c-gold: #ffaa00; /* Yarn Gold */
            --c-hud-bg: rgba(10, 15, 20, 0.65);
            --c-hud-border: rgba(0, 204, 255, 0.3);

            --f-mono: 'Courier Prime', monospace;
            --f-serif: 'Noto Serif TC', serif;
            --f-display: 'Orbitron', sans-serif;
            --f-hand: 'Zen Kurenaido', sans-serif;
        }

        body {
            margin: 0;
            overflow-x: hidden;
            background-color: var(--c-bg);
            color: var(--c-text);
            font-family: var(--f-serif);
        }

        /* --- LAYOUT & CANVAS --- */
        #canvas-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100vh;
            z-index: 0;
            pointer-events: none; /* Let clicks pass through if needed */
        }

        .scrolly-container {
            position: relative;
            z-index: 10;
        }

        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center; /* Centered by default */
            padding: 2rem;
            box-sizing: border-box;
            position: relative;
        }

        /* Alternating Layouts */
        section.align-left { justify-content: flex-start; padding-left: 10%; }
        section.align-right { justify-content: flex-end; padding-right: 10%; }

        /* --- NAVIGATION --- */
        .nav-back {
            position: fixed; top: 2rem; left: 2rem; z-index: 100;
            font-family: var(--f-display);
            font-size: 0.8rem; letter-spacing: 2px;
            color: var(--c-accent2); text-decoration: none;
            padding: 0.5rem 1rem;
            background: rgba(0,0,0,0.8);
            border: 1px solid var(--c-accent2);
            clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
            transition: 0.3s;
        }
        .nav-back:hover {
            background: var(--c-accent2); color: #000;
            box-shadow: 0 0 15px var(--c-accent2);
        }

        /* --- HUD CARDS (Professional Design) --- */
        .hud-card {
            background: var(--c-hud-bg);
            backdrop-filter: blur(8px);
            border: 1px solid var(--c-hud-border);
            padding: 3rem;
            max-width: 600px;
            width: 100%;
            position: relative;
            /* Cyberpunk Corners */
            clip-path: polygon(
                20px 0, 100% 0,
                100% calc(100% - 20px), calc(100% - 20px) 100%,
                0 100%, 0 20px
            );
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* Decorative HUD Elements */
        .hud-card::before {
            content: ''; position: absolute; top: 0; left: 20px; width: 100px; height: 2px; background: var(--c-accent2);
        }
        .hud-card::after {
            content: 'SYS.LOG'; position: absolute; bottom: 5px; right: 25px;
            font-family: var(--f-display); font-size: 0.6rem; color: var(--c-dim); letter-spacing: 2px;
        }

        .hud-header {
            display: flex; align-items: baseline; justify-content: space-between;
            margin-bottom: 2rem; border-bottom: 1px dashed var(--c-dim); padding-bottom: 0.5rem;
        }

        h2 {
            font-family: var(--f-display);
            color: var(--c-text);
            font-size: 1.8rem; margin: 0; text-transform: uppercase; letter-spacing: 2px;
        }

        .sys-id { font-family: var(--f-mono); color: var(--c-accent); font-size: 0.9rem; }

        p {
            font-size: 1.1rem; line-height: 1.8; margin-bottom: 1.5rem; color: #ddd;
            text-align: justify;
        }

        .highlight-code { color: var(--c-accent2); font-family: var(--f-mono); background: rgba(0,204,255,0.1); padding: 0 4px; }
        .highlight-yarn { color: var(--c-gold); font-weight: bold; }

        /* --- HERO SECTION --- */
        #hero { min-height: 100vh; text-align: center; display: flex; flex-direction: column; }

        .profile-container {
            position: relative; width: 220px; height: 220px; margin: 0 auto 2rem;
        }
        .profile-img {
            width: 100%; height: 100%; border-radius: 50%; object-fit: cover;
            border: 2px solid var(--c-text); filter: grayscale(20%) contrast(1.2);
            z-index: 2; position: relative;
        }
        .profile-ring {
            position: absolute; top: -10%; left: -10%; width: 120%; height: 120%;
            border: 2px dashed var(--c-accent2); border-radius: 50%;
            animation: spin 20s linear infinite; z-index: 1; opacity: 0.6;
        }
        .profile-ring:nth-child(2) {
            width: 140%; height: 140%; top: -20%; left: -20%;
            border-color: var(--c-accent); animation-direction: reverse; animation-duration: 30s;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        .glitch-text {
            font-family: var(--f-display); font-size: 4rem; font-weight: 900;
            color: var(--c-text); position: relative; display: inline-block;
        }
        /* Simple CSS Glitch/Shake */
        .glitch-text:hover { animation: shake 0.2s infinite; color: var(--c-accent); }
        @keyframes shake { 0% { transform: translate(1px, 1px); } 100% { transform: translate(-1px, -1px); } }

        .sub-glitch {
            font-family: var(--f-mono); color: var(--c-gold); margin-top: 1rem; letter-spacing: 3px; font-size: 1.2rem;
        }

        /* --- STATS & GALLERY --- */
        .stats-row { display: flex; gap: 1rem; margin-top: 2rem; justify-content: space-between; flex-wrap: wrap; }
        .stat-box {
            flex: 1; min-width: 100px; background: rgba(0,0,0,0.3); padding: 1rem; border-left: 2px solid var(--c-dim);
            transition: 0.3s;
        }
        .stat-box:hover { border-left-color: var(--c-gold); background: rgba(255,170,0,0.1); }
        .stat-num { font-family: var(--f-display); font-size: 1.5rem; color: var(--c-text); }
        .stat-label { font-family: var(--f-mono); font-size: 0.8rem; color: var(--c-dim); margin-top: 0.2rem; }

        .gallery-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 2rem;
        }
        .gallery-item {
            aspect-ratio: 1; overflow: hidden; position: relative; border: 1px solid #333;
        }
        .gallery-item img {
            width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .gallery-item:hover img { transform: scale(1.1); }

        /* --- BOTTOM MANIFESTO --- */
        #manifesto {
            text-align: center;
        }
        .manifesto-box {
            max-width: 800px; padding: 4rem 2rem;
            border: 1px solid var(--c-text);
            background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(20,20,20,0.95) 100%);
        }
        .big-quote {
            font-family: var(--f-hand); font-size: 2.5rem; line-height: 1.4; color: var(--c-gold); margin-bottom: 2rem;
        }

        .social-dock {
            display: flex; gap: 2rem; justify-content: center; margin-top: 3rem;
        }
        .social-icon {
            width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--c-text);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem; color: var(--c-text); text-decoration: none;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: #000;
        }
        .social-icon:hover {
            transform: translateY(-5px) scale(1.1);
            background: var(--c-accent); border-color: var(--c-accent); color: #fff;
            box-shadow: 0 10px 20px rgba(255, 0, 85, 0.4);
        }

        /* --- FOOTER --- */
        footer {
            padding: 2rem; text-align: center; font-family: var(--f-mono); font-size: 0.8rem; color: #555;
            position: relative; z-index: 10; background: #000;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .glitch-text { font-size: 2.5rem; }
            section.align-left, section.align-right { justify-content: center; padding: 2rem 1rem; }
            .hud-card { padding: 2rem 1.5rem; clip-path: none; border-radius: 4px; border: 1px solid var(--c-hud-border); }
        }
    </style>
</head>
<body>

    <!-- Back Button -->
    <a href="/guild/" class="nav-back"><i class="fa-solid fa-chevron-left"></i> GUILD_NET</a>

    <!-- 3D Background -->
    <div id="canvas-container"></div>

    <div class="scrolly-container">

        <!-- 1. HERO -->
        <section id="hero">
            <div class="profile-container">
                <div class="profile-ring"></div>
                <div class="profile-ring"></div>
                <img src="/assets/img/guild/yufel/avatar.webp" class="profile-img" alt="Yufel">
            </div>

            <h1 class="glitch-text">STRANGE_CRAZY</h1>
            <div class="sub-glitch">// YUFEL v2.0 // WEAVER // CODER</div>

            <p style="margin-top: 2rem; max-width: 600px; color: #aaa; font-family: var(--f-mono); font-size: 0.9rem;">
                > INITIALIZING CHAOS PROTOCOLS...<br>
                > LOADING SKILL_MATRIX... [COMPLETE]<br>
                > WELCOME TO THE MIND OF A MAD LEARNER.
            </p>
        </section>

        <!-- 2. THE LEARNER (Left) -->
        <section id="learner" class="align-left">
            <div class="hud-card">
                <div class="hud-header">
                    <h2>The Library</h2>
                    <span class="sys-id">DATA_SOURCE: SELF_TAUGHT</span>
                </div>
                <p>
                    <span class="highlight-yarn">「我是一個奇怪的瘋子，喜歡四處學習。」</span>
                </p>
                <p>
                    在這個資訊爆炸的時代，<b>圖書館</b>與 <b>YouTube</b> 是我最忠實的導師。
                    過去七八年間，我像是一台貪婪的掃描機，不分晝夜地吸收知識。
                    沒有傳統學位的框架束縛，我的學習路徑如同我編織的毛線一樣——
                    錯綜複雜，卻在混亂中自成邏輯。
                </p>
                <div class="stats-row">
                    <div class="stat-box">
                        <div class="stat-num">8+</div>
                        <div class="stat-label">YEARS_EXP</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-num">∞</div>
                        <div class="stat-label">CURIOSITY</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. THE MAKER (Right) -->
        <section id="maker" class="align-right">
            <div class="hud-card">
                <div class="hud-header">
                    <h2>The Fabricator</h2>
                    <span class="sys-id">MODE: CREATIVE</span>
                </div>
                <p>
                    我的雙手是將代碼實體化的印表機。
                    <span class="highlight-yarn">鉤織</span>教會我耐心的演算法，<span class="highlight-yarn">製包</span>則是我對空間幾何的實踐。
                    雖然自謙「不怎麼厲害」，但每一個手作的背包、每一針毛線，都承載著我對生活細節的觀察。
                </p>
                <p>
                    目前也有在背誦日文單字，試圖解鎖新的語言模組。
                    雖然 <span class="highlight-code">Japanese.level < N1</span>，但持續迭代中。
                </p>
                <div class="gallery-grid">
                    <div class="gallery-item"><img src="/assets/img/guild/yufel/work1.webp" alt="Work"></div>
                    <div class="gallery-item"><img src="/assets/img/guild/yufel/work2.webp" alt="Work"></div>
                </div>
            </div>
        </section>

        <!-- 4. THE CODER (Left) -->
        <section id="coder" class="align-left">
            <div class="hud-card">
                <div class="hud-header">
                    <h2>The Architect</h2>
                    <span class="sys-id">LANG: CPP / PYTHON</span>
                </div>
                <p>
                    遊走在邏輯與感性之間，我是代碼的詩人。
                </p>
                <p>
                    學校賦予我 <span class="highlight-code">C++</span> 的基石，我則用 <span class="highlight-code">Python</span> 搭建起通往未來的橋樑。
                    看得懂程式碼，不僅是一種技能，更是一種透視世界運作規律的方式。
                    無論是編織毛線還是編寫迴圈，本質都是將微小的單元組合成宏大的結構。
                </p>
                <div style="margin-top: 1.5rem; padding: 1rem; background: #000; border: 1px solid #333; font-family: var(--f-mono); font-size: 0.8rem; color: var(--c-accent2);">
                    def create_future(skills, passion):<br>
                    &nbsp;&nbsp;while True:<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;try:<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;learn(new_thing)<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;build(something_cool)<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;except Failure:<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue # Never stop<br>
                </div>
            </div>
        </section>

        <!-- 5. MANIFESTO (Bottom) -->
        <section id="manifesto">
            <div class="manifesto-box hud-card" style="max-width: 800px; clip-path: none; border-color: var(--c-text);">
                <div class="hud-header" style="justify-content: center;">
                    <h2>System Status: Rebooting</h2>
                </div>

                <p class="big-quote">
                    "期待獨立。<br>在這瘋狂的世界，<br>尋找屬於我的座標。"
                </p>

                <p>
                    剛離職，目前處於<b>自由求職</b>狀態。
                    我正在尋找一個能讓這個「奇怪的瘋子」發揮所長的地方。
                    如果你需要一個懂程式、會手作、愛學習，且思維不受限的創造者，
                    <span class="highlight-yarn">歡迎連線。</span>
                </p>

                <div class="social-dock">
                    <a href="https://www.threads.net/@tseng.yufel" target="_blank" class="social-icon"><i class="fa-brands fa-threads"></i></a>
                    <a href="https://vocus.cc/user/@fel82" target="_blank" class="social-icon"><i class="fa-solid fa-pen-nib"></i></a>
                    <a href="mailto:contact@example.com" class="social-icon"><i class="fa-solid fa-envelope"></i></a>
                </div>
            </div>
        </section>

        <!-- Spacer -->
        <div style="height: 10vh;"></div>
    </div>

    <footer>
        Made with <i class="fa-solid fa-heart" style="color: var(--c-accent);"></i> by SuperGalen's Dungeon
    </footer>

    <script type="module">
        import * as THREE from 'three';

        // --- 1. SETUP ---
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        // Deep space fog
        scene.fog = new THREE.FogExp2(0x050505, 0.015);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        // Start position: slightly high, ready to dive
        camera.position.set(0, 0, 5);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        container.appendChild(renderer.domElement);

        // --- 2. TUNNEL OF CHAOS (LINES) ---
        const lineGroup = new THREE.Group();
        scene.add(lineGroup);

        const tunnelLength = 120; // How deep the tunnel goes
        const lineCount = 80; // Number of "strands"

        // Helper to create random curve along Z
        function createChaosCurve(zStart, zEnd) {
            const points = [];
            const segments = 10;
            const segmentLen = (zStart - zEnd) / segments;

            for(let i=0; i<=segments; i++) {
                // Spiral/Wiggle logic
                const z = zStart - (i * segmentLen);
                // Radius varies to create "chambers"
                const radius = 5 + Math.random() * 15;
                const angle = i * 0.5 + Math.random();

                points.push(new THREE.Vector3(
                    Math.cos(angle) * radius,
                    Math.sin(angle) * radius,
                    z
                ));
            }
            return new THREE.CatmullRomCurve3(points);
        }

        for (let i = 0; i < lineCount; i++) {
            const zStart = 10;
            const zEnd = -tunnelLength - (Math.random() * 20); // Stagger ends

            const curve = createChaosCurve(zStart, zEnd);
            const tubeGeo = new THREE.TubeGeometry(curve, 64, 0.05 + Math.random()*0.1, 3, false);

            // Neon Colors: Cyber Blue, Glitch Red, Yarn Gold
            const r = Math.random();
            let color = 0x00ccff; // Blue
            if(r > 0.7) color = 0xff0055; // Red
            if(r > 0.9) color = 0xffaa00; // Gold

            const tubeMat = new THREE.MeshBasicMaterial({
                color: color,
                transparent: true,
                opacity: 0.4 + Math.random() * 0.4,
                wireframe: Math.random() > 0.8 // Some wireframe for tech feel
            });

            const mesh = new THREE.Mesh(tubeGeo, tubeMat);
            lineGroup.add(mesh);
        }

        // --- 3. FLOATING DATA BITS (PARTICLES) ---
        // Instead of books, let's use geometric shapes to represent "Packets"
        const particlesGeo = new THREE.BufferGeometry();
        const pCount = 300;
        const pPos = [];
        for(let i=0; i<pCount; i++) {
            pPos.push(
                (Math.random()-0.5) * 40, // x
                (Math.random()-0.5) * 40, // y
                10 - Math.random() * tunnelLength // z (spread along tunnel)
            );
        }
        particlesGeo.setAttribute('position', new THREE.Float32BufferAttribute(pPos, 3));
        const particlesMat = new THREE.PointsMaterial({
            color: 0xffffff,
            size: 0.15,
            transparent: true,
            opacity: 0.8
        });
        const particleSystem = new THREE.Points(particlesGeo, particlesMat);
        scene.add(particleSystem);

        // --- 4. LIGHTING ---
        // Just ambient, since we use BasicMaterial for neon lines
        // But let's add point lights that move with camera for fog illumination if we used StandardMaterial
        // For now, simple is efficient.

        // --- 5. ANIMATION LOOP ---
        function animate() {
            requestAnimationFrame(animate);

            // Rotate tunnel slightly for dizziness/chaos
            lineGroup.rotation.z += 0.0005;
            particleSystem.rotation.z -= 0.0002;

            renderer.render(scene, camera);
        }
        animate();

        // --- 6. SCROLL INTERACTION (GSAP) ---
        gsap.registerPlugin(ScrollTrigger);

        // A. Camera Flight (The "Dive")
        // We map scroll 0 -> 100% to Z position 5 -> -100
        gsap.to(camera.position, {
            z: -tunnelLength + 20, // Stop before the absolute end to avoid clipping
            ease: "none",
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: 0.5 // Smooth scrubbing
            }
        });

        // B. Camera Rotation (Twist)
        gsap.to(camera.rotation, {
            z: Math.PI / 4, // Slight tilt
            ease: "none",
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: 1
            }
        });

        // C. HUD Reveals
        gsap.utils.toArray(".hud-card").forEach(card => {
            gsap.from(card, {
                scrollTrigger: {
                    trigger: card,
                    start: "top 85%",
                    toggleActions: "play none none reverse"
                },
                scale: 0.9,
                opacity: 0,
                filter: "blur(10px)",
                duration: 0.8,
                ease: "power2.out"
            });
        });

        // D. Mouse Parallax (Subtle)
        document.addEventListener('mousemove', (e) => {
            const x = (e.clientX / window.innerWidth - 0.5) * 2; // -1 to 1
            const y = (e.clientY / window.innerHeight - 0.5) * 2;

            gsap.to(camera.position, {
                x: x * 2,
                y: -y * 2,
                duration: 1,
                overwrite: 'auto' // Don't conflict with scroll too much
            });
        });

        // Resize Handler
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>
